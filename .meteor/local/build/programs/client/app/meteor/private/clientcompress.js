(function(){!function(){var e,t;(function(){t={}}).call(this),function(){(function(){var e=this,n=e._,i={},o=Array.prototype,r=Object.prototype,s=Function.prototype,a=o.push,l=o.slice,c=o.concat,u=r.toString,d=r.hasOwnProperty,h=o.forEach,f=o.map,p=o.reduce,g=o.reduceRight,m=o.filter,v=o.every,y=o.some,b=o.indexOf,w=o.lastIndexOf,_=Array.isArray,C=Object.keys,E=s.bind,A=function(e){return e instanceof A?e:this instanceof A?(this._wrapped=e,void 0):new A(e)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=A),t._=A):e._=A,A.VERSION="1.5.2";var F=function(e){return"[object Arguments]"===u.call(e)};F(arguments)||(F=function(e){return!(!e||!d.call(e,"callee")||"function"!=typeof e.callee)});var k=function(e){return e.length===+e.length&&(F(e)||e.constructor!==Object)},x=A.each=A.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(k(e)){for(var o=0,r=e.length;r>o;o++)if(t.call(n,e[o],o,e)===i)return}else for(var s=A.keys(e),o=0,r=s.length;r>o;o++)if(t.call(n,e[s[o]],s[o],e)===i)return};A.map=A.collect=function(e,t,n){var i=[];return null==e?i:f&&e.map===f?e.map(t,n):(x(e,function(e,o,r){i.push(t.call(n,e,o,r))}),i)};var S="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=A.bind(t,i)),o?e.reduce(t,n):e.reduce(t);if(x(e,function(e,r,s){o?n=t.call(i,n,e,r,s):(n=e,o=!0)}),!o)throw new TypeError(S);return n},A.reduceRight=A.foldr=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return i&&(t=A.bind(t,i)),o?e.reduceRight(t,n):e.reduceRight(t);var r=e.length;if(!k(e)){var s=A.keys(e);r=s.length}if(x(e,function(a,l,c){l=s?s[--r]:--r,o?n=t.call(i,n,e[l],l,c):(n=e[l],o=!0)}),!o)throw new TypeError(S);return n},A.find=A.detect=function(e,t,n){var i;return D(e,function(e,o,r){return t.call(n,e,o,r)?(i=e,!0):void 0}),i},A.filter=A.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(x(e,function(e,o,r){t.call(n,e,o,r)&&i.push(e)}),i)},A.reject=function(e,t,n){return A.filter(e,function(e,i,o){return!t.call(n,e,i,o)},n)},A.every=A.all=function(e,t,n){t||(t=A.identity);var o=!0;return null==e?o:v&&e.every===v?e.every(t,n):(x(e,function(e,r,s){return(o=o&&t.call(n,e,r,s))?void 0:i}),!!o)};var D=A.some=A.any=function(e,t,n){t||(t=A.identity);var o=!1;return null==e?o:y&&e.some===y?e.some(t,n):(x(e,function(e,r,s){return o||(o=t.call(n,e,r,s))?i:void 0}),!!o)};A.contains=A.include=function(e,t){return null==e?!1:b&&e.indexOf===b?-1!=e.indexOf(t):D(e,function(e){return e===t})},A.invoke=function(e,t){var n=l.call(arguments,2),i=A.isFunction(t);return A.map(e,function(e){return(i?t:e[t]).apply(e,n)})},A.pluck=function(e,t){return A.map(e,function(e){return e[t]})},A.where=function(e,t,n){return A.isEmpty(t)?n?void 0:[]:A[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},A.findWhere=function(e,t){return A.where(e,t,!0)},A.max=function(e,t,n){if(!t&&A.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&A.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return x(e,function(e,o,r){var s=t?t.call(n,e,o,r):e;s>i.computed&&(i={value:e,computed:s})}),i.value},A.min=function(e,t,n){if(!t&&A.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&A.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return x(e,function(e,o,r){var s=t?t.call(n,e,o,r):e;s<i.computed&&(i={value:e,computed:s})}),i.value},A.shuffle=function(e){var t,n=0,i=[];return x(e,function(e){t=A.random(n++),i[n-1]=i[t],i[t]=e}),i},A.sample=function(e,t,n){return arguments.length<2||n?e[A.random(e.length-1)]:A.shuffle(e).slice(0,Math.max(0,t))};var B=function(e){return A.isFunction(e)?e:function(t){return t[e]}};A.sortBy=function(e,t,n){var i=B(t);return A.pluck(A.map(e,function(e,t,o){return{value:e,index:t,criteria:i.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,i){var o={},r=null==n?A.identity:B(n);return x(t,function(n,s){var a=r.call(i,n,s,t);e(o,a,n)}),o}};A.groupBy=T(function(e,t,n){(A.has(e,t)?e[t]:e[t]=[]).push(n)}),A.indexBy=T(function(e,t,n){e[t]=n}),A.countBy=T(function(e,t){A.has(e,t)?e[t]++:e[t]=1}),A.sortedIndex=function(e,t,n,i){n=null==n?A.identity:B(n);for(var o=n.call(i,t),r=0,s=e.length;s>r;){var a=r+s>>>1;n.call(i,e[a])<o?r=a+1:s=a}return r},A.toArray=function(e){return e?A.isArray(e)?l.call(e):k(e)?A.map(e,A.identity):A.values(e):[]},A.size=function(e){return null==e?0:k(e)?e.length:A.keys(e).length},A.first=A.head=A.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:l.call(e,0,t)},A.initial=function(e,t,n){return l.call(e,0,e.length-(null==t||n?1:t))},A.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},A.rest=A.tail=A.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},A.compact=function(e){return A.filter(e,A.identity)};var $=function(e,t,n){return t&&A.every(e,A.isArray)?c.apply(n,e):(x(e,function(e){A.isArray(e)||A.isArguments(e)?t?a.apply(n,e):$(e,t,n):n.push(e)}),n)};A.flatten=function(e,t){return $(e,t,[])},A.without=function(e){return A.difference(e,l.call(arguments,1))},A.uniq=A.unique=function(e,t,n,i){A.isFunction(t)&&(i=n,n=t,t=!1);var o=n?A.map(e,n,i):e,r=[],s=[];return x(o,function(n,i){(t?i&&s[s.length-1]===n:A.contains(s,n))||(s.push(n),r.push(e[i]))}),r},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(e){var t=l.call(arguments,1);return A.filter(A.uniq(e),function(e){return A.every(t,function(t){return A.indexOf(t,e)>=0})})},A.difference=function(e){var t=c.apply(o,l.call(arguments,1));return A.filter(e,function(e){return!A.contains(t,e)})},A.zip=function(){for(var e=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=A.pluck(arguments,""+n);return t},A.object=function(e,t){if(null==e)return{};for(var n={},i=0,o=e.length;o>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},A.indexOf=function(e,t,n){if(null==e)return-1;var i=0,o=e.length;if(n){if("number"!=typeof n)return i=A.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,o+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;o>i;i++)if(e[i]===t)return i;return-1},A.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(w&&e.lastIndexOf===w)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=i?n:e.length;o--;)if(e[o]===t)return o;return-1},A.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=0,r=new Array(i);i>o;)r[o++]=e,e+=n;return r};var L=function(){};A.bind=function(e,t){var n,i;if(E&&e.bind===E)return E.apply(e,l.call(arguments,1));if(!A.isFunction(e))throw new TypeError;return n=l.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(l.call(arguments)));L.prototype=e.prototype;var o=new L;L.prototype=null;var r=e.apply(o,n.concat(l.call(arguments)));return Object(r)===r?r:o}},A.partial=function(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}},A.bindAll=function(e){var t=l.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return x(t,function(t){e[t]=A.bind(e[t],e)}),e},A.memoize=function(e,t){var n={};return t||(t=A.identity),function(){var i=t.apply(this,arguments);return A.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},A.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},A.defer=function(e){return A.delay.apply(A,[e,1].concat(l.call(arguments,1)))},A.throttle=function(e,t,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:new Date,s=null,r=e.apply(i,o)};return function(){var c=new Date;a||n.leading!==!1||(a=c);var u=t-(c-a);return i=this,o=arguments,0>=u?(clearTimeout(s),s=null,a=c,r=e.apply(i,o)):s||n.trailing===!1||(s=setTimeout(l,u)),r}},A.debounce=function(e,t,n){var i,o,r,s,a;return function(){r=this,o=arguments,s=new Date;var l=function(){var c=new Date-s;t>c?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(r,o)))},c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(r,o)),a}},A.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},A.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},A.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},A.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},A.keys=C||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)A.has(e,n)&&t.push(n);return t},A.values=function(e){for(var t=A.keys(e),n=t.length,i=new Array(n),o=0;n>o;o++)i[o]=e[t[o]];return i},A.pairs=function(e){for(var t=A.keys(e),n=t.length,i=new Array(n),o=0;n>o;o++)i[o]=[t[o],e[t[o]]];return i},A.invert=function(e){for(var t={},n=A.keys(e),i=0,o=n.length;o>i;i++)t[e[n[i]]]=n[i];return t},A.functions=A.methods=function(e){var t=[];for(var n in e)A.isFunction(e[n])&&t.push(n);return t.sort()},A.extend=function(e){return x(l.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},A.pick=function(e){var t={},n=c.apply(o,l.call(arguments,1));return x(n,function(n){n in e&&(t[n]=e[n])}),t},A.omit=function(e){var t={},n=c.apply(o,l.call(arguments,1));for(var i in e)A.contains(n,i)||(t[i]=e[i]);return t},A.defaults=function(e){return x(l.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},A.clone=function(e){return A.isObject(e)?A.isArray(e)?e.slice():A.extend({},e):e},A.tap=function(e,t){return t(e),e};var M=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof A&&(e=e._wrapped),t instanceof A&&(t=t._wrapped);var o=u.call(e);if(o!=u.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!(A.isFunction(s)&&s instanceof s&&A.isFunction(a)&&a instanceof a))return!1;n.push(e),i.push(t);var l=0,c=!0;if("[object Array]"==o){if(l=e.length,c=l==t.length)for(;l--&&(c=M(e[l],t[l],n,i)););}else{for(var d in e)if(A.has(e,d)&&(l++,!(c=A.has(t,d)&&M(e[d],t[d],n,i))))break;if(c){for(d in t)if(A.has(t,d)&&!l--)break;c=!l}}return n.pop(),i.pop(),c};A.isEqual=function(e,t){return M(e,t,[],[])},A.isEmpty=function(e){if(null==e)return!0;if(A.isArray(e)||A.isString(e))return 0===e.length;for(var t in e)if(A.has(e,t))return!1;return!0},A.isElement=function(e){return!(!e||1!==e.nodeType)},A.isArray=_||function(e){return"[object Array]"==u.call(e)},A.isObject=function(e){return e===Object(e)},x(["Arguments","Function","String","Number","Date","RegExp"],function(e){A["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),A.isArguments(arguments)||(A.isArguments=function(e){return!(!e||!A.has(e,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(e){return"function"==typeof e}),A.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},A.isNaN=function(e){return A.isNumber(e)&&e!=+e},A.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},A.isNull=function(e){return null===e},A.isUndefined=function(e){return void 0===e},A.has=function(e,t){return d.call(e,t)},A.noConflict=function(){return e._=n,this},A.identity=function(e){return e},A.times=function(e,t,n){for(var i=Array(Math.max(0,e)),o=0;e>o;o++)i[o]=t.call(n,o);return i},A.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=A.invert(P.escape);var R={escape:new RegExp("["+A.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(P.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(e){A[e]=function(t){return null==t?"":(""+t).replace(R[e],function(t){return P[e][t]})}}),A.result=function(e,t){if(null==e)return void 0;var n=e[t];return A.isFunction(n)?n.call(e):n},A.mixin=function(e){x(A.functions(e),function(t){var n=A[t]=e[t];A.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),H.call(this,n.apply(A,e))}})};var I=0;A.uniqueId=function(e){var t=++I+"";return e?e+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(e,t,n){var i;n=A.defaults({},n,A.templateSettings);var o=new RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(o,function(t,n,i,o,a){return s+=e.slice(r,a).replace(j,function(e){return"\\"+N[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return i(t,A);var l=function(e){return i.call(this,e,A)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},A.chain=function(e){return A(e).chain()};var H=function(e){return this._chain?A(e).chain():e};A.mixin(A),x(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];A.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],H.call(this,n)}}),x(["concat","join","slice"],function(e){var t=o[e];A.prototype[e]=function(){return H.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){e=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:e}}(),function(){var e,t=Package.underscore._;(function(){e={isClient:!0,isServer:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){if(e.isServer)var n=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(e){for(var t=1;t<arguments.length;t++){if(!(arguments[t]in e))return void 0;e=e[arguments[t]]}return e},_ensure:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];n in e||(e[n]={}),e=e[n]}return e},_delete:function(e){for(var t=[e],n=!0,i=1;i<arguments.length-1;i++){var o=arguments[i];if(!(o in e)){n=!1;break}if(e=e[o],"object"!=typeof e)break;t.push(e)}for(var i=t.length-1;i>=0;i--){var o=arguments[i+1];if(n)n=!1;else for(var r in t[i][o])return;delete t[i][o]}},_wrapAsync:function(i){return function(){for(var o,r,s=this,a=t.toArray(arguments),l=function(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0};a.length>0&&"undefined"==typeof a[a.length-1];)a.pop();a.length>0&&a[a.length-1]instanceof Function?o=a.pop():e.isClient?o=l:(r=new n,o=r.resolver()),a.push(e.bindEnvironment(o));var c=i.apply(s,a);return r?r.wait():c}}})}.call(this),function(){"use strict";function t(){if(o.setImmediate){var e=function(e){o.setImmediate(e)};return e.implementation="setImmediate",e}return null}function n(){function e(e,t){return"string"==typeof e&&e.substring(0,t.length)===t}function t(t){if(t.source===o&&e(t.data,a)){var n=t.data.substring(a.length);try{s[n]&&s[n]()}finally{delete s[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,i=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=i,!n)return null;var r=0,s={},a="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",t,!1):o.attachEvent("onmessage",t);var l=function(e){++r,s[r]=e,o.postMessage(a+r,"*")};return l.implementation="postMessage",l}function i(){var e=function(e){o.setTimeout(e,0)};return e.implementation="setTimeout",e}var o=this;e._setImmediate=t()||n()||i()}.call(this),function(){var n=function(e){if(Package.livedata){var t=Package.livedata.DDP._CurrentInvocation;if(t.get()&&t.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){t.withValue(null,e)}}return e},i=function(t,i){return e.bindEnvironment(n(i),t)};t.extend(e,{setTimeout:function(e,t){return setTimeout(i("setTimeout callback",e),t)},setInterval:function(e,t){return setInterval(i("setInterval callback",e),t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},defer:function(t){e._setImmediate(i("defer callback",t))}})}.call(this),function(){var t=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};e.makeErrorType=function(e,n){var i=function(){var t=this;if(Error.captureStackTrace)Error.captureStackTrace(t,i);else{var o=new Error;o.__proto__=i.prototype,o instanceof i&&(t=o)}return n.apply(t,arguments),t.errorType=e,t};return t(i,Error),i},e.Error=e.makeErrorType("Meteor.Error",function(e,t,n){var i=this;i.error=e,i.reason=t,i.details=n,i.message=i.reason?i.reason+" ["+i.error+"]":"["+i.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(e){return e()},e._SynchronousQueue=function(){var e=this;e._tasks=[],e._running=!1},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var i=this;if(!i.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");i._tasks.push(n);var o=i._tasks;i._tasks=[],i._running=!0;try{for(;!t.isEmpty(o);){var r=o.shift();try{r()}catch(s){if(t.isEmpty(o))throw s;e._debug("Exception in queued task: "+s.stack)}}}finally{i._running=!1}},queueTask:function(e){var n=this,i=t.isEmpty(n._tasks);n._tasks.push(e),i&&setTimeout(t.bind(n.flush,n),0)},flush:function(){var e=this;e.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var e=this;return!e._running}})}.call(this),function(){var t=[],n="loaded"===document.readyState||"complete"==document.readyState,i=function(){for(n=!0;t.length;)t.shift()()};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&i()}),window.attachEvent("load",i)),e.startup=function(i){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(r){return setTimeout(function(){e.startup(i)},50),void 0}i()}else n?i():t.push(i)}}.call(this),function(){var t=0;e._debug=function(){if(t)return t--,void 0;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var i=Function.prototype.bind.call(console.log,console);i.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e}}.call(this),function(){var n=0,i=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return i[this.slot]},withValue:function(e,t){var n=i[this.slot];try{i[this.slot]=e;var o=t()}finally{i[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,r){var s=t.clone(i);if(!o||"string"==typeof o){var a=o||"callback of async function";o=function(t){e._debug("Exception in "+a+":",t&&t.stack||t)}}return function(){var e=i;try{i=s;var a=n.apply(r,t.toArray(arguments))}catch(l){o(l)}finally{i=e}return a}}}.call(this),function(){e.absoluteUrl=function(n,i){i||"object"!=typeof n||(i=n,n=void 0),i=t.extend({},e.absoluteUrl.defaultOptions,i||{});var o=i.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),i.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),i.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(e){return"object"==typeof __meteor_runtime_config__&&"/"===e.substr(0,1)&&(e=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+e),e}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}(),function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,r,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)s[n]=str(n,l)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],o=str(i,l),o&&s.push(quote(i)+(gap?": ":":")+o));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o=str(i,l),o&&s.push(quote(i)+(gap?": ":":")+o));return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=walk(o,n),void 0!==i?o[n]=i:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}(),function(){var e,t,n,i,o=(Package.meteor.Meteor,Package.json.JSON),r=Package.underscore._;(function(){e={},t={};var s={};e.addType=function(e,t){if(r.has(s,e))throw new Error("Type "+e+" already present");s[e]=t};var a=function(e){return r.isNaN(e)||1/0===e||e===-1/0},l=[{matchJSONValue:function(e){return r.has(e,"$date")&&1===r.size(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return r.has(e,"$InfNaN")&&1===r.size(e)},matchObject:a,toJSONValue:function(e){var t;return t=r.isNaN(e)?0:1/0===e?1:-1,{$InfNaN:t}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return r.has(e,"$binary")&&1===r.size(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&r.has(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:n(e)}},fromJSONValue:function(e){return i(e.$binary)}},{matchJSONValue:function(e){return r.has(e,"$escape")&&1===r.size(e)},matchObject:function(e){return r.isEmpty(e)||r.size(e)>2?!1:r.any(l,function(t){return t.matchJSONValue(e)})},toJSONValue:function(t){var n={};return r.each(t,function(t,i){n[i]=e.toJSONValue(t)}),{$escape:n}},fromJSONValue:function(t){var n={};return r.each(t.$escape,function(t,i){n[i]=e.fromJSONValue(t)}),n}},{matchJSONValue:function(e){return r.has(e,"$type")&&r.has(e,"$value")&&2===r.size(e)},matchObject:function(t){return e._isCustomType(t)},toJSONValue:function(e){return{$type:e.typeName(),$value:e.toJSONValue()}},fromJSONValue:function(e){var t=e.$type,n=s[t];return n(e.$value)}}];e._isCustomType=function(e){return e&&"function"==typeof e.toJSONValue&&"function"==typeof e.typeName&&r.has(s,e.typeName())};var c=e._adjustTypesToJSONValue=function(e){if(null===e)return null;var t=u(e);return void 0!==t?t:"object"!=typeof e?e:(r.each(e,function(t,n){if("object"==typeof t||void 0===t||a(t)){var i=u(t);return i?(e[n]=i,void 0):(c(t),void 0)}}),e)},u=function(e){for(var t=0;t<l.length;t++){var n=l[t];if(n.matchObject(e))return n.toJSONValue(e)}return void 0};e.toJSONValue=function(t){var n=u(t);return void 0!==n?n:("object"==typeof t&&(t=e.clone(t),c(t)),t)};var d=e._adjustTypesFromJSONValue=function(e){if(null===e)return null;var t=h(e);return t!==e?t:"object"!=typeof e?e:(r.each(e,function(t,n){if("object"==typeof t){var i=h(t);if(t!==i)return e[n]=i,void 0;d(t)}}),e)},h=function(e){if("object"==typeof e&&null!==e&&r.size(e)<=2&&r.all(e,function(e,t){return"string"==typeof t&&"$"===t.substr(0,1)}))for(var t=0;t<l.length;t++){var n=l[t];if(n.matchJSONValue(e))return n.fromJSONValue(e)}return e};e.fromJSONValue=function(t){var n=h(t);return n===t&&"object"==typeof t?(t=e.clone(t),d(t),t):n},e.stringify=function(t,n){var i=e.toJSONValue(t);return n&&(n.canonical||n.indent)?e._canonicalStringify(i,n):o.stringify(i)},e.parse=function(t){if("string"!=typeof t)throw new Error("EJSON.parse argument should be a string");return e.fromJSONValue(o.parse(t))},e.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},e.equals=function(t,n,i){var o,s=!(!i||!i.keyOrderSensitive);if(t===n)return!0;if(r.isNaN(t)&&r.isNaN(n))return!0;if(!t||!n)return!1;if("object"!=typeof t||"object"!=typeof n)return!1;if(t instanceof Date&&n instanceof Date)return t.valueOf()===n.valueOf();if(e.isBinary(t)&&e.isBinary(n)){if(t.length!==n.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}if("function"==typeof t.equals)return t.equals(n,i);if("function"==typeof n.equals)return n.equals(t,i);if(t instanceof Array){if(!(n instanceof Array))return!1;if(t.length!==n.length)return!1;for(o=0;o<t.length;o++)if(!e.equals(t[o],n[o],i))return!1;return!0}switch(e._isCustomType(t)+e._isCustomType(n)){case 1:return!1;case 2:return e.equals(e.toJSONValue(t),e.toJSONValue(n))}var a;if(s){var l=[];return r.each(n,function(e,t){l.push(t)}),o=0,a=r.all(t,function(t,r){return o>=l.length?!1:r!==l[o]?!1:e.equals(t,n[l[o]],i)?(o++,!0):!1}),a&&o===l.length}return o=0,a=r.all(t,function(t,s){return r.has(n,s)?e.equals(t,n[s],i)?(o++,!0):!1:!1}),a&&r.size(n)===o},e.clone=function(t){var n;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return new Date(t.getTime());if(e.isBinary(t)){n=e.newBinary(t.length);for(var i=0;i<t.length;i++)n[i]=t[i];return n}if(r.isArray(t)||r.isArguments(t)){for(n=[],i=0;i<t.length;i++)n[i]=e.clone(t[i]);return n}return"function"==typeof t.clone?t.clone():e._isCustomType(t)?e.fromJSONValue(e.clone(e.toJSONValue(t)),!0):(n={},r.each(t,function(t,i){n[i]=e.clone(t)}),n)}}).call(this),function(){function t(e){return o.stringify(e)}var n=function(e,i,o,s,a){var l,c,u,d,h=s,f=i[e];switch(typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":return String(f);case"object":if(!f)return"null";if(h=s+o,d=[],r.isArray(f)||r.isArguments(f)){for(u=f.length,l=0;u>l;l+=1)d[l]=n(l,f,o,h,a)||"null";return c=0===d.length?"[]":h?"[\n"+h+d.join(",\n"+h)+"\n"+s+"]":"["+d.join(",")+"]"}var p=r.keys(f);return a&&(p=p.sort()),r.each(p,function(e){c=n(e,f,o,h,a),c&&d.push(t(e)+(h?": ":":")+c)}),c=0===d.length?"{}":h?"{\n"+h+d.join(",\n"+h)+"\n"+s+"}":"{"+d.join(",")+"}"}};e._canonicalStringify=function(e,t){if(t=r.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var i="",o=0;o<t.indent;o++)i+=" ";t.indent=i}return n("",{"":e},t.indent,"",t.canonical)}}.call(this),function(){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={},s=0;s<o.length;s++)r[o.charAt(s)]=s;n=function(e){for(var t=[],n=null,i=null,o=null,r=null,s=0;s<e.length;s++)switch(s%3){case 0:n=e[s]>>2&63,i=(3&e[s])<<4;break;case 1:i|=e[s]>>4&15,o=(15&e[s])<<2;break;case 2:o|=e[s]>>6&3,r=63&e[s],t.push(a(n)),t.push(a(i)),t.push(a(o)),t.push(a(r)),n=null,i=null,o=null,r=null}return null!=n&&(t.push(a(n)),t.push(a(i)),null==o?t.push("="):t.push(a(o)),null==r&&t.push("=")),t.join("")};var a=function(e){return o.charAt(e)},l=function(e){return"="===e?-1:r[e]};e.newBinary=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;e>n;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},i=function(t){var n=Math.floor(3*t.length/4);"="==t.charAt(t.length-1)&&(n--,"="==t.charAt(t.length-2)&&n--);for(var i=e.newBinary(n),o=null,r=null,s=null,a=0,c=0;c<t.length;c++){var u=t.charAt(c),d=l(u);switch(c%4){case 0:if(0>d)throw new Error("invalid base64 string");o=d<<2;break;case 1:if(0>d)throw new Error("invalid base64 string");o|=d>>4,i[a++]=o,r=(15&d)<<4;break;case 2:d>=0&&(r|=d>>2,i[a++]=r,s=(3&d)<<6);break;case 3:d>=0&&(i[a++]=s|d)}}return i},t.base64Encode=n,t.base64Decode=i}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:e,EJSONTest:t}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,i=Package.ejson.EJSON;(function(){e=function(){return e.info.apply(this,arguments)};var o=0,r=[],s=0;e._intercept=function(e){o+=e},e._suppress=function(e){s+=e},e._intercepted=function(){var e=r;return r=[],o=0,e},e.outputFormat="json";var a={debug:"green",warn:"magenta",error:"red"},l="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=c.concat(["app","message"]),d=function(n){var i=e.format(n),o=n.level;
"undefined"!=typeof console&&console[o]?console[o](i):t._debug(i)};e._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var n,i=t.split("\n"),o=1;o<i.length;++o){if(n=i[o],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/logging(?:\/|(?::tests)?\.js)/))break}var r={},s=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return s?(r.line=s[2].split(":")[0],r.file=s[1].split("/").slice(-1)[0].split("?")[0],r):r},n.each(["debug","info","warn","error"],function(a){e[a]=function(l){if(s)return s--,void 0;var u=!1;o&&(o--,u=!0);var h=!n.isObject(l)||n.isRegExp(l)||n.isDate(l)?{message:new String(l).toString()}:l;if(n.each(c,function(e){if(h[e])throw new Error("Can't set '"+e+"' in log message")}),n.has(h,"message")&&!n.isString(h.message))throw new Error("The 'message' field in log objects must be a string");if(h.omitCallerDetails||(h=n.extend(e._getCallerDetails(),h)),h.time=new Date,h.level=a,"debug"!==a)if(u)r.push(i.stringify(h));else if(t.isServer)if("colored-text"===e.outputFormat)console.log(e.format(h,{color:!0}));else{if("json"!==e.outputFormat)throw new Error("Unknown logging output format: "+e.outputFormat);console.log(i.stringify(h))}else d(h)}}),e.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=i.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},e.format=function(e,o){e=i.clone(e),o=o||{};var r=e.time;if(!(r instanceof Date))throw new Error("'time' must be a Date object");var s=e.timeInexact,c=e.level||"info",d=e.file,h=e.line,f=e.app||"",p=e.originApp,g=e.message||"",m=e.program||"",v=e.satellite,y=e.stderr||"";n.each(u,function(t){delete e[t]}),n.isEmpty(e)||(g&&(g+=" "),g+=i.stringify(e));var b=function(e){return 10>e?"0"+e:e.toString()},w=function(e){return 100>e?"0"+b(e):e.toString()},_=r.getFullYear().toString()+b(r.getMonth()+1)+b(r.getDate()),C=b(r.getHours())+":"+b(r.getMinutes())+":"+b(r.getSeconds())+"."+w(r.getMilliseconds()),E="("+-((new Date).getTimezoneOffset()/60)+")",A="";f&&(A+=f),p&&p!==f&&(A+=" via "+p),A&&(A="["+A+"] ");var F=d&&h?["(",m?m+":":"",d,":",h,") "].join(""):"";v&&(F+=["[",v,"]"].join(""));var k=y?"(STDERR) ":"",x=[c.charAt(0).toUpperCase(),_,"-",C,E,s?"? ":" ",A,F,k].join(""),S=function(e,n){return o.color&&t.isServer&&n?Npm.require("cli-color")[n](e):e};return S(x,l)+S(g,a[c])},e.objFromText=function(e,t){var i={message:e,level:"info",time:new Date,timeInexact:!0};return n.extend(i,t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,i=(Package.logging.Log,Package.json.JSON);(function(){var o,r="Meteor_Reload",s=3e4,a={};"undefined"!=typeof sessionStorage&&sessionStorage&&(o=sessionStorage.getItem(r),sessionStorage.removeItem(r)),o||(o="{}");var l={};try{l=i.parse(o),"object"!=typeof l&&(t._debug("Got bad data on reload. Ignoring."),l={})}catch(c){t._debug("Got invalid JSON on reload. Ignoring.")}l.reload&&"object"==typeof l.data&&l.time+s>(new Date).getTime()&&(a=l.data);var u=[];e={},e._onMigrate=function(e,t){t||(t=e,e=void 0),u.push({name:e,callback:t})},e._migrationData=function(e){return a[e]};var d=!1;e._reload=function(){if(!d){d=!0;var e=function(){n.defer(function(){for(var o={},s=n.clone(u);s.length;){var a=s.shift(),l=a.callback(e);if(!l[0])return;l.length>1&&a.name&&(o[a.name]=l[1])}try{var c=i.stringify({time:(new Date).getTime(),data:o,reload:!0})}catch(d){throw t._debug("Couldn't serialize data for migration",o),d}"undefined"!=typeof sessionStorage&&sessionStorage?sessionStorage.setItem(r,c):t._debug("Browser does not support sessionStorage. Not saving migration state."),window.location.reload()})};e()}}}).call(this),function(){t._reload={onMigrate:e._onMigrate,migrationData:e._migrationData,reload:e._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._;(function(){e={},e.active=!1,e.currentComputation=null;var i=function(t){e.currentComputation=t,e.active=!!t},o=function(){return"undefined"!=typeof t?t._debug:"undefined"!=typeof console&&console.log?console.log:function(){}},r=1,s=[],a=!1,l=!1,c=!1,u=[],d=function(){a||(setTimeout(e.flush,0),a=!0)},h=!1;e.Computation=function(e,t){if(!h)throw new Error("Deps.Computation constructor is private; use Deps.autorun");h=!1;var n=this;n.stopped=!1,n.invalidated=!1,n.firstRun=!0,n._id=r++,n._onInvalidateCallbacks=[],n._parent=t,n._func=e,n._recomputing=!1;var i=!0;try{n._compute(),i=!1}finally{n.firstRun=!1,i&&n.stop()}},n.extend(e.Computation.prototype,{onInvalidate:function(n){var i=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");var o=function(){e.nonreactive(function(){return t._noYieldsAllowed(function(){n(i)})})};i.invalidated?o():i._onInvalidateCallbacks.push(o)},invalidate:function(){var e=this;if(!e.invalidated){e._recomputing||e.stopped||(d(),s.push(this)),e.invalidated=!0;for(var t,n=0;t=e._onInvalidateCallbacks[n];n++)t();e._onInvalidateCallbacks=[]}},stop:function(){this.stopped||(this.stopped=!0,this.invalidate())},_compute:function(){var t=this;t.invalidated=!1;var n=e.currentComputation;i(t);c=!0;try{t._func(t)}finally{i(n),c=!1}},_recompute:function(){var e=this;for(e._recomputing=!0;e.invalidated&&!e.stopped;)try{e._compute()}catch(t){o()("Exception from Deps recompute:",t.stack||t.message)}e._recomputing=!1}}),e.Dependency=function(){this._dependentsById={}},n.extend(e.Dependency.prototype,{depend:function(t){if(!t){if(!e.active)return!1;t=e.currentComputation}var n=this,i=t._id;return i in n._dependentsById?!1:(n._dependentsById[i]=t,t.onInvalidate(function(){delete n._dependentsById[i]}),!0)},changed:function(){var e=this;for(var t in e._dependentsById)e._dependentsById[t].invalidate()},hasDependents:function(){var e=this;for(var t in e._dependentsById)return!0;return!1}}),n.extend(e,{flush:function(){if(l)throw new Error("Can't call Deps.flush while flushing");if(c)throw new Error("Can't flush inside Deps.autorun");for(l=!0,a=!0;s.length||u.length;){var e=s;s=[];for(var t,n=0;t=e[n];n++)t._recompute();if(u.length){var i=u.shift();try{i()}catch(r){o()("Exception from Deps afterFlush function:",r.stack||r.message)}}}l=!1,a=!1},autorun:function(i){if("function"!=typeof i)throw new Error("Deps.autorun requires a function argument");h=!0;var o=new e.Computation(function(e){t._noYieldsAllowed(n.bind(i,this,e))},e.currentComputation);return e.active&&e.onInvalidate(function(){o.stop()}),o},nonreactive:function(t){var n=e.currentComputation;i(null);try{return t()}finally{i(n)}},_makeNonreactive:function(t){if(t.$isNonreactive)return t;var i=function(){var i,o=this,r=n.toArray(arguments);return e.nonreactive(function(){i=t.apply(o,r)}),i};return i.$isNonreactive=!0,i},onInvalidate:function(t){if(!e.active)throw new Error("Deps.onInvalidate requires a currentComputation");e.currentComputation.onInvalidate(t)},afterFlush:function(e){u.push(e),d()}})}).call(this),function(){t.flush=e.flush,t.autorun=e.autorun,t.autosubscribe=e.autorun,e.depend=function(e){return e.depend()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.deps={Deps:e}}(),function(){{var e,t=Package.meteor.Meteor;Package.underscore._}(function(){if(t.isServer)var n=Npm.require("crypto");var i=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var i=.02519603282416938*e;e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=4294967296*i}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}return function(t){var n=0,i=0,o=0,r=1;0==t.length&&(t=[+new Date]);var s=e();n=s(" "),i=s(" "),o=s(" ");for(var a=0;a<t.length;a++)n-=s(t[a]),0>n&&(n+=1),i-=s(t[a]),0>i&&(i+=1),o-=s(t[a]),0>o&&(o+=1);s=null;var l=function(){var e=2091639*n+2.3283064365386963e-10*r;return n=i,i=o,o=e-(r=0|e)};return l.uint32=function(){return 4294967296*l()},l.fract53=function(){return l()+1.1102230246251565e-16*(2097152*l()|0)},l.version="Alea 0.9",l.args=t,l}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",r=function(e){var t=this;void 0!==e&&(t.alea=i.apply(null,e))};r.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var i=new Uint32Array(1);return window.crypto.getRandomValues(i),2.3283064365386963e-10*i[0]}},r.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var i,o=Math.ceil(e/2);try{i=n.randomBytes(o)}catch(r){i=n.pseudoRandomBytes(o)}var s=i.toString("hex");return s.substring(0,e)}for(var a=[],l=0;e>l;++l)a.push(t.choice("0123456789abcdef"));return a.join("")},r.prototype.id=function(){for(var e=[],t=this,n=0;17>n;n++)e[n]=t.choice(o);return e.join("")},r.prototype.choice=function(e){var t=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(t,1):e[t]};var s="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,a="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,l="undefined"!=typeof navigator&&navigator.userAgent||"";e=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new r:new r([new Date,s,a,l,Math.random()]),e.create=function(){return new r(arguments)}}).call(this),function(){t.uuid=function(){for(var t="0123456789abcdef",n=[],i=0;36>i;i++)n[i]=e.choice(t);n[14]="4",n[19]=t.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._),n=Package.random.Random;(function(){e=function(e){var n=this;t.extend(n,t.defaults(t.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),n.retryTimer=null},t.extend(e.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var i=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return i*=n.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(e,t){var n=this,i=n._timeout(e);return n.retryTimer&&clearTimeout(n.retryTimer),n.retryTimer=setTimeout(t,i),i}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:e}}(),function(){var e,t,n=Package.meteor.Meteor,i=Package.underscore._,o=Package.ejson.EJSON;(function(){var r=new n.EnvironmentVariable;e=function(e,n){var i=r.get();i&&i.checking(e);try{d(e,n)}catch(o){throw o instanceof t.Error&&o.path&&(o.message+=" in field "+o.path),o}},t={Optional:function(e){return new s(e)},OneOf:function(){return new a(i.toArray(arguments))},Any:["__any__"],Where:function(e){return new l(e)},ObjectIncluding:function(e){return new c(e)},Integer:["__integer__"],Error:n.makeErrorType("Match.Error",function(e){this.message="Match error: "+e,this.path="",this.sanitizedError=new n.Error(400,"Match failed")}),test:function(e,n){try{return d(e,n),!0}catch(i){if(i instanceof t.Error)return!1;throw i}},_failIfArgumentsAreNotAllChecked:function(e,t,n,i){var o=new h(n,i),s=r.withValue(o,function(){return e.apply(t,n)});return o.throwUnlessAllArgumentsHaveBeenChecked(),s}};var s=function(e){this.pattern=e},a=function(e){if(i.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},l=function(e){this.condition=e},c=function(e){this.pattern=e},u=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],d=function(e,n){if(n!==t.Any){for(var r=0;r<u.length;++r)if(n===u[r][0]){if(typeof e===u[r][1])return;throw new t.Error("Expected "+u[r][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new t.Error("Expected null, got "+o.stringify(e))}if(n===t.Integer){if("number"==typeof e&&(0|e)===e)return;throw new t.Error("Expected Integer, got "+(e instanceof Object?o.stringify(e):e))}if(n===Object&&(n=t.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+o.stringify(n));if(!i.isArray(e)&&!i.isArguments(e))throw new t.Error("Expected array, got "+o.stringify(e));return i.each(e,function(e,i){try{d(e,n[0])}catch(o){throw o instanceof t.Error&&(o.path=p(i,o.path)),o}}),void 0}if(n instanceof l){if(n.condition(e))return;throw new t.Error("Failed Match.Where validation")}if(n instanceof s&&(n=t.OneOf(void 0,n.pattern)),n instanceof a){for(var r=0;r<n.choices.length;++r)try{return d(e,n.choices[r]),void 0}catch(h){if(!(h instanceof t.Error))throw h}throw new t.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new t.Error("Expected "+n.name)}var f=!1;if(n instanceof c&&(f=!0,n=n.pattern),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new t.Error("Expected object, got "+typeof e);if(null===e)throw new t.Error("Expected object, got null");if(e.constructor!==Object)throw new t.Error("Expected plain object");var g={},m={};i.each(n,function(e,t){e instanceof s?m[t]=e.pattern:g[t]=e}),i.each(e,function(e,n){try{if(i.has(g,n))d(e,g[n]),delete g[n];else if(i.has(m,n))d(e,m[n]);else if(!f)throw new t.Error("Unknown key")}catch(o){throw o instanceof t.Error&&(o.path=p(n,o.path)),o}}),i.each(g,function(e,n){throw new t.Error("Missing key '"+n+"'")})}},h=function(e,t){var n=this;n.args=i.clone(e),n.args.reverse(),n.description=t};i.extend(h.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(i.isArray(e)||i.isArguments(e))&&i.each(e,i.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n])return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!i.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var f=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],p=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||i.contains(f,e))&&(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:e,Match:t}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){var n=function(e,t,n,i){return{key:e,value:t,next:n,prev:i}};e=function(){var e=this;e._dict={},e._first=null,e._last=null,e._size=0;var n=t.toArray(arguments);e._stringify=function(e){return e},"function"==typeof n[0]&&(e._stringify=n.shift()),t.each(n,function(t){e.putBefore(t[0],t[1],null)})},t.extend(e.prototype,{_k:function(e){return" "+this._stringify(e)},empty:function(){var e=this;return!e._first},size:function(){var e=this;return e._size},_linkEltIn:function(e){var t=this;e.next?(e.prev=e.next.prev,e.next.prev=e,e.prev&&(e.prev.next=e)):(e.prev=t._last,t._last&&(t._last.next=e),t._last=e),(null===t._first||t._first===e.next)&&(t._first=e)},_linkEltOut:function(e){var t=this;e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===t._last&&(t._last=e.prev),e===t._first&&(t._first=e.next)},putBefore:function(e,t,i){var o=this;if(o._dict[o._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var r=i?n(e,t,o._dict[o._k(i)]):n(e,t,null);if(void 0===r.next)throw new Error("could not find item to put this one before");o._linkEltIn(r),o._dict[o._k(e)]=r,o._size++},append:function(e,t){var n=this;n.putBefore(e,t,null)},remove:function(e){var t=this,n=t._dict[t._k(e)];if(void 0===n)throw new Error("Item "+e+" not present in OrderedDict");return t._linkEltOut(n),t._size--,delete t._dict[t._k(e)],n.value},get:function(e){var t=this;return t.has(e)?t._dict[t._k(e)].value:void 0},has:function(e){var n=this;return t.has(n._dict,n._k(e))},forEach:function(t){for(var n=this,i=0,o=n._first;null!==o;){var r=t(o.value,o.key,i);if(r===e.BREAK)return;o=o.next,i++}},first:function(){var e=this;return e.empty()?void 0:e._first.key},firstValue:function(){var e=this;return e.empty()?void 0:e._first.value},last:function(){var e=this;return e.empty()?void 0:e._last.key},lastValue:function(){var e=this;return e.empty()?void 0:e._last.value},prev:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.prev)return n.prev.key}return null},next:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.next)return n.next.key}return null},moveBefore:function(e,t){var n=this,i=n._dict[n._k(e)],o=t?n._dict[n._k(t)]:null;if(void 0===i)throw new Error("Item to move is not present");if(void 0===o)throw new Error("Could not find element to move this one before");o!==i.next&&(n._linkEltOut(i),i.next=o,n._linkEltIn(i))},indexOf:function(t){var n=this,i=null;return n.forEach(function(o,r,s){return n._k(r)===n._k(t)?(i=s,e.BREAK):void 0}),i},_checkRep:function(){var e=this;t.each(e._dict,function(e,t){if(t.next===t)throw new Error("Next is a loop");if(t.prev===t)throw new Error("Prev is a loop")})}}),e.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:e}}(),function(){{var e,t;Package.meteor.Meteor}(function(){t={exports:{}}}).call(this),function(){!function(){function e(e){for(var t=[],n=[],i=0;i<e[0].length;i++)t.push(e[0][i][1]),n.push(e[0][i][0]);return t=t.sort(function(e,t){return e-t}),n=n.sort(function(e,t){return e-t}),[[t[0],n[0]],[t[t.length-1],n[n.length-1]]]}function n(e,t,n){for(var i=[[0,0]],o=0;o<n.length;o++){for(var r=0;r<n[o].length;r++)i.push(n[o][r]);i.push([0,0])}for(var s=!1,o=0,r=i.length-1;o<i.length;r=o++)i[o][0]>t!=i[r][0]>t&&e<(i[r][1]-i[o][1])*(t-i[o][0])/(i[r][0]-i[o][0])+i[o][1]&&(s=!s);return s}var i={};"undefined"!=typeof t&&t.exports&&(t.exports=i),i.lineStringsIntersect=function(e,t){for(var n=[],i=0;i<=e.coordinates.length-2;++i)for(var o=0;o<=t.coordinates.length-2;++o){var r={x:e.coordinates[i][1],y:e.coordinates[i][0]},s={x:e.coordinates[i+1][1],y:e.coordinates[i+1][0]},a={x:t.coordinates[o][1],y:t.coordinates[o][0]},l={x:t.coordinates[o+1][1],y:t.coordinates[o+1][0]},c=(l.x-a.x)*(r.y-a.y)-(l.y-a.y)*(r.x-a.x),u=(s.x-r.x)*(r.y-a.y)-(s.y-r.y)*(r.x-a.x),d=(l.y-a.y)*(s.x-r.x)-(l.x-a.x)*(s.y-r.y);if(0!=d){var h=c/d,f=u/d;h>=0&&1>=h&&f>=0&&1>=f&&n.push({type:"Point",coordinates:[r.x+h*(s.x-r.x),r.y+h*(s.y-r.y)]})}}return 0==n.length&&(n=!1),n},i.pointInBoundingBox=function(e,t){return!(e.coordinates[1]<t[0][0]||e.coordinates[1]>t[1][0]||e.coordinates[0]<t[0][1]||e.coordinates[0]>t[1][1])},i.pointInPolygon=function(t,o){for(var r="Polygon"==o.type?[o.coordinates]:o.coordinates,s=!1,a=0;a<r.length;a++)i.pointInBoundingBox(t,e(r[a]))&&(s=!0);if(!s)return!1;for(var l=!1,a=0;a<r.length;a++)n(t.coordinates[1],t.coordinates[0],r[a])&&(l=!0);return l},i.numberToRadius=function(e){return e*Math.PI/180},i.numberToDegree=function(e){return 180*e/Math.PI},i.drawCircle=function(e,t,n){for(var o=[t.coordinates[1],t.coordinates[0]],r=e/1e3/6371,s=[i.numberToRadius(o[0]),i.numberToRadius(o[1])],n=n||15,a=[[o[0],o[1]]],l=0;n>l;l++){var c=2*Math.PI*l/n,u=Math.asin(Math.sin(s[0])*Math.cos(r)+Math.cos(s[0])*Math.sin(r)*Math.cos(c)),d=s[1]+Math.atan2(Math.sin(c)*Math.sin(r)*Math.cos(s[0]),Math.cos(r)-Math.sin(s[0])*Math.sin(u));a[l]=[],a[l][1]=i.numberToDegree(u),a[l][0]=i.numberToDegree(d)}return{type:"Polygon",coordinates:[a]}},i.rectangleCentroid=function(e){var t=e.coordinates[0],n=t[0][0],i=t[0][1],o=t[2][0],r=t[2][1],s=o-n,a=r-i;return{type:"Point",coordinates:[n+s/2,i+a/2]}},i.pointDistance=function(e,t){var n=e.coordinates[0],o=e.coordinates[1],r=t.coordinates[0],s=t.coordinates[1],a=i.numberToRadius(s-o),l=i.numberToRadius(r-n),c=Math.pow(Math.sin(a/2),2)+Math.cos(i.numberToRadius(o))*Math.cos(i.numberToRadius(s))*Math.pow(Math.sin(l/2),2),u=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return 6371*u*1e3},i.geometryWithinRadius=function(e,t,n){if("Point"==e.type)return i.pointDistance(e,t)<=n;if("LineString"==e.type||"Polygon"==e.type){var o,r={};o="Polygon"==e.type?e.coordinates[0]:e.coordinates;for(var s in o)if(r.coordinates=o[s],i.pointDistance(r,t)>n)return!1}return!0},i.area=function(e){for(var t,n,i=0,o=e.coordinates[0],r=o.length-1,s=0;s<o.length;r=s++){var t={x:o[s][1],y:o[s][0]},n={x:o[r][1],y:o[r][0]};i+=t.x*n.y,i-=t.y*n.x}return i/=2},i.centroid=function(e){for(var t,n,o,r=0,s=0,a=e.coordinates[0],l=a.length-1,c=0;c<a.length;l=c++){var n={x:a[c][1],y:a[c][0]},o={x:a[l][1],y:a[l][0]};t=n.x*o.y-o.x*n.y,r+=(n.x+o.x)*t,s+=(n.y+o.y)*t}return t=6*i.area(e),{type:"Point",coordinates:[s/t,r/t]}},i.simplify=function(e,t){t=t||20,e=e.map(function(e){return{lng:e.coordinates[0],lat:e.coordinates[1]}});var n,i,o,r,s,a,l,c,u,d,h,f,p,g,m,v,y,b,w,_=Math.PI/180*.5,C=new Array,E=new Array,A=new Array;if(e.length<3)return e;for(n=e.length,d=360*t/(2*Math.PI*6378137),d*=d,o=0,E[0]=0,A[0]=n-1,i=1;i>0;)if(r=E[i-1],s=A[i-1],i--,s-r>1){for(h=e[s].lng()-e[r].lng(),f=e[s].lat()-e[r].lat(),Math.abs(h)>180&&(h=360-Math.abs(h)),h*=Math.cos(_*(e[s].lat()+e[r].lat())),p=h*h+f*f,a=r+1,l=r,u=-1;s>a;a++)g=e[a].lng()-e[r].lng(),m=e[a].lat()-e[r].lat(),Math.abs(g)>180&&(g=360-Math.abs(g)),g*=Math.cos(_*(e[a].lat()+e[r].lat())),v=g*g+m*m,y=e[a].lng()-e[s].lng(),b=e[a].lat()-e[s].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),y*=Math.cos(_*(e[a].lat()+e[s].lat())),w=y*y+b*b,c=v>=p+w?w:w>=p+v?v:(g*f-m*h)*(g*f-m*h)/p,c>u&&(l=a,u=c);d>u?(C[o]=r,o++):(i++,E[i-1]=l,A[i-1]=s,i++,E[i-1]=r,A[i-1]=l)}else C[o]=r,o++;C[o]=n-1,o++;for(var F=new Array,a=0;o>a;a++)F.push(e[C[a]]);return F.map(function(e){return{type:"Point",coordinates:[e.lng,e.lat]}})},i.destinationPoint=function(e,t,n){n/=6371,t=i.numberToRadius(t);var o=i.numberToRadius(e.coordinates[0]),r=i.numberToRadius(e.coordinates[1]),s=Math.asin(Math.sin(o)*Math.cos(n)+Math.cos(o)*Math.sin(n)*Math.cos(t)),a=r+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(o),Math.cos(n)-Math.sin(o)*Math.sin(s));return a=(a+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[i.numberToDegree(s),i.numberToDegree(a)]}}}()}.call(this),function(){e=t.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:e}}(),function(){var e,t,n,i,o,r,s,a,l,c,u,d,h,f,p=Package.meteor.Meteor,g=Package.underscore._,m=Package.json.JSON,v=Package.ejson.EJSON,y=Package["ordered-dict"].OrderedDict,b=Package.deps.Deps,w=Package.random.Random,_=Package["geojson-utils"].GeoJSON;(function(){e=function(t){var n=this;n.name=t,n._docs=new e._IdMap,n._observeQueue=new p._SynchronousQueue,n.next_qid=1,n.queries={},n._savedOriginals=null,n.paused=!1},t={},n={},e._applyChanges=function(e,t){g.each(t,function(t,n){void 0===t?delete e[n]:e[n]=t})},i=function(e){var t=new Error(e);return t.name="MinimongoError",t},e.prototype.find=function(t,n){return 0===arguments.length&&(t={}),new e.Cursor(this,t,n)},e.Cursor=function(n,i,o){var r=this;o||(o={}),this.collection=n,e._selectorIsId(i)?(r._selectorId=i,r.matcher=new t.Matcher(i,r),r.sorter=void 0):(r._selectorId=void 0,r.matcher=new t.Matcher(i,r),r.sorter=r.matcher.hasGeoQuery()||o.sort?new d(o.sort||[]):null),r.skip=o.skip,r.limit=o.limit,r.fields=o.fields,r.fields&&(r.projectionFn=e._compileProjection(r.fields)),r._transform=e.wrapTransform(o.transform),r.db_objects=null,r.cursor_pos=0,"undefined"!=typeof b&&(r.reactive=void 0===o.reactive?!0:o.reactive)},e.Cursor.prototype.rewind=function(){var e=this;e.db_objects=null,e.cursor_pos=0},e.prototype.findOne=function(e,t){return 0===arguments.length&&(e={}),t=t||{},t.limit=1,this.find(e,t).fetch()[0]},e.Cursor.prototype.forEach=function(e,t){var n=this;for(null===n.db_objects&&(n.db_objects=n._getRawObjects({ordered:!0})),n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0});n.cursor_pos<n.db_objects.length;){var i=v.clone(n.db_objects[n.cursor_pos]);n.projectionFn&&(i=n.projectionFn(i)),n._transform&&(i=n._transform(i)),e.call(t,i,n.cursor_pos,n),++n.cursor_pos}},e.Cursor.prototype.getTransform=function(){return this._transform},e.Cursor.prototype.map=function(e,t){var n=this,i=[];return n.forEach(function(o,r){i.push(e.call(t,o,r,n))}),i},e.Cursor.prototype.fetch=function(){var e=this,t=[];return e.forEach(function(e){t.push(e)}),t},e.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),null===e.db_objects&&(e.db_objects=e._getRawObjects({ordered:!0})),e.db_objects.length},e.Cursor.prototype._publishCursor=function(e){var t=this;if(!t.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var n=t.collection.name;return p.Collection._publishCursor(t,e,n)},e.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},e._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},e._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},e.ObserveHandle=function(){},g.extend(e.Cursor.prototype,{observe:function(t){var n=this;return e._observeFromObserveChanges(n,t)},observeChanges:function(t){var n=this,i=e._observeChangesCallbacksAreOrdered(t);if(!t._allow_unordered&&!i&&(n.skip||n.limit))throw new Error("must use ordered observe with skip or limit");if(n.fields&&(0===n.fields._id||n.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var o,r={matcher:n.matcher,sorter:i&&n.sorter,distances:n.matcher.hasGeoQuery()&&i&&new e._IdMap,resultsSnapshot:null,ordered:i,cursor:n,projectionFn:n.projectionFn};n.reactive&&(o=n.collection.next_qid++,n.collection.queries[o]=r),r.results=n._getRawObjects({ordered:i,distances:r.distances}),n.collection.paused&&(r.resultsSnapshot=i?[]:new e._IdMap);var s=function(e,t,i){return e?function(){var o=this,r=arguments;n.collection.paused||void 0!==t&&n.projectionFn&&(r[t]=n.projectionFn(r[t]),i&&g.isEmpty(r[t]))||n.collection._observeQueue.queueTask(function(){e.apply(o,r)})}:function(){}};if(r.added=s(t.added,1),r.changed=s(t.changed,1,!0),r.removed=s(t.removed),i&&(r.addedBefore=s(t.addedBefore,1),r.movedBefore=s(t.movedBefore)),!t._suppress_initial&&!n.collection.paused){var a=i?g.bind(g.each,null,r.results):g.bind(r.results.forEach,r.results);a(function(e){var t=v.clone(e);delete t._id,i&&r.addedBefore(e._id,t,null),r.added(e._id,t)})}var l=new e.ObserveHandle;return g.extend(l,{collection:n.collection,stop:function(){n.reactive&&delete n.collection.queries[o]}}),n.reactive&&b.active&&b.onInvalidate(function(){l.stop()}),n.collection._observeQueue.drain(),l}}),e.Cursor.prototype._getRawObjects=function(t){var n=this;t=t||{};var i=t.ordered?[]:new e._IdMap;if(void 0!==n._selectorId){if(n.skip)return i;var o=n.collection._docs.get(n._selectorId);return o&&(t.ordered?i.push(o):i.set(n._selectorId,o)),i}var r;if(n.matcher.hasGeoQuery()&&t.ordered&&(t.distances?(r=t.distances,r.clear()):r=new e._IdMap),n.collection._docs.forEach(function(e,o){var s=n.matcher.documentMatches(e);return s.result&&(t.ordered?(i.push(e),r&&void 0!==s.distance&&r.set(o,s.distance)):i.set(o,e)),!n.limit||n.skip||n.sorter||i.length!==n.limit?!0:!1}),!t.ordered)return i;if(n.sorter){var s=n.sorter.getComparator({distances:r});i.sort(s)}var a=n.skip||0,l=n.limit?n.limit+a:i.length;return i.slice(a,l)},e.Cursor.prototype._depend=function(e,t){var n=this;if(b.active){var i=new b.Dependency;i.depend();var o=g.bind(i.changed,i),r={_suppress_initial:!0,_allow_unordered:t};g.each(["added","changed","removed","addedBefore","movedBefore"],function(t){e[t]&&(r[t]=o)}),n.observeChanges(r)}},e.prototype.insert=function(t,n){var o=this;t=v.clone(t),g.has(t,"_id")||(t._id=e._useOID?new e._ObjectID:w.id());var r=t._id;if(o._docs.has(r))throw i("Duplicate _id '"+r+"'");o._saveOriginal(r,void 0),o._docs.set(r,t);var s=[];for(var a in o.queries){var l=o.queries[a],c=l.matcher.documentMatches(t);c.result&&(l.distances&&void 0!==c.distance&&l.distances.set(r,c.distance),l.cursor.skip||l.cursor.limit?s.push(a):e._insertInResults(l,t))}return g.each(s,function(t){o.queries[t]&&e._recomputeResults(o.queries[t])}),o._observeQueue.drain(),n&&p.defer(function(){n(null,r)}),r},e.prototype._eachPossiblyMatchingDoc=function(t,n){var i=this,o=e._idsMatchedBySelector(t);if(o)for(var r=0;r<o.length;++r){var s=o[r],a=i._docs.get(s);if(a){var l=n(a,s);if(l===!1)break}}else i._docs.forEach(n)},e.prototype.remove=function(n,i){var o=this;if(o.paused&&!o._savedOriginals&&v.equals(n,{})){var r=o._docs.size();return o._docs.clear(),g.each(o.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),i&&p.defer(function(){i(null,r)}),r}var s=new t.Matcher(n,o),a=[];o._eachPossiblyMatchingDoc(n,function(e,t){s.documentMatches(e).result&&a.push(t)});for(var l=[],c=[],u=0;u<a.length;u++){var d=a[u],h=o._docs.get(d);g.each(o.queries,function(e,t){e.matcher.documentMatches(h).result&&(e.cursor.skip||e.cursor.limit?l.push(t):c.push({qid:t,doc:h}))}),o._saveOriginal(d,h),o._docs.remove(d)}return g.each(c,function(t){var n=o.queries[t.qid];n&&(n.distances&&n.distances.remove(t.doc._id),e._removeFromResults(n,t.doc))}),g.each(l,function(t){var n=o.queries[t];n&&e._recomputeResults(n)}),o._observeQueue.drain(),r=a.length,i&&p.defer(function(){i(null,r)}),r},e.prototype.update=function(n,i,o,r){var s=this;!r&&o instanceof Function&&(r=o,o=null),o||(o={});var a=new t.Matcher(n,s),l={};g.each(s.queries,function(e,t){!e.cursor.skip&&!e.cursor.limit||e.paused||(l[t]=v.clone(e.results))});var c={},u=0;s._eachPossiblyMatchingDoc(n,function(e,t){var n=a.documentMatches(e);return n.result&&(s._saveOriginal(t,e),s._modifyAndNotify(e,i,c,n.arrayIndex),++u,!o.multi)?!1:!0}),g.each(c,function(t,n){var i=s.queries[n];i&&e._recomputeResults(i,l[n])}),s._observeQueue.drain();var d;if(0===u&&o.upsert){var h=e._removeDollarOperators(n);e._modify(h,i,{isInsert:!0}),!h._id&&o.insertedId&&(h._id=o.insertedId),d=s.insert(h),u=1}var f;return o._returnObject?(f={numberAffected:u},void 0!==d&&(f.insertedId=d)):f=u,r&&p.defer(function(){r(null,f)}),f},e.prototype.upsert=function(e,t,n,i){var o=this;return i||"function"!=typeof n||(i=n,n={}),o.update(e,t,g.extend({},n,{upsert:!0,_returnObject:!0}),i)},e.prototype._modifyAndNotify=function(t,n,i,o){var r=this,s={};for(var a in r.queries){var l=r.queries[a];s[a]=l.ordered?l.matcher.documentMatches(t).result:l.results.has(t._id)}var c=v.clone(t);e._modify(t,n,{arrayIndex:o});for(a in r.queries){l=r.queries[a];var u=s[a],d=l.matcher.documentMatches(t),h=d.result;h&&l.distances&&void 0!==d.distance&&l.distances.set(t._id,d.distance),l.cursor.skip||l.cursor.limit?(u||h)&&(i[a]=!0):u&&!h?e._removeFromResults(l,t):!u&&h?e._insertInResults(l,t):u&&h&&e._updateInResults(l,t,c)}},e._insertInResults=function(t,n){var i=v.clone(n);if(delete i._id,t.ordered){if(t.sorter){var o=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n),r=t.results[o+1];r=r?r._id:null,t.addedBefore(n._id,i,r)}else t.addedBefore(n._id,i,null),t.results.push(n);t.added(n._id,i)}else t.added(n._id,i),t.results.set(n._id,n)
},e._removeFromResults=function(t,n){if(t.ordered){var i=e._findInOrderedResults(t,n);t.removed(n._id),t.results.splice(i,1)}else{var o=n._id;t.removed(n._id),t.results.remove(o)}},e._updateInResults=function(t,n,i){if(!v.equals(n._id,i._id))throw new Error("Can't change a doc's _id while updating");var o=e._makeChangedFields(n,i);if(!t.ordered)return g.isEmpty(o)||(t.changed(n._id,o),t.results.set(n._id,n)),void 0;var r=e._findInOrderedResults(t,n);if(g.isEmpty(o)||t.changed(n._id,o),t.sorter){t.results.splice(r,1);var s=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n);if(r!==s){var a=t.results[s+1];a=a?a._id:null,t.movedBefore&&t.movedBefore(n._id,a)}}},e._recomputeResults=function(t,n){n||(n=t.results),t.distances&&t.distances.clear(),t.results=t.cursor._getRawObjects({ordered:t.ordered,distances:t.distances}),t.paused||e._diffQueryChanges(t.ordered,n,t.results,t)},e._findInOrderedResults=function(e,t){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var n=0;n<e.results.length;n++)if(e.results[n]===t)return n;throw Error("object missing from query")},e._binarySearch=function(e,t,n){for(var i=0,o=t.length;o>0;){var r=Math.floor(o/2);e(n,t[i+r])>=0?(i+=r+1,o-=r+1):o=r}return i},e._insertInSortedList=function(t,n,i){if(0===n.length)return n.push(i),0;var o=e._binarySearch(t,n,i);return n.splice(o,0,i),o},e.prototype.saveOriginals=function(){var t=this;if(t._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");t._savedOriginals=new e._IdMap},e.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var t=e._savedOriginals;return e._savedOriginals=null,t},e.prototype._saveOriginal=function(e,t){var n=this;n._savedOriginals&&(n._savedOriginals.has(e)||n._savedOriginals.set(e,v.clone(t)))},e.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var t=this.queries[e];t.resultsSnapshot=v.clone(t.results)}}},e.prototype.resumeObservers=function(){var t=this;if(this.paused){this.paused=!1;for(var n in this.queries){var i=t.queries[n];e._diffQueryChanges(i.ordered,i.resultsSnapshot,i.results,i),i.resultsSnapshot=null}t._observeQueue.drain()}},e._idStringify=function(t){if(t instanceof e._ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||e._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+m.stringify(t)},e._idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?m.parse(t.substr(1)):e._looksLikeObjectID(t)?new e._ObjectID(t):t},e._makeChangedFields=function(t,n){var i={};return e._diffObjects(n,t,{leftOnly:function(e){i[e]=void 0},rightOnly:function(e,t){i[e]=t},both:function(e,t,n){v.equals(t,n)||(i[e]=n)}}),i}}).call(this),function(){e.wrapTransform=function(e){return e?function(t){if(!g.has(t,"_id"))throw new Error("can only transform documents with _id");var n=t._id,i=b.nonreactive(function(){return e(t)});if(!r(i))throw new Error("transform must return object");if(g.has(i,"_id")){if(!v.equals(i._id,n))throw new Error("transformed document can't have different _id")}else i._id=n;return i}:null}}.call(this),function(){o=function(e){return g.isArray(e)&&!v.isBinary(e)},r=function(t){return t&&3===e._f._type(t)},s=function(e){return o(e)||r(e)},a=function(e){if(!r(e))return!1;var t=void 0;return g.each(e,function(n,i){var o="$"===i.substr(0,1);if(void 0===t)t=o;else if(t!==o)throw new Error("Inconsistent operator: "+e)}),!!t},l=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){t.Matcher=function(e){var t=this;t._paths={},t._hasGeoQuery=!1,t._hasWhere=!1,t._isSimple=!0,t._matchingDocument=void 0,t._selector=null,t._docMatcher=t._compileSelector(e)},g.extend(t.Matcher.prototype,{documentMatches:function(e){return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(t){var n=this;if(t instanceof Function)return n._isSimple=!1,n._selector=t,n._recordPathUsed(""),function(e){return{result:!!t.call(e)}};if(e._selectorIsId(t))return n._selector={_id:t},n._recordPathUsed("_id"),function(e){return{result:v.equals(e._id,t)}};if(!t||"_id"in t&&!t._id)return n._isSimple=!1,x;if("boolean"==typeof t||o(t)||v.isBinary(t))throw new Error("Invalid selector: "+t);return n._selector=v.clone(t),i(t,n,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return g.keys(this._paths)}});var i=function(e,t,n){n=n||{};var i=[];return g.each(e,function(e,o){if("$"===o.substr(0,1)){if(!g.has(b,o))throw new Error("Unrecognized logical operator: "+o);t._isSimple=!1,i.push(b[o](e,t,n.inElemMatch))}else{n.inElemMatch||t._recordPathUsed(o);var r=c(o),s=d(e,t,n.isRoot);i.push(function(e){var t=r(e);return s(t)})}}),B(i)},d=function(e,t,n){return e instanceof RegExp?(t._isSimple=!1,h(f(e))):a(e)?m(e,t,n):h(p(e))},h=function(e,t){return t=t||{},function(n){var i=n;t.dontExpandLeafArrays||(i=u(n,t.dontIncludeLeafArrays));var o={};return o.result=g.any(i,function(t){var n=e(t.value);return"number"==typeof n&&(void 0===t.arrayIndex&&(t.arrayIndex=n),n=!0),n&&void 0!==t.arrayIndex&&(o.arrayIndex=t.arrayIndex),n}),o}},f=function(e){return function(t){return t instanceof RegExp?g.isEqual(t,e):"string"!=typeof t?!1:e.test(t)}},p=function(t){if(a(t))throw Error("Can't create equalityValueSelector for operator object");return null==t?function(e){return null==e}:function(n){return e._f._equal(t,n)}},m=function(e,t,n){var i=[];return g.each(e,function(o,r){var s=g.contains(["$lt","$lte","$gt","$gte"],r)&&g.isNumber(o),a="$ne"===r&&!g.isObject(o),l=g.contains(["$in","$nin"],r)&&g.isArray(o)&&!g.any(o,g.isObject);if("$eq"===r||s||l||a||(t._isSimple=!1),g.has(C,r))i.push(C[r](o,e,t,n));else{if(!g.has(k,r))throw new Error("Unrecognized operator: "+r);var c=k[r];"function"==typeof c&&(c={compileElementSelector:c}),i.push(h(c.compileElementSelector(o,e,t),c))}}),T(i)},y=function(e,t,n){if(!o(e)||g.isEmpty(e))throw Error("$and/$or/$nor must be nonempty array");return g.map(e,function(e){if(!r(e))throw Error("$or/$and/$nor entries need to be full objects");return i(e,t,{inElemMatch:n})})},b={$and:function(e,t,n){var i=y(e,t,n);return B(i)},$or:function(e,t,n){var i=y(e,t,n);return 1===i.length?i[0]:function(e){var t=g.any(i,function(t){return t(e).result});return{result:t}}},$nor:function(e,t,n){var i=y(e,t,n);return function(e){var t=g.all(i,function(t){return!t(e).result});return{result:t}}},$where:function(e,t){return t._recordPathUsed(""),t._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(t){return{result:e.call(t,t)}}},$comment:function(){return function(){return{result:!0}}}},w=function(e){return function(t){var n=e(t);return{result:!n.result}}},C={$not:function(e,t,n){return w(d(e,n))},$ne:function(e){return w(h(p(e)))},$nin:function(e){return w(h(k.$in(e)))},$exists:function(e){var t=h(function(e){return void 0!==e});return e?t:w(t)},$options:function(e,t){if(!t.$regex)throw Error("$options needs a $regex");return S},$maxDistance:function(e,t){if(!t.$near)throw Error("$maxDistance needs a $near");return S},$all:function(e,t,n){if(!o(e))throw Error("$all requires array");if(g.isEmpty(e))return x;var i=[];return g.each(e,function(e){if(a(e))throw Error("no $ expressions in $all");i.push(d(e,n))}),T(i)},$near:function(e,t,n,i){if(!i)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var s,a,l;if(r(e)&&g.has(e,"$geometry"))s=e.$maxDistance,a=e.$geometry,l=function(e){return e&&e.type?"Point"===e.type?_.pointDistance(a,e):_.geometryWithinRadius(e,a,s)?0:s+1:null};else{if(s=t.$maxDistance,!o(e)&&!r(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=A(e),l=function(e){return o(e)||r(e)?E(a,e):null}}return function(e){e=u(e);var t={result:!1};return g.each(e,function(e){var n=l(e.value);null===n||n>s||void 0!==t.distance&&t.distance<=n||(t.result=!0,t.distance=n,void 0===e.arrayIndex?delete t.arrayIndex:t.arrayIndex=e.arrayIndex)}),t}}},E=function(e,t){e=A(e),t=A(t);var n=e[0]-t[0],i=e[1]-t[1];return g.isNaN(n)||g.isNaN(i)?null:Math.sqrt(n*n+i*i)},A=function(e){return g.map(e,g.identity)},F=function(t){return function(n){if(o(n))return function(){return!1};void 0===n&&(n=null);var i=e._f._type(n);return function(o){return void 0===o&&(o=null),e._f._type(o)!==i?!1:t(e._f._cmp(o,n))}}},k={$lt:F(function(e){return 0>e}),$gt:F(function(e){return e>0}),$lte:F(function(e){return 0>=e}),$gte:F(function(e){return e>=0}),$mod:function(e){if(!o(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var t=e[0],n=e[1];return function(e){return"number"==typeof e&&e%t===n}},$in:function(e){if(!o(e))throw Error("$in needs an array");var t=[];return g.each(e,function(e){if(e instanceof RegExp)t.push(f(e));else{if(a(e))throw Error("cannot nest $ under $in");t.push(p(e))}}),function(e){return void 0===e&&(e=null),g.any(t,function(t){return t(e)})}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(t){return o(t)&&t.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(t){if("number"!=typeof t)throw Error("$type needs a number");return function(n){return void 0!==n&&e._f._type(n)===t}}},$regex:function(e,t){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var n;if(void 0!==t.$options){if(/[^gim]/.test(t.$options))throw new Error("Only the i, m, and g regexp options are supported");var i=e instanceof RegExp?e.source:e;n=new RegExp(i,t.$options)}else n=e instanceof RegExp?e:new RegExp(e);return f(n)},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(e,t,n){if(!r(e))throw Error("$elemMatch need an object");var s,l;return a(e)?(s=d(e,n),l=!1):(s=i(e,n,{inElemMatch:!0}),l=!0),function(e){if(!o(e))return!1;for(var t=0;t<e.length;++t){var n,i=e[t];if(l){if(!r(i)&&!o(i))return!1;n=i}else n=[{value:i,dontIterate:!0}];if(s(n).result)return t}return!1}}}};c=function(e){var t,n=e.split("."),i=n.length?n[0]:"",a=l(i);n.length>1&&(t=c(n.slice(1).join(".")));var u=function(e){return e.dontIterate||delete e.dontIterate,void 0===e.arrayIndex&&delete e.arrayIndex,e};return function(e,n){if(o(e)){if(!(a&&i<e.length))return[];void 0===n&&(n=+i)}var l=e[i];if(!t)return[u({value:l,dontIterate:o(e)&&o(l),arrayIndex:n})];if(!s(l))return o(e)?[]:[u({value:void 0,arrayIndex:n})];var c=[],d=function(e){Array.prototype.push.apply(c,e)};return d(t(l,n)),o(l)&&g.each(l,function(e,i){r(e)&&d(t(e,void 0===n?i:n))}),c}},n.makeLookupFunction=c,u=function(e,t){var n=[];return g.each(e,function(e){var i=o(e.value);t&&i&&!e.dontIterate||n.push({value:e.value,arrayIndex:e.arrayIndex}),i&&!e.dontIterate&&g.each(e.value,function(t,i){n.push({value:t,arrayIndex:void 0===e.arrayIndex?i:e.arrayIndex})})}),n};var x=function(){return{result:!1}},S=function(){return{result:!0}},D=function(e){return 0===e.length?S:1===e.length?e[0]:function(t){var n={};return n.result=g.all(e,function(e){var i=e(t);return i.result&&void 0!==i.distance&&void 0===n.distance&&(n.distance=i.distance),i.result&&void 0!==i.arrayIndex&&(n.arrayIndex=i.arrayIndex),i.result}),n.result||(delete n.distance,delete n.arrayIndex),n}},B=D,T=D;e._f={_type:function(t){return"number"==typeof t?1:"string"==typeof t?2:"boolean"==typeof t?8:o(t)?4:null===t?10:t instanceof RegExp?11:"function"==typeof t?13:t instanceof Date?9:v.isBinary(t)?5:t instanceof e._ObjectID?7:3},_equal:function(e,t){return v.equals(e,t,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(t,n){if(void 0===t)return void 0===n?0:-1;if(void 0===n)return 1;var i=e._f._type(t),o=e._f._type(n),r=e._f._typeorder(i),s=e._f._typeorder(o);if(r!==s)return s>r?-1:1;if(i!==o)throw Error("Missing type coercion logic in _cmp");if(7===i&&(i=o=2,t=t.toHexString(),n=n.toHexString()),9===i&&(i=o=1,t=t.getTime(),n=n.getTime()),1===i)return t-n;if(2===o)return n>t?-1:t===n?0:1;if(3===i){var a=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t};return e._f._cmp(a(t),a(n))}if(4===i)for(var l=0;;l++){if(l===t.length)return l===n.length?0:-1;if(l===n.length)return 1;var c=e._f._cmp(t[l],n[l]);if(0!==c)return c}if(5===i){if(t.length!==n.length)return t.length-n.length;for(l=0;l<t.length;l++){if(t[l]<n[l])return-1;if(t[l]>n[l])return 1}return 0}if(8===i)return t?n?0:1:n?-1:0;if(10===i)return 0;if(11===i)throw Error("Sorting not supported on regular expression");if(13===i)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},e._removeDollarOperators=function(e){var t={};for(var n in e)"$"!==n.substr(0,1)&&(t[n]=e[n]);return t}}.call(this),function(){d=function(n){var i=this,o=[];if(n instanceof Array)for(var r=0;r<n.length;r++)"string"==typeof n[r]?o.push({lookup:c(n[r]),ascending:!0}):o.push({lookup:c(n[r][0]),ascending:"desc"!==n[r][1]});else{if("object"!=typeof n)throw Error("Bad sort specification: ",m.stringify(n));for(var s in n)o.push({lookup:c(s),ascending:n[s]>=0})}var a=function(t,n){t=u(t,!0);var i=void 0,o=!0;return g.each(t,function(t){if(o)i=t.value,o=!1;else{var r=e._f._cmp(i,t.value);(n&&r>0||!n&&0>r)&&(i=t.value)}}),i},l=g.map(o,function(t){return function(n,i){var o=a(t.lookup(n),t.ascending),r=a(t.lookup(i),t.ascending),s=e._f._cmp(o,r);return t.ascending?s:-s}});i._baseComparator=t(l)},d.prototype.getComparator=function(e){var n=this;if(!e||!e.distances)return n._baseComparator;var i=e.distances;return t([n._baseComparator,function(e,t){if(!i.has(e._id))throw Error("Missing distance for "+e._id);if(!i.has(t._id))throw Error("Missing distance for "+t._id);return i.get(e._id)-i.get(t._id)}])},n.Sorter=d;var t=function(e){return function(t,n){for(var i=0;i<e.length;++i){var o=e[i](t,n);if(0!==o)return o}return 0}}}.call(this),function(){e._compileProjection=function(t){e._checkSupportedProjection(t);var n=g.isUndefined(t._id)?!0:t._id,i=h(t),o=function(e,t){if(g.isArray(e))return g.map(e,function(e){return o(e,t)});var n=i.including?{}:v.clone(e);return g.each(t,function(t,r){g.has(e,r)&&(g.isObject(t)?g.isObject(e[r])&&(n[r]=o(e[r],t)):i.including?n[r]=v.clone(e[r]):delete n[r])}),n};return function(e){var t=o(e,i.tree);return n&&g.has(e,"_id")&&(t._id=e._id),!n&&g.has(t,"_id")&&delete t._id,t}},h=function(e){var t=g.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=g.reject(t,function(e){return"_id"===e}));var n=null;g.each(t,function(t){var o=!!e[t];if(null===n&&(n=o),n!==o)throw i("You cannot currently mix including and excluding fields.")});var o=f(t,function(){return n},function(e,t,n){var o=n,r=t;throw i("both "+o+" and "+r+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},f=function(e,t,n,i){return i=i||{},g.each(e,function(e){var o=i,r=e.split("."),s=g.all(r.slice(0,-1),function(t,i){if(g.has(o,t)){if(!g.isObject(o[t])&&(o[t]=n(o[t],r.slice(0,i+1).join("."),e),!g.isObject(o[t])))return!1}else o[t]={};return o=o[t],!0});if(s){var a=g.last(r);o[a]=g.has(o,a)?n(o[a],e,e):t(e)}}),i},e._checkSupportedProjection=function(e){if(!g.isObject(e)||g.isArray(e))throw i("fields option must be an object");g.each(e,function(e,t){if(g.contains(t.split("."),"$"))throw i("Minimongo doesn't support $ operator in projections yet.");if(-1===g.indexOf([1,0,!0,!1],e))throw i("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){e._modify=function(e,t,s){if(s=s||{},!r(t))throw i("Modifier must be an object");var l,u=a(t);if(u)l=v.clone(e),g.each(t,function(e,t){var r=c[t];if(s.isInsert&&"$setOnInsert"===t&&(r=c.$set),!r)throw i("Invalid modifier specified "+t);g.each(e,function(e,a){if(a.length&&"."===a[a.length-1])throw i("Invalid mod field name, may not end in a period");if("_id"===a)throw i("Mod on _id not allowed");var c=a.split("."),u=(g.has(o,t),n(l,c,{noCreate:o[t],forbidArray:"$rename"===t,arrayIndex:s.arrayIndex})),d=c.pop();r(u,d,e,a,l)})});else{if(t._id&&!v.equals(e._id,t._id))throw i("Cannot change the _id of a document");for(var d in t)if(/\./.test(d))throw i("When replacing document, field name may not contain '.'");l=t}g.each(g.keys(e),function(t){("_id"!==t||s.isInsert)&&delete e[t]}),g.each(l,function(t,n){e[n]=t})};var n=function(e,t,n){n=n||{};for(var o=!1,r=0;r<t.length;r++){var a=r===t.length-1,c=t[r],u=s(e);if(!u){if(n.noCreate)return void 0;var d=i("cannot use the part '"+c+"' to traverse "+e);throw d.setPropertyError=!0,d}if(e instanceof Array){if(n.forbidArray)return null;if("$"===c){if(o)throw i("Too many positional (i.e. '$') elements");if(void 0===n.arrayIndex)throw i("The positional operator did not find the match needed from the query");c=n.arrayIndex,o=!0}else{if(!l(c)){if(n.noCreate)return void 0;throw i("can't append to array using string field name ["+c+"]")}c=parseInt(c)}if(a&&(t[r]=c),n.noCreate&&c>=e.length)return void 0;for(;e.length<c;)e.push(null);if(!a)if(e.length===c)e.push({});else if("object"!=typeof e[c])throw i("can't modify field '"+t[r+1]+"' of list value "+m.stringify(e[c]))}else{if(c.length&&"$"===c.substr(0,1))throw i("can't set field named "+c);if(!(c in e)){if(n.noCreate)return void 0;a||(e[c]={})}}if(a)return e;e=e[c]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},c={$inc:function(e,t,n){if("number"!=typeof n)throw i("Modifier $inc allowed for numbers only");if(t in e){if("number"!=typeof e[t])throw i("Cannot apply $inc modifier to non-number");e[t]+=n}else e[t]=n},$set:function(e,t,n){if(!g.isObject(e)){var o=i("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=i("Cannot set property on null");throw o.setPropertyError=!0,o}e[t]=v.clone(n)},$setOnInsert:function(){},$unset:function(e,t){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(t,n,o){if(void 0===t[n]&&(t[n]=[]),!(t[n]instanceof Array))throw i("Cannot apply $push modifier to non-array");if(!o||!o.$each)return t[n].push(v.clone(o)),void 0;var r=o.$each;if(!(r instanceof Array))throw i("$each must be an array");var s=void 0;if("$slice"in o){if("number"!=typeof o.$slice)throw i("$slice must be a numeric value");if(o.$slice>0)throw i("$slice in $push must be zero or negative");s=o.$slice}var a=void 0;if(o.$sort){if(void 0===s)throw i("$sort requires $slice to be present");a=new d(o.$sort).getComparator();for(var l=0;l<r.length;l++)if(3!==e._f._type(r[l]))throw i("$push like modifiers using $sort require all elements to be objects")}for(var c=0;c<r.length;c++)t[n].push(v.clone(r[c]));a&&t[n].sort(a),void 0!==s&&(t[n]=0===s?[]:t[n].slice(s))},$pushAll:function(e,t,n){if(!("object"==typeof n&&n instanceof Array))throw i("Modifier $pushAll/pullAll allowed for arrays only");var o=e[t];if(void 0===o)e[t]=n;else{if(!(o instanceof Array))throw i("Cannot apply $pushAll modifier to non-array");for(var r=0;r<n.length;r++)o.push(n[r])}},$addToSet:function(t,n,o){var r=t[n];if(void 0===r)t[n]=[o];else{if(!(r instanceof Array))throw i("Cannot apply $addToSet modifier to non-array");var s=!1;if("object"==typeof o)for(var a in o){"$each"===a&&(s=!0);break}var l=s?o.$each:[o];g.each(l,function(t){for(var n=0;n<r.length;n++)if(e._f._equal(t,r[n]))return;r.push(v.clone(t))})}},$pop:function(e,t,n){if(void 0!==e){var o=e[t];if(void 0!==o){if(!(o instanceof Array))throw i("Cannot apply $pop modifier to non-array");"number"==typeof n&&0>n?o.splice(0,1):o.pop()}}},$pull:function(n,o,r){if(void 0!==n){var s=n[o];if(void 0!==s){if(!(s instanceof Array))throw i("Cannot apply $pull/pullAll modifier to non-array");var a=[];if("object"!=typeof r||r instanceof Array)for(var l=0;l<s.length;l++)e._f._equal(s[l],r)||a.push(s[l]);else for(var c=new t.Matcher(r),l=0;l<s.length;l++)c.documentMatches(s[l]).result||a.push(s[l]);n[o]=a}}},$pullAll:function(t,n,o){if(!("object"==typeof o&&o instanceof Array))throw i("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==t){var r=t[n];if(void 0!==r){if(!(r instanceof Array))throw i("Cannot apply $pull/pullAll modifier to non-array");for(var s=[],a=0;a<r.length;a++){for(var l=!1,c=0;c<o.length;c++)if(e._f._equal(r[a],o[c])){l=!0;break}l||s.push(r[a])}t[n]=s}}},$rename:function(e,t,o,r,s){if(r===o)throw i("$rename source must differ from target");if(null===e)throw i("$rename source field invalid");if("string"!=typeof o)throw i("$rename target must be a string");if(void 0!==e){var a=e[t];delete e[t];var l=o.split("."),c=n(s,l,{forbidArray:!0});if(null===c)throw i("$rename target field invalid");var u=l.pop();c[u]=a}},$bit:function(){throw i("$bit is not supported")}}}.call(this),function(){e._diffQueryChanges=function(t,n,i,o){t?e._diffQueryOrderedChanges(n,i,o):e._diffQueryUnorderedChanges(n,i,o)},e._diffQueryUnorderedChanges=function(t,n,i){if(i.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var r=t.get(o);if(r)i.changed&&!v.equals(r,n)&&i.changed(o,e._makeChangedFields(n,r));else if(i.added){var s=v.clone(n);delete s._id,i.added(n._id,s)}}),i.removed&&t.forEach(function(e,t){n.has(t)||i.removed(t)})},e._diffQueryOrderedChanges=function(t,n,i){var o={};g.each(n,function(e){o[e._id]&&p._debug("Duplicate _id in new_results"),o[e._id]=!0});var r={};g.each(t,function(e,t){e._id in r&&p._debug("Duplicate _id in old_results"),r[e._id]=t});for(var s=[],a=0,l=n.length,c=new Array(l),u=new Array(l),d=function(e){return r[n[e]._id]},h=0;l>h;h++)if(void 0!==r[n[h]._id]){for(var f=a;f>0&&!(d(c[f-1])<d(h));)f--;u[h]=0===f?-1:c[f-1],c[f]=h,f+1>a&&(a=f+1)}for(var m=0===a?-1:c[a-1];m>=0;)s.push(m),m=u[m];s.reverse(),s.push(n.length),g.each(t,function(e){o[e._id]||i.removed&&i.removed(e._id)});var y=0;g.each(s,function(o){for(var s,a,l,c=n[o]?n[o]._id:null,u=y;o>u;u++)a=n[u],g.has(r,a._id)?(s=t[r[a._id]],l=e._makeChangedFields(a,s),g.isEmpty(l)||i.changed&&i.changed(a._id,l),i.movedBefore&&i.movedBefore(a._id,c)):(l=v.clone(a),delete l._id,i.addedBefore&&i.addedBefore(a._id,l,c),i.added&&i.added(a._id,l));c&&(a=n[o],s=t[r[a._id]],l=e._makeChangedFields(a,s),g.isEmpty(l)||i.changed&&i.changed(a._id,l)),y=o+1})},e._diffObjects=function(e,t,n){g.each(e,function(e,i){g.has(t,i)?n.both&&n.both(i,e,t[i]):n.leftOnly&&n.leftOnly(i,e)}),n.rightOnly&&g.each(t,function(t,i){g.has(e,i)||n.rightOnly(i,t)})}}.call(this),function(){e._IdMap=function(){var e=this;e._map={}},g.extend(e._IdMap.prototype,{get:function(t){var n=this,i=e._idStringify(t);return n._map[i]},set:function(t,n){var i=this,o=e._idStringify(t);i._map[o]=n},remove:function(t){var n=this,i=e._idStringify(t);delete n._map[i]},has:function(t){var n=this,i=e._idStringify(t);return g.has(n._map,i)},empty:function(){var e=this;return g.isEmpty(e._map)},clear:function(){var e=this;e._map={}},forEach:function(t){for(var n=this,i=g.keys(n._map),o=0;o<i.length;o++){var r=t.call(null,n._map[i[o]],e._idParse(i[o]));if(r===!1)return}},size:function(){var e=this;return g.size(e._map)},setDefault:function(t,n){var i=this,o=e._idStringify(t);return g.has(i._map,o)?i._map[o]:(i._map[o]=n,n)},clone:function(){var t=this,n=new e._IdMap;return t.forEach(function(e,t){n.set(t,v.clone(e))}),n}})}.call(this),function(){e._CachingChangeObserver=function(t){var n=this;t=t||{};var i=t.callbacks&&e._observeChangesCallbacksAreOrdered(t.callbacks);if(g.has(t,"ordered")){if(n.ordered=t.ordered,t.callbacks&&t.ordered!==i)throw Error("ordered option doesn't match callbacks")}else{if(!t.callbacks)throw Error("must provide ordered or callbacks");n.ordered=i}var o=t.callbacks||{};n.ordered?(n.docs=new y(e._idStringify),n.applyChange={addedBefore:function(e,t,i){var r=v.clone(t);r._id=e,o.addedBefore&&o.addedBefore.call(n,e,t,i),o.added&&o.added.call(n,e,t),n.docs.putBefore(e,r,i||null)},movedBefore:function(e,t){n.docs.get(e);o.movedBefore&&o.movedBefore.call(n,e,t),n.docs.moveBefore(e,t||null)}}):(n.docs=new e._IdMap,n.applyChange={added:function(e,t){var i=v.clone(t);o.added&&o.added.call(n,e,t),i._id=e,n.docs.set(e,i)}}),n.applyChange.changed=function(t,i){var r=n.docs.get(t);if(!r)throw new Error("Unknown id for changed: "+t);o.changed&&o.changed.call(n,t,v.clone(i)),e._applyChanges(r,i)},n.applyChange.removed=function(e){o.removed&&o.removed.call(n,e),n.docs.remove(e)}},e._observeFromObserveChanges=function(t,n){var i,o=t.getTransform()||function(e){return e},r=!!n._suppress_initial;if(e._observeCallbacksAreOrdered(n)){var s=!n._no_indices;i={addedBefore:function(e,t,i){var a=this;if(!r&&(n.addedAt||n.added)){var l=o(g.extend(t,{_id:e}));if(n.addedAt){var c=s?i?a.docs.indexOf(i):a.docs.size():-1;n.addedAt(l,c,i)}else n.added(l)}},changed:function(t,i){var r=this;if(n.changedAt||n.changed){var a=v.clone(r.docs.get(t));if(!a)throw new Error("Unknown id for changed: "+t);var l=o(v.clone(a));if(e._applyChanges(a,i),a=o(a),n.changedAt){var c=s?r.docs.indexOf(t):-1;n.changedAt(a,l,c)}else n.changed(a,l)}},movedBefore:function(e,t){var i=this;if(n.movedTo){var r=s?i.docs.indexOf(e):-1,a=s?t?i.docs.indexOf(t):i.docs.size():-1;a>r&&--a,n.movedTo(o(v.clone(i.docs.get(e))),r,a,t||null)}},removed:function(e){var t=this;if(n.removedAt||n.removed){var i=o(t.docs.get(e));if(n.removedAt){var r=s?t.docs.indexOf(e):-1;n.removedAt(i,r)}else n.removed(i)}}}}else i={added:function(e,t){if(!r&&n.added){var i=g.extend(t,{_id:e});n.added(o(i))}},changed:function(t,i){var r=this;if(n.changed){var s=r.docs.get(t),a=v.clone(s);e._applyChanges(a,i),n.changed(o(a),o(s))}},removed:function(e){var t=this;n.removed&&n.removed(o(t.docs.get(e)))}};var a=new e._CachingChangeObserver({callbacks:i}),l=t.observeChanges(a.applyChange);return r=!1,a.ordered&&(l._fetch=function(){var e=[];return a.docs.forEach(function(t){e.push(o(v.clone(t)))}),e}),l}}.call(this),function(){e._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},e._ObjectID=function(t){var n=this;if(t){if(t=t.toLowerCase(),!e._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");n._str=t}else n._str=w.hexString(24)},e._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},e._ObjectID.prototype.equals=function(t){var n=this;return t instanceof e._ObjectID&&n.valueOf()===t.valueOf()},e._ObjectID.prototype.clone=function(){var t=this;return new e._ObjectID(t._str)},e._ObjectID.prototype.typeName=function(){return"oid"},e._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},e._ObjectID.prototype.valueOf=e._ObjectID.prototype.toJSONValue=e._ObjectID.prototype.toHexString=function(){return this._str},e._selectorIsId=function(t){return"string"==typeof t||"number"==typeof t||t instanceof e._ObjectID},e._selectorIsIdPerhapsAsObject=function(t){return e._selectorIsId(t)||t&&"object"==typeof t&&t._id&&e._selectorIsId(t._id)&&1===g.size(t)},e._idsMatchedBySelector=function(t){if(e._selectorIsId(t))return[t];if(!t)return null;if(g.has(t,"_id"))return e._selectorIsId(t._id)?[t._id]:t._id&&t._id.$in&&g.isArray(t._id.$in)&&!g.isEmpty(t._id.$in)&&g.all(t._id.$in,e._selectorIsId)?t._id.$in:null;if(t.$and&&g.isArray(t.$and))for(var n=0;n<t.$and.length;++n){var i=e._idsMatchedBySelector(t.$and[n]);if(i)return i}return null},v.addType("oid",function(t){return new e._ObjectID(t)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:e,Minimongo:t,MinimongoTest:n}}(),function(){{var e,t,n,i,o,r,s,a,l,c,u=Package.meteor.Meteor,d=(Package.check.check,Package.check.Match,Package.random.Random),h=Package.ejson.EJSON,f=Package.json.JSON,p=Package.underscore._,g=Package.deps.Deps,m=(Package.logging.Log,Package.retry.Retry),v=Package.minimongo.LocalCollection;Package.minimongo.Minimongo}(function(){t={}}).call(this),function(){n=function(){var e=document,t=window,n={},i=function(){};i.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var i=this._listeners[e];-1===n.arrIndexOf(i,t)&&i.push(t)},i.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var i=this._listeners[e],o=n.arrIndexOf(i,t);return-1!==o?(i.length>1?this._listeners[e]=i.slice(0,o).concat(i.slice(o+1)):delete this._listeners[e],void 0):void 0}},i.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var r=function(e){var t=this;t._events=e||[],t._listeners={}};r.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var i=0;i<t._listeners[e].length;i++)t._listeners[e][i].apply(t,n)}},r.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},r.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+f.stringify(e)+" not listed "+f.stringify(t._events)+" in "+t)},r.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,i=[];for(n=0;e>n;n++)i.push(s.substr(Math.floor(Math.random()*t),1));return i.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,i=Array(t+1).join("0");return(i+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var a="_jp";n.polluteGlobalNamespace=function(){a in t||(t[a]={})},n.closeFrame=function(e,t){return"c"+f.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,i){var o;if(void 0===i)o=e.location;else{var r=/^([a-z0-9.+-]+:)/i.exec(i);if(r){var s=r[0].toLowerCase(),a=i.substring(s.length),l=/[a-z0-9\.-]+(:[0-9]+)?/.exec(a);if(l)var c=l[0]}if(!s||!c)throw new Error("relativeTo must be an absolute url");o={protocol:s,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var u=t.split("/");return("http:"===u[0]&&/:80$/.test(u[2])||"https:"===u[0]&&/:443$/.test(u[2]))&&(u[2]=u[2].replace(/:(80|443)$/,"")),t=u.join("/")
},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var i=n.arrIndexOf(e,t);if(-1===i)return e.slice();var o=e.slice(0,i);return o.concat(e.slice(i+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var l,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,h=f&&f.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return u[e]})),'"'+e+'"'},p=function(e){var t,n={},i=[];for(t=0;65536>t;t++)i.push(String.fromCharCode(t));return e.lastIndex=0,i.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=h(e);return d.lastIndex=0,d.test(t)?(l||(l=p(d)),t.replace(d,function(e){return l[e]})):t};var g=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<g.length;t++){var n=g[t];e[n]=F[n]&&F[n].enabled()}return e},n.detectProtocols=function(e,t,n){var i={},o=[];t||(t=g);for(var r=0;r<t.length;r++){var s=t[r];i[s]=e[s]}var a=function(e){var t=e.shift();i[t]?o.push(t):e.length>0&&a(e)};return n.websocket!==!1&&a(["websocket"]),i["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!i["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),i["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!i["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var m="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(m in t)){var i={};t[m]=function(e){return e in i||(i[e]={id:e,del:function(){delete i[e]}}),i[e]}}return t[m](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,i){"undefined"!=typeof t.addEventListener?t.addEventListener(n,i,!1):(e.attachEvent("on"+n,i),t.attachEvent("on"+n,i))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,i){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,i,!1):(e.detachEvent("on"+n,i),t.detachEvent("on"+n,i))};var v={},y=!1,b=function(){for(var e in v)v[e](),delete v[e]},w=function(){y||(y=!0,b())};n.attachEvent("unload",w),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,y&&n.delay(b),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,i){var o,r,s=e.createElement("iframe"),a=function(){clearTimeout(o);try{s.onload=null}catch(e){}s.onerror=null},l=function(){s&&(a(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),n.unload_del(r))},c=function(e){s&&(l(),i(e))},u=function(e,t){try{s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}catch(n){}};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){c("onerror")},s.onload=function(){clearTimeout(o),o=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(s),o=setTimeout(function(){c("timeout")},15e3),r=n.unload_add(l),{post:u,cleanup:l,loaded:a}},n.createHtmlfile=function(e,i){var o,r,s,l=new ActiveXObject("htmlfile"),c=function(){clearTimeout(o)},u=function(){l&&(c(),n.unload_del(r),s.parentNode.removeChild(s),s=l=null,CollectGarbage())},d=function(e){l&&(u(),i(e))},h=function(e,t){try{s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}catch(n){}};l.open(),l.write('<html><script>document.domain="'+document.domain+'";</script></html>'),l.close(),l.parentWindow[a]=t[a];var f=l.createElement("div");return l.body.appendChild(f),s=l.createElement("iframe"),f.appendChild(s),s.src=e,o=setTimeout(function(){d("timeout")},15e3),r=n.unload_add(u),{post:h,cleanup:u,loaded:c}};var _=function(){};_.prototype=new r(["chunk","finish"]),_.prototype._start=function(e,i,o,r){var s=this;try{s.xhr=new XMLHttpRequest}catch(a){}if(!s.xhr)try{s.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}(t.ActiveXObject||t.XDomainRequest)&&(i+=(-1===i.indexOf("?")?"?":"&")+"t="+ +new Date),s.unload_ref=n.unload_add(function(){s._cleanup(!0)});try{s.xhr.open(e,i,!0)}catch(l){return s.emit("finish",0,""),s._cleanup(),void 0}if(r&&r.no_credentials||(s.xhr.withCredentials="true"),r&&r.headers)for(var c in r.headers)s.xhr.setRequestHeader(c,r.headers[c]);s.xhr.onreadystatechange=function(){if(s.xhr){var e=s.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&s.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),s.emit("finish",t,e.responseText),s._cleanup(!1)}}},s.xhr.send(o)},_.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(i){}t.unload_ref=t.xhr=null}},_.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var C=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};C.prototype=new _;var E=n.XHRLocalObject=function(e,t,i){var o=this;n.delay(function(){o._start(e,t,i,{no_credentials:!0})})};E.prototype=new _;var A=n.XDRObject=function(e,t,i){var o=this;n.delay(function(){o._start(e,t,i)})};A.prototype=new r(["chunk","finish"]),A.prototype._start=function(e,t,i){var o=this,r=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var s=r.ontimeout=r.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};r.onprogress=function(){o.emit("chunk",200,r.responseText)},r.onload=function(){o.emit("finish",200,r.responseText),o._cleanup(!1)},o.xdr=r,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(i)}catch(a){s()}},A.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(i){}t.unload_ref=t.xdr=null}},A.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:O.enabled()?3:4};var F=function(e,t,i){if(!(this instanceof F))return new F(e,t,i);var o,r=this;r._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},i&&n.objectExtend(r._options,i),r._base_url=n.amendUrl(e),r._server=r._options.server||n.random_number_string(1e3),r._options.protocols_whitelist&&r._options.protocols_whitelist.length?o=r._options.protocols_whitelist:(o="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,o&&r._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),r._protocols=[],r.protocol=null,r.readyState=F.CONNECTING,r._ir=V(r._base_url),r._ir.onfinish=function(e,t){r._ir=null,e?(r._options.info&&(e=n.objectExtend(e,r._options.info)),r._options.rtt&&(t=r._options.rtt),r._applyInfo(e,t,o),r._didClose()):r._didClose(1002,"Can't connect to server",!0)}};F.prototype=new i,F.version="0.3.4",F.CONNECTING=0,F.OPEN=1,F.CLOSING=2,F.CLOSED=3,F.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},F.prototype._dispatchOpen=function(){var e=this;e.readyState===F.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=F.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},F.prototype._dispatchMessage=function(e){var t=this;t.readyState===F.OPEN&&t.dispatchEvent(new o("message",{data:e}))},F.prototype._dispatchHeartbeat=function(){var e=this;e.readyState===F.OPEN&&e.dispatchEvent(new o("heartbeat",{}))},F.prototype._didClose=function(e,t,i){var r=this;if(r.readyState!==F.CONNECTING&&r.readyState!==F.OPEN&&r.readyState!==F.CLOSING)throw new Error("INVALID_STATE_ERR");r._ir&&(r._ir.nuke(),r._ir=null),r._transport&&(r._transport.doCleanup(),r._transport=null);var s=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&r.readyState===F.CONNECTING&&!i){if(r._try_next_protocol(s))return;s=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:s})}r.readyState=F.CLOSED,n.delay(function(){r.dispatchEvent(s)})},F.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var i=f.parse(e.slice(1)||"[]"),o=0;o<i.length;o++)t._dispatchMessage(i[o]);break;case"m":var i=f.parse(e.slice(1)||"null");t._dispatchMessage(i);break;case"c":var i=f.parse(e.slice(1)||"[]");t._didClose(i[0],i[1]);break;case"h":t._dispatchHeartbeat()}},F.prototype._try_next_protocol=function(t){var i=this;for(i.protocol&&(i._debug("Closed transport:",i.protocol,""+t),i.protocol=null),i._transport_tref&&(clearTimeout(i._transport_tref),i._transport_tref=null);;){var o=i.protocol=i._protocols.shift();if(!o)return!1;if(F[o]&&F[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return i._protocols.unshift(o),i.protocol="waiting-for-load",n.attachEvent("load",function(){i._try_next_protocol()}),!0;if(F[o]&&F[o].enabled(i._options)){var r=F[o].roundTrips||1,s=(i._options.rto||0)*r||5e3;i._transport_tref=n.delay(s,function(){i.readyState===F.CONNECTING&&i._didClose(2007,"Transport timeouted")});var a=n.random_string(8),l=i._base_url+"/"+i._server+"/"+a;return i._debug("Opening transport:",o," url:"+l," RTO:"+i._options.rto),i._transport=new F[o](i,l,i._base_url),!0}i._debug("Skipping transport:",o)}},F.prototype.close=function(e,t){var i=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return i.readyState!==F.CONNECTING&&i.readyState!==F.OPEN?!1:(i.readyState=F.CLOSING,i._didClose(e||1e3,t||"Normal closure"),!0)},F.prototype.send=function(e){var t=this;if(t.readyState===F.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===F.OPEN&&t._transport.doSend(n.quote(""+e)),!0},F.prototype._applyInfo=function(t,i,o){var r=this;r._options.info=t,r._options.rtt=i,r._options.rto=n.countRTO(i),r._options.info.null_origin=!e.domain,t.base_url&&(r._base_url=n.amendUrl(t.base_url,r._base_url));var s=n.probeProtocols();r._protocols=n.detectProtocols(s,o,t),n.isSameOriginScheme(r._base_url)||2!==n.isXHRCorsCapable()||(r._protocols=["jsonp-polling"])};var k=F.websocket=function(e,i){var o=this,r=i+"/websocket";r="https"===r.slice(0,5)?"wss"+r.slice(5):"ws"+r.slice(4),o.ri=e,o.url=r;var s=t.WebSocket||t.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};k.prototype.doSend=function(e){this.ws.send("["+e+"]")},k.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},k.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},k.roundTrips=2;var x=function(){};x.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},x.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},x.prototype.send_schedule_wait=function(){var e,t=this;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,function(){t.send_stop=null,t.send_schedule()})},x.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},x.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var S=function(t,i,o){var r=this;if(!("_send_form"in r)){var s=r._send_form=e.createElement("form"),a=r._send_area=e.createElement("textarea");a.name="d",s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",s.appendChild(a),e.body.appendChild(s)}var s=r._send_form,a=r._send_area,l="a"+n.random_string(8);s.target=l,s.action=t+"/jsonp_send?i="+l;var c;try{c=e.createElement('<iframe name="'+l+'">')}catch(u){c=e.createElement("iframe"),c.name=l}c.id=l,s.appendChild(c),c.style.display="none";try{a.value=i}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}s.submit();var h=function(){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),a.value="",o(!0))};return c.onerror=c.onload=h,c.onreadystatechange=function(){"complete"==c.readyState&&h()},h},D=function(e){return function(t,n,i){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e){i(200===e||204===e,"http status "+e)},function(e){i(!1,e)}}},B=function(t,i){var o,r,s=e.createElement("script"),a=function(e){r&&(r.parentNode.removeChild(r),r=null),s&&(clearTimeout(o),s.parentNode.removeChild(s),s.onreadystatechange=s.onerror=s.onload=s.onclick=null,s=null,i(e),i=null)},l=!1,c=null;if(s.id="a"+n.random_string(8),s.src=t,s.type="text/javascript",s.charset="UTF-8",s.onerror=function(){c||(c=setTimeout(function(){l||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},s.onload=function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(){if(/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){l=!0;try{s.onclick()}catch(e){}}s&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof s.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))r=e.createElement("script"),r.text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=r.async=!1;else{try{s.htmlFor=s.id,s.event="onclick"}catch(u){}s.async=!0}"undefined"!=typeof s.async&&(s.async=!0),o=setTimeout(function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(s,d.firstChild),r&&d.insertBefore(r,d.firstChild),a},T=F["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var i=this;i.ri=e,i.trans_url=t,i.send_constructor(S),i._schedule_recv()};T.prototype=new x,T.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=$(e.trans_url+"/jsonp",B,t)},T.enabled=function(){return!0},T.need_body=!0,T.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var $=function(e,i,o){var r="a"+n.random_string(6),s=e+"?c="+escape(a+"."+r),l=0,c=function(e){switch(l){case 0:delete t[a][r],o(e);break;case 1:o(e),l=2;break;case 2:delete t[a][r]}},u=i(s,c);t[a][r]=u;var d=function(){t[a][r]&&(l=1,t[a][r](n.closeFrame(1e3,"JSONP user aborted read")))};return d},L=function(){};L.prototype=new x,L.prototype.run=function(e,t,n,i,o){var r=this;r.ri=e,r.trans_url=t,r.send_constructor(D(o)),r.poll=new Z(e,i,t+n,o)},L.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var M=F["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XHRCorsObject)};M.prototype=new L,M.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},M.roundTrips=2,M.need_body=!0;var P=F["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XDRObject)};P.prototype=new L,P.enabled=function(){return!!t.XDomainRequest},P.roundTrips=2;var R=F["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRCorsObject)};R.prototype=new L,R.enabled=M.enabled,R.roundTrips=2;var I=F["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XDRObject)};I.prototype=new L,I.enabled=P.enabled,I.roundTrips=2;var O=function(){};O.prototype.i_constructor=function(e,t,i){var o=this;o.ri=e,o.origin=n.getOrigin(i),o.base_url=i,o.trans_url=t;var r=i+"/iframe.html";o.ri._options.devel&&(r+="?t="+ +new Date),o.window_id=n.random_string(8),r+="#"+o.window_id,o.iframeObj=n.createIframe(r,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},O.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},O.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),i=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(i){case"s":t.iframeObj.loaded(),t.postMessage("s",f.stringify([F.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},O.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},O.prototype.doSend=function(e){this.postMessage("m",e)},O.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var N,j=function(e,i){parent!==t?parent.postMessage(N+e+(i||""),"*"):n.log("Can't postMessage, no parent window.",e,i)},H=function(){};H.prototype._didClose=function(e,t){j("t",n.closeFrame(e,t))},H.prototype._didMessage=function(e){j("t",e)},H.prototype._doSend=function(e){this._transport.doSend(e)},H.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,F.bootstrap_iframe=function(){var i;N=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),r=e.data.slice(8,9),s=e.data.slice(9);if(o===N)switch(r){case"s":var a=f.parse(s),l=a[0],c=a[1],u=a[2],d=a[3];if(l!==F.version&&n.log('Incompatibile SockJS! Main site uses: "'+l+'", the iframe: "'+F.version+'".'),!n.flatUrl(u)||!n.flatUrl(d))return n.log("Only basic urls are supported in SockJS"),void 0;if(!n.isSameOriginUrl(u)||!n.isSameOriginUrl(d))return n.log("Can't connect to different domain from within an iframe. ("+f.stringify([t.location.href,u,d])+")"),void 0;i=new H,i._transport=new H[c](i,u,d);break;case"m":i._doSend(s);break;case"c":i&&i._doCleanup(),i=null}}};n.attachMessage(o),j("s")};var U=function(e,t){var i=this;n.delay(function(){i.doXhr(e,t)})};U.prototype=new r(["finish"]),U.prototype.doXhr=function(e,t){var i=this,o=(new Date).getTime(),r=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){r.ontimeout()});r.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,r=f.parse(t);"object"!=typeof r&&(r={}),i.emit("finish",r,n)}else i.emit("finish")},r.ontimeout=function(){r.close(),i.emit("finish")}};var z=function(t){var i=this,o=function(){var e=new O;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=f.parse(t.substr(1)),o=n[0],r=n[1];i.emit("finish",o,r)}else i.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};z.prototype=new r(["finish"]);var W=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};W.prototype=new r(["finish"]);var V=function(e){if(n.isSameOriginUrl(e))return new U(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new U(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new U(e,n.XDRObject):new W;case 3:return new z(e);default:return new W}},q=H["w-iframe-info-receiver"]=function(e,t,i){var o=new U(i,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+f.stringify([t,n])),e._didClose()}};q.prototype.doCleanup=function(){};var G=F["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};G.prototype=new O,G.enabled=function(){return"EventSource"in t&&O.enabled()},G.need_body=!0,G.roundTrips=3;var K=H["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",et,n.XHRLocalObject)};K.prototype=new L;var Y=F["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};Y.prototype=new O,Y.enabled=function(){return t.XMLHttpRequest&&O.enabled()},Y.need_body=!0,Y.roundTrips=3;var Q=H["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRLocalObject)};Q.prototype=new L;var J=F["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};J.prototype=new O,J.enabled=function(){return O.enabled()},J.need_body=!0,J.roundTrips=3;var X=H["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",it,n.XHRLocalObject)};X.prototype=new L;var Z=function(e,t,n,i){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=i,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var et=function(e){var t=this,i=new EventSource(e);i.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=i.onerror=function(e,r){var s=r?"user":2!==i.readyState?"network":"permanent";t.es_close=i.onmessage=i.onerror=null,i.close(),i=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:s}))})}};et.prototype=new i,et.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var tt,nt=function(){if(void 0===tt)if("ActiveXObject"in t)try{tt=!!new ActiveXObject("htmlfile")}catch(e){}else tt=!1;return tt},it=function(e){var i=this;n.polluteGlobalNamespace(),i.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(a+"."+i.id);var r,s=nt()?n.createHtmlfile:n.createIframe;t[a][i.id]={start:function(){r.loaded()},message:function(e){i.dispatchEvent(new o("message",{data:e}))},stop:function(){i.iframe_close({},"network")}},i.iframe_close=function(e,n){r.cleanup(),i.iframe_close=r=null,delete t[a][i.id],i.dispatchEvent(new o("close",{reason:n}))},r=s(e,function(){i.iframe_close({},"permanent")})};it.prototype=new i,it.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var ot=function(e,t){var n=this,i=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var r=t.slice(i),s=r.indexOf("\n");if(-1===s)break;i+=s+1;var a=r.slice(0,s);n.dispatchEvent(new o("message",{data:a}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var i=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:i}))}};return ot.prototype=new i,ot.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},F.getUtils=function(){return n},F.getIframeTransport=function(){return O},F}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return n})}.call(this),function(){t.ClientStream=function(e,t){alert(!window.location.href.match("localhost:3000"));var n=this;n.options=p.extend({retry:!0},t),n._initCommon(),window.location.href.match("localhost:3000")||(e="ddp+sockjs://ddp--****-youtap.meteor.com/sockjs"),n.HEARTBEAT_TIMEOUT=6e4,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",p.bind(n._online,n),!1),n._launchConnection()},p.extend(t.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),p.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(){var e=this;e._clearConnectionAndHeartbeatTimers(),e.socket&&(e.socket.onmessage=e.socket.onclose=e.socket.onerror=e.socket.onheartbeat=function(){},e.socket.close(),e.socket=null)},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var e=this;u._debug("Connection timeout. No heartbeat received."),e._lostConnection()},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(p.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var e=this;e._cleanup();var t=p.extend({protocols_whitelist:e._sockjsProtocolsWhitelist()},e.options._sockjsOptions);e.socket=new n(i(e.rawUrl),void 0,t),e.socket.onopen=function(){e._connected()},e.socket.onmessage=function(t){e._heartbeat_received(),e.currentStatus.connected&&p.each(e.eventCallbacks.message,function(e){e(t.data)})},e.socket.onclose=function(){e._lostConnection()},e.socket.onerror=function(){u._debug("stream error",p.toArray(arguments),(new Date).toDateString())},e.socket.onheartbeat=function(){e._heartbeat_received()},e.connectionTimer&&clearTimeout(e.connectionTimer),e.connectionTimer=setTimeout(p.bind(e._lostConnection,e),e.CONNECT_TIMEOUT)}})}.call(this),function(){var e=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},r=function(t,i,o){i||(i="http");var r,s=t.match(/^ddp(i?)\+sockjs:\/\//),a=t.match(/^http(s?):\/\//);if(s){var l=t.substr(s[0].length);r="i"===s[1]?i:i+"s";var c=l.indexOf("/"),h=-1===c?l:l.substr(0,c),f=-1===c?"":l.substr(c);return h=h.replace(/\*/g,function(){return Math.floor(10*d.fraction())}),r+"://"+h+f}if(a){r=a[1]?i+"s":i;var p=t.substr(a[0].length);t=r+"://"+p}return-1!==t.indexOf("://")||e(t,"/")||(t=i+"://"+t),t=u._relativeToSiteRootUrl(t),n(t,"/")?t+o:t+"/"+o};i=function(e){return r(e,"http","sockjs")},o=function(e){var t=r(e,"ws","websocket");return t},t.toSockjsUrl=i,p.extend(t.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(){var e=this;e.CONNECT_TIMEOUT=1e4,e.eventCallbacks={},e._forcedToDisconnect=!1,e.currentStatus={status:"connecting",connected:!1,retryCount:0},e.statusListeners="undefined"!=typeof g&&new g.Dependency,e.statusChanged=function(){e.statusListeners&&e.statusListeners.changed()},e._retry=new m,e.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?((e._force||e.url)&&t._lostConnection(),void 0):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,t._retryNow(),void 0)},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(){var e=this;e._cleanup(),e._retryLater()},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(){var e=this,t=0;e.options.retry&&(t=e._retry.retryLater(e.currentStatus.retryCount,p.bind(e._retryNow,e))),e.currentStatus.status="waiting",e.currentStatus.connected=!1,e.currentStatus.retryTime=(new Date).getTime()+t,e.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}})}.call(this),function(){e={},r=["pre1"],t.SUPPORTED_DDP_VERSIONS=r,s=function(e){this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection},p.extend(s.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),a=function(e){try{var t=f.parse(e)}catch(n){return u._debug("Discarding message with invalid JSON",e),null}return null===t||"object"!=typeof t?(u._debug("Discarding non-object DDP message",e),null):(p.has(t,"cleared")&&(p.has(t,"fields")||(t.fields={}),p.each(t.cleared,function(e){t.fields[e]=void 0
}),delete t.cleared),p.each(["fields","params","result"],function(e){p.has(t,e)&&(t[e]=h._adjustTypesFromJSONValue(t[e]))}),t)},l=function(e){var t=h.clone(e);if(p.has(e,"fields")){var n=[];p.each(e.fields,function(e,i){void 0===e&&(n.push(i),delete t.fields[i])}),p.isEmpty(n)||(t.cleared=n),p.isEmpty(t.fields)&&delete t.fields}if(p.each(["fields","params","result"],function(e){p.has(t,e)&&(t[e]=h._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return f.stringify(t)},e._CurrentInvocation=new u.EnvironmentVariable}.call(this),function(){if(u.isServer)var n=Npm.require("path"),i=(Npm.require("fibers"),Npm.require(n.join("fibers","future")));var o=function(e,n){var i=this;n=p.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(e){u._debug(e)},reloadWithOutstanding:!1,supportedDDPVersions:r,retry:!0},n),i.onReconnect=null,i._stream="object"==typeof e?e:new t.ClientStream(e,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions}),i._lastSessionId=null,i._versionSuggestion=null,i._version=null,i._stores={},i._methodHandlers={},i._nextMethodId=1,i._supportedDDPVersions=n.supportedDDPVersions,i._methodInvokers={},i._outstandingMethodBlocks=[],i._documentsWrittenByStub={},i._serverDocuments={},i._afterUpdateCallbacks=[],i._messagesBufferedUntilQuiescence=[],i._methodsBlockingQuiescence={},i._subsBeingRevived={},i._resetStores=!1,i._updatesForUnknownStores={},i._retryMigrate=null,i._subscriptions={},i._userId=null,i._userIdDeps="undefined"!=typeof g&&new g.Dependency,u.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(i._readyToMigrate())return[!0];if(i._retryMigrate)throw new Error("Two migrations in progress?");return i._retryMigrate=e,!1});var o=function(e){try{var t=a(e)}catch(o){return u._debug("Exception while parsing DDP",o),void 0}if(null===t||!t.msg)return t&&t.server_id||u._debug("discarding invalid livedata message",t),void 0;if("connected"===t.msg)i._version=i._versionSuggestion,n.onConnected(),i._livedata_connected(t);else if("failed"==t.msg)if(p.contains(i._supportedDDPVersions,t.version))i._versionSuggestion=t.version,i._stream.reconnect({_force:!0});else{var r="DDP version negotiation failed; server requested version "+t.version;i._stream.disconnect({_permanent:!0,_error:r}),n.onDDPVersionNegotiationFailure(r)}else p.include(["added","changed","removed","ready","updated"],t.msg)?i._livedata_data(t):"nosub"===t.msg?i._livedata_nosub(t):"result"===t.msg?i._livedata_result(t):"error"===t.msg?i._livedata_error(t):u._debug("discarding unknown livedata message type",t)},s=function(){var e={msg:"connect"};i._lastSessionId&&(e.session=i._lastSessionId),e.version=i._versionSuggestion||i._supportedDDPVersions[0],i._versionSuggestion=e.version,e.support=i._supportedDDPVersions,i._send(e),!p.isEmpty(i._outstandingMethodBlocks)&&p.isEmpty(i._outstandingMethodBlocks[0].methods)&&i._outstandingMethodBlocks.shift(),p.each(i._methodInvokers,function(e){e.sentMessage=!1}),i.onReconnect?i._callOnReconnectAndSendAppropriateOutstandingMethods():i._sendOutstandingMethods(),p.each(i._subscriptions,function(e,t){i._send({msg:"sub",id:t,name:e.name,params:e.params})})};u.isServer?(i._stream.on("message",u.bindEnvironment(o,u._debug)),i._stream.on("reset",u.bindEnvironment(s,u._debug))):(i._stream.on("message",o),i._stream.on("reset",s))},m=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};p.extend(m.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),p.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var i={};p.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){i[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=i;var o=n._updatesForUnknownStores[e];return o&&(i.beginUpdate(o.length,!1),p.each(o,function(e){i.update(e)}),i.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),i={};if(n.length){var o=n[n.length-1];"function"==typeof o?i.onReady=n.pop():!o||"function"!=typeof o.onReady&&"function"!=typeof o.onError||(i=n.pop())}var r,s=p.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&h.equals(t.params,n)});s?(r=s.id,s.inactive=!1,i.onReady&&(s.ready||(s.readyCallback=i.onReady)),i.onError&&(s.errorCallback=i.onError)):(r=d.id(),t._subscriptions[r]={id:r,name:e,params:n,inactive:!1,ready:!1,readyDeps:"undefined"!=typeof g&&new g.Dependency,readyCallback:i.onReady,errorCallback:i.onError},t._send({msg:"sub",id:r,name:e,params:n}));var a={stop:function(){p.has(t._subscriptions,r)&&(t._send({msg:"unsub",id:r}),delete t._subscriptions[r])},ready:function(){if(!p.has(t._subscriptions,r))return!1;var e=t._subscriptions[r];return e.readyDeps&&e.readyDeps.depend(),e.ready}};return g.active&&g.onInvalidate(function(){p.has(t._subscriptions,r)&&(t._subscriptions[r].inactive=!0),g.afterFlush(function(){p.has(t._subscriptions,r)&&t._subscriptions[r].inactive&&a.stop()})}),a},_subscribeAndWait:function(e,t,n){var o,r=this,s=new i,a=!1;return t=t||[],t.push({onReady:function(){a=!0,s["return"]()},onError:function(e){a?n&&n.onLateError&&n.onLateError(e):s["throw"](e)}}),o=r.subscribe.apply(r,[e].concat(t)),s.wait(),o},methods:function(e){var t=this;p.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,r){var a=this;r||"function"!=typeof o||(r=o,o={}),o=o||{},r&&(r=u.bindEnvironment(r,"delivering result of invoking '"+t+"'"));var l=function(){var e;return function(){return void 0===e&&(e=""+a._nextMethodId++),e}}(),c=e._CurrentInvocation.get(),d=c&&c.isSimulation,f=a._methodHandlers[t];if(f){var g=function(e){a.setUserId(e)},v=new s({isSimulation:!0,userId:a.userId(),setUserId:g});d||a._saveOriginals();try{var y=e._CurrentInvocation.withValue(v,function(){return u.isServer?u._noYieldsAllowed(function(){return f.apply(v,h.clone(n))}):f.apply(v,h.clone(n))})}catch(b){var w=b}d||a._retrieveAndStoreOriginals(l())}if(d){if(r)return r(w,y),void 0;if(w)throw w;return y}if(w&&!w.expected&&u._debug("Exception while simulating the effect of invoking '"+t+"'",w,w.stack),!r)if(u.isClient)r=function(){};else{var _=new i;r=_.resolver()}var C=new m({methodId:l(),callback:r,connection:a,onResultReceived:o.onResultReceived,wait:!!o.wait,message:{msg:"method",method:t,params:n,id:l()}});return o.wait?a._outstandingMethodBlocks.push({wait:!0,methods:[C]}):((p.isEmpty(a._outstandingMethodBlocks)||p.last(a._outstandingMethodBlocks).wait)&&a._outstandingMethodBlocks.push({wait:!1,methods:[]}),p.last(a._outstandingMethodBlocks).methods.push(C)),1===a._outstandingMethodBlocks.length&&C.sendMessage(),_?_.wait():void 0},_saveOriginals:function(){var e=this;p.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];p.each(t._stores,function(i,o){var r=i.retrieveOriginals();r&&r.forEach(function(i,r){n.push({collection:o,id:r}),p.has(t._serverDocuments,o)||(t._serverDocuments[o]=new v._IdMap);var s=t._serverDocuments[o].setDefault(r,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=i,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),p.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;p.each(p.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&(e._send({msg:"unsub",id:n}),delete e._subscriptions[n])})},_send:function(e){var t=this;t._stream.send(l(e))},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!p.isEmpty(e._subsBeingRevived)||!p.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return p.any(p.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if(t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},p.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&p.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(p.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(p.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],p.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),p.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;p.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!p.isEmpty(n))&&(p.each(t._stores,function(e,i){e.beginUpdate(p.has(n,i)?n[i].length:0,t._resetStores)}),t._resetStores=!1,p.each(n,function(e,n){var i=t._stores[n];i?p.each(e,function(e){i.update(e)}):(p.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),p.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],p.each(t,function(e){e()})},_pushUpdate:function(e,t,n){p.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!p.has(n._serverDocuments,e))return null;var i=n._serverDocuments[e];return i.get(t)||null},_process_added:function(e,t){var n=this,i=v._idParse(e.id),o=n._getServerDoc(e.collection,i);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=i}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,i=n._getServerDoc(e.collection,v._idParse(e.id));if(i){if(void 0===i.document)throw new Error("Server sent changed for nonexisting id: "+e.id);v._applyChanges(i.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,i=n._getServerDoc(e.collection,v._idParse(e.id));if(i){if(void 0===i.document)throw new Error("Server sent removed for nonexisting id:"+e.id);i.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;p.each(e.methods,function(e){p.each(n._documentsWrittenByStub[e],function(i){var o=n._getServerDoc(i.collection,i.id);if(!o)throw new Error("Lost serverDoc for "+f.stringify(i));if(!o.writtenByStubs[e])throw new Error("Doc "+f.stringify(i)+" not written by  method "+e);delete o.writtenByStubs[e],p.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,i.collection,{msg:"replace",id:v._idStringify(i.id),replace:o.document}),p.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[i.collection].remove(i.id))}),delete n._documentsWrittenByStub[e];var i=n._methodInvokers[e];if(!i)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(p.bind(i.dataVisible,i))})},_process_ready:function(e){var t=this;p.each(e.subs,function(e){t._runWhenAllServerDocsAreFlushed(function(){var n=t._subscriptions[e];n&&(n.ready||(n.readyCallback&&n.readyCallback(),n.ready=!0,n.readyDeps&&n.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},i=0,o=function(){--i,0===i&&n()};p.each(t._serverDocuments,function(e){e.forEach(function(e){var n=p.any(e.writtenByStubs,function(e,n){var i=t._methodInvokers[n];return i&&i.sentMessage});n&&(++i,e.flushCallbacks.push(o))})}),0===i&&n()},_livedata_nosub:function(e){var t=this;if(t._livedata_data(e),p.has(t._subscriptions,e.id)){var n=t._subscriptions[e.id].errorCallback;delete t._subscriptions[e.id],n&&e.error&&n(new u.Error(e.error.error,e.error.reason,e.error.details))}},_process_nosub:function(){},_livedata_result:function(e){var t=this;if(p.isEmpty(t._outstandingMethodBlocks))return u._debug("Received method result but no methods outstanding"),void 0;for(var n,i=t._outstandingMethodBlocks[0].methods,o=0;o<i.length&&(n=i[o],n.methodId!==e.id);o++);return n?(i.splice(o,1),p.has(e,"error")?n.receiveResult(new u.Error(e.error.error,e.error.reason,e.error.details)):n.receiveResult(void 0,e.result),void 0):(u._debug("Can't match method response to original method call",e),void 0)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!p.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!p.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+f.stringify(t));p.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;p.isEmpty(e._outstandingMethodBlocks)||p.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(e){u._debug("Received error from server: ",e.reason),e.offendingMessage&&u._debug("For: ",e.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!p.isEmpty(t)){if(p.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,e._sendOutstandingMethods(),void 0;p.last(e._outstandingMethodBlocks).wait||t[0].wait||(p.each(t[0].methods,function(t){p.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),p.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return p.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),t.Connection=o,e.connect=function(e,t){var n=new o(e,t);return c.push(n),n},c=[],e._allSubscriptionsReady=function(){return p.all(c,function(e){return p.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(u.refresh=function(){},u.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new m,i=function(e){if(u._debug(e),Package.reload){var t=Package.reload.Reload._migrationData("livedata")||{},i=t.DDPVersionNegotiationFailures||0;++i,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:i}]}),n.retryLater(i,function(){Package.reload.Reload._reload()})}};u.connection=e.connect(t,{onDDPVersionNegotiationFailure:i}),p.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(e){u[e]=p.bind(u.connection[e],u.connection)})}else u.connection=null;u.default_connection=u.connection,u.connect=e.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}(),function(){{var e;Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.livedata.DDP,Package.ejson.EJSON}"undefined"==typeof Package&&(Package={}),Package["follower-livedata"]={Follower:e}}(),function(){Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.livedata.DDP,Package.ejson.EJSON,Package["follower-livedata"].Follower;"undefined"==typeof Package&&(Package={}),Package["application-configuration"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.insecure={}}(),function(){var e,t=Package.meteor.Meteor,n=Package.random.Random,i=Package.ejson.EJSON,o=(Package.json.JSON,Package.underscore._),r=Package.minimongo.LocalCollection,s=(Package.minimongo.Minimongo,Package.logging.Log,Package.livedata.DDP),a=(Package.deps.Deps,Package.check.check),l=Package.check.Match;(function(){e=function(){var e=this;e.noConnCollections={}};var t=function(e,t){return e in t||(t[e]=new r(e)),t[e]};o.extend(e.prototype,{open:function(e,n){var i=this;return e?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),t(e,n._mongo_livedata_collections)):t(e,i.noConnCollections):new r}}),e=new e}).call(this),function(){t.Collection=function(i,s){var a=this;if(!(a instanceof t.Collection))throw new Error('use "new" to construct a Meteor.Collection');switch(s&&s.methods&&(s={connection:s}),s&&s.manager&&!s.connection&&(s.connection=s.manager),s=o.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},s),s.idGeneration){case"MONGO":a._makeNewID=function(){return new t.Collection.ObjectID};break;case"STRING":default:a._makeNewID=function(){return n.id()}}if(a._transform=r.wrapTransform(s.transform),i||null===i||t._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),a._connection=i&&null!==s.connection?s.connection?s.connection:t.isClient?t.connection:t.server:null,s._driver||(s._driver=i&&a._connection===t.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():e),a._collection=s._driver.open(i,a._connection),a._name=i,a._connection&&a._connection.registerStore){var l=a._connection.registerStore(i,{beginUpdate:function(e,t){(e>1||t)&&a._collection.pauseObservers(),t&&a._collection.remove({})},update:function(e){var t=r._idParse(e.id),n=a._collection.findOne(t);if("replace"===e.msg){var i=e.replace;return i?n?a._collection.update(t,i):a._collection.insert(i):n&&a._collection.remove(t),void 0}if("added"===e.msg){if(n)throw new Error("Expected not to find a document already present for an add");a._collection.insert(o.extend({_id:t},e.fields))}else if("removed"===e.msg){if(!n)throw new Error("Expected to find a document already present for removed");a._collection.remove(t)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!o.isEmpty(e.fields)){var s={};o.each(e.fields,function(e,t){void 0===e?(s.$unset||(s.$unset={}),s.$unset[t]=1):(s.$set||(s.$set={}),s.$set[t]=e)}),a._collection.update(t,s)}}},endUpdate:function(){a._collection.resumeObservers()},saveOriginals:function(){a._collection.saveOriginals()},retrieveOriginals:function(){return a._collection.retrieveOriginals()}});if(!l)throw new Error("There is already a collection named '"+i+"'")}a._defineMutationMethods(),Package.autopublish&&!s._preventAutopublish&&a._connection&&a._connection.publish&&a._connection.publish(null,function(){return a.find()},{is_auto:!0})},o.extend(t.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var t=this;return e.length<2?{transform:t._transform}:o.extend({transform:t._transform},e[1])},find:function(){var e=this,t=o.toArray(arguments);return e._collection.find(e._getFindSelector(t),e._getFindOptions(t))},findOne:function(){var e=this,t=o.toArray(arguments);return e._collection.findOne(e._getFindSelector(t),e._getFindOptions(t))}}),t.Collection._publishCursor=function(e,t,n){var i=e.observeChanges({added:function(e,i){t.added(n,e,i)},changed:function(e,i){t.changed(n,e,i)},removed:function(e){t.removed(n,e)}});t.onStop(function(){i.stop()})},t.Collection._rewriteSelector=function(e){if(r._selectorIsId(e)&&(e={_id:e}),!e||"_id"in e&&!e._id)return{_id:n.id()};var i={};return o.each(e,function(e,n){e instanceof RegExp?i[n]=c(e):e&&e.$regex instanceof RegExp?(i[n]=c(e.$regex),void 0!==e.$options&&(i[n].$options=e.$options)):i[n]=o.contains(["$or","$and","$nor"],n)?o.map(e,function(e){return t.Collection._rewriteSelector(e)}):e}),i};var c=function(e){a(e,RegExp);var t={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(t.$options=n),t},u=function(e,n){if(!r._selectorIsIdPerhapsAsObject(e))throw new t.Error(403,"Not permitted. Untrusted code may only "+n+" documents by ID.")};o.each(["insert","update","remove"],function(e){t.Collection.prototype[e]=function(){var n,i,r,a=this,l=o.toArray(arguments);if(l.length&&l[l.length-1]instanceof Function&&(n=l.pop()),"insert"===e){if(!l.length)throw new Error("insert requires an argument");if(l[0]=o.extend({},l[0]),"_id"in l[0]){if(i=l[0]._id,!i||!("string"==typeof i||i instanceof t.Collection.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else i=l[0]._id=a._makeNewID()}else if(l[0]=t.Collection._rewriteSelector(l[0]),"update"===e){var c=l[2]=o.clone(l[2])||{};if(c&&"function"!=typeof c&&c.upsert)if(c.insertedId){if(!("string"==typeof c.insertedId||c.insertedId instanceof t.Collection.ObjectID))throw new Error("insertedId must be string or ObjectID")}else c.insertedId=a._makeNewID()}var d,h=function(t){return"insert"===e?i:t};if(n&&(d=function(e,t){n(e,!e&&h(t))}),a._connection&&a._connection!==t.server){var f=s._CurrentInvocation.get(),p=f&&f.isSimulation;!t.isClient||d||p||(d=function(n){n&&t._debug(e+" failed: "+(n.reason||n.stack))}),p||"insert"===e||u(l[0],e),r=h(a._connection.apply(a._prefix+e,l,d))}else{l.push(d);try{var g=a._collection[e].apply(a._collection,l);r=h(g)}catch(m){if(n)return n(m),null;throw m}}return r}}),t.Collection.prototype.upsert=function(e,t,n,i){var r=this;return i||"function"!=typeof n||(i=n,n={}),r.update(e,t,o.extend({},n,{_returnObject:!0,upsert:!0}),i)},t.Collection.prototype._ensureIndex=function(e,t){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,t)},t.Collection.prototype._dropIndex=function(e){var t=this;if(!t._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");t._collection._dropIndex(e)},t.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},t.Collection.prototype._createCappedCollection=function(e){var t=this;if(!t._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");t._collection._createCappedCollection(e)},t.Collection.ObjectID=r._ObjectID,function(){var e=function(e,t){var n=["insert","update","remove","fetch","transform"];o.each(o.keys(t),function(t){if(!o.contains(n,t))throw new Error(e+": Invalid key: "+t)});var i=this;if(i._restricted=!0,o.each(["insert","update","remove"],function(n){if(t[n]){if(!(t[n]instanceof Function))throw new Error(e+": Value for `"+n+"` must be a function");t[n].transform=void 0===t.transform?i._transform:r.wrapTransform(t.transform),i._validators[n][e].push(t[n])}}),t.update||t.remove||t.fetch){if(t.fetch&&!(t.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");i._updateFetch(t.fetch)}};t.Collection.prototype.allow=function(t){e.call(this,"allow",t)},t.Collection.prototype.deny=function(t){e.call(this,"deny",t)}}(),t.Collection.prototype._defineMutationMethods=function(){var e=this;if(e._restricted=!1,e._insecure=void 0,e._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},e._name&&(e._prefix="/"+e._name+"/",e._connection)){var n={};o.each(["insert","update","remove"],function(i){n[e._prefix+i]=function(){a(arguments,[l.Any]);try{if(this.isSimulation)return e._collection[i].apply(e._collection,o.toArray(arguments));if("insert"!==i&&u(arguments[0],i),e._restricted){if(0===e._validators[i].allow.length)throw new t.Error(403,"Access denied. No allow validators set on restricted collection for method '"+i+"'.");var n="_validated"+i.charAt(0).toUpperCase()+i.slice(1),r=[this.userId].concat(o.toArray(arguments));return e[n].apply(e,r)}if(e._isInsecure())return e._collection[i].apply(e._collection,o.toArray(arguments));throw new t.Error(403,"Access denied")}catch(s){throw"MongoError"===s.name||"MinimongoError"===s.name?new t.Error(409,s.toString()):s}}}),(t.isClient||e._connection===t.server)&&e._connection.methods(n)}},t.Collection.prototype._updateFetch=function(e){var t=this;t._validators.fetchAllFields||(e?t._validators.fetch=o.union(t._validators.fetch,e):(t._validators.fetchAllFields=!0,t._validators.fetch=null))},t.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var d=function(e,t){var n=t;return e.transform&&(n=e.transform(i.clone(t))),n};t.Collection.prototype._validatedInsert=function(e,n){var i=this;if(o.any(i._validators.insert.deny,function(t){return t(e,d(t,n))}))throw new t.Error(403,"Access denied");if(o.all(i._validators.insert.allow,function(t){return!t(e,d(t,n))}))throw new t.Error(403,"Access denied");i._collection.insert.call(i._collection,n)};var h=function(e,t){return e.transform?e.transform(t):t};t.Collection.prototype._validatedUpdate=function(e,n,i,s){var a=this;if(s=s||{},!r._selectorIsIdPerhapsAsObject(n))throw new Error("validated update should be of a single ID");if(s.upsert)throw new t.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var l=[];o.each(i,function(e,n){if("$"!==n.charAt(0))throw new t.Error(403,"Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.");if(!o.has(f,n))throw new t.Error(403,"Access denied. Operator "+n+" not allowed in a restricted collection.");o.each(o.keys(e),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),o.contains(l,e)||l.push(e)})});var c={transform:null};a._validators.fetchAllFields||(c.fields={},o.each(a._validators.fetch,function(e){c.fields[e]=1}));var u=a._collection.findOne(n,c);if(!u)return 0;var d;if(o.any(a._validators.update.deny,function(t){return d||(d=h(t,u)),t(e,d,l,i)}))throw new t.Error(403,"Access denied");if(o.all(a._validators.update.allow,function(t){return d||(d=h(t,u)),!t(e,d,l,i)}))throw new t.Error(403,"Access denied");return a._collection.update.call(a._collection,n,i,s)};var f={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};t.Collection.prototype._validatedRemove=function(e,n){var i=this,r={transform:null};i._validators.fetchAllFields||(r.fields={},o.each(i._validators.fetch,function(e){r.fields[e]=1}));var s=i._collection.findOne(n,r);if(!s)return 0;if(o.any(i._validators.remove.deny,function(t){return t(e,h(t,s))}))throw new t.Error(403,"Access denied");if(o.all(i._validators.remove.allow,function(t){return!t(e,h(t,s))}))throw new t.Error(403,"Access denied");return i._collection.remove.call(i._collection,n)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["mongo-livedata"]={}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.deps.Deps,i=Package.retry.Retry;Package.livedata.DDP}(function(){var o=__meteor_runtime_config__.autoupdateVersion||"unknown",r=new t.Collection("meteor_autoupdate_clientVersions");e={},e.newClientAvailable=function(){return!!r.findOne({$and:[{current:!0},{_id:{$ne:o}}]})};var s=new i({minCount:0,baseTimeout:3e4}),a=0;e._retrySubscription=function(){t.subscribe("meteor_autoupdate_clientVersions",{onError:function(n){t._debug("autoupdate subscription failed:",n),a++,s.retryLater(a,function(){e._retrySubscription()})},onReady:function(){Package.reload&&n.autorun(function(e){r.findOne({current:!0})&&!r.findOne({_id:o})&&(e.stop(),Package.reload.Reload._reload())})}})},e._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:e}}(),function(){Package.meteor.Meteor,Package.reload.Reload,Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["standard-app-packages"]={}}(),function(){Package.meteor.Meteor;(function(){!function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Ft[e]={};return ut.each(e.match(ht)||[],function(e,n){t[n]=!0}),t}function o(e,n,i,o){if(ut.acceptData(e)){var r,s,a=ut.expando,l=e.nodeType,c=l?ut.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(o||c[u].data)||i!==t||"string"!=typeof n)return u||(u=l?e[a]=tt.pop()||ut.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),("object"==typeof n||"function"==typeof n)&&(o?c[u]=ut.extend(c[u],n):c[u].data=ut.extend(c[u].data,n)),s=c[u],o||(s.data||(s.data={}),s=s.data),i!==t&&(s[ut.camelCase(n)]=i),"string"==typeof n?(r=s[n],null==r&&(r=s[ut.camelCase(n)])):r=s,r}}function r(e,t,n){if(ut.acceptData(e)){var i,o,r=e.nodeType,s=r?ut.cache:e,l=r?e[ut.expando]:ut.expando;if(s[l]){if(t&&(i=n?s[l]:s[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in i?t=[t]:(t=ut.camelCase(t),t=t in i?[t]:t.split(" ")),o=t.length;for(;o--;)delete i[t[o]];if(n?!a(i):!ut.isEmptyObject(i))return}(n||(delete s[l].data,a(s[l])))&&(r?ut.cleanData([e],!0):ut.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(e,n,i){if(i===t&&1===e.nodeType){var o="data-"+n.replace(xt,"-$1").toLowerCase();if(i=e.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:kt.test(i)?ut.parseJSON(i):i}catch(r){}ut.data(e,n,i)}else i=t}return i}function a(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Q.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,n){if(ut.isFunction(t))return ut.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ut.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ut.test(t))return ut.filter(t,e,n);t=ut.filter(t,e)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0!==n})}function f(e){var t=qt.split("|"),n=e.createDocumentFragment();
if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return ut.nodeName(e,"table")&&ut.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function g(e){return e.type=(null!==ut.find.attr(e,"type"))+"/"+e.type,e}function m(e){var t=rn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n,i=0;null!=(n=e[i]);i++)ut._data(n,"globalEval",!t||ut._data(t[i],"globalEval"))}function y(e,t){if(1===t.nodeType&&ut.hasData(e)){var n,i,o,r=ut._data(e),s=ut._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)ut.event.add(t,n,a[n][i])}s.data&&(s.data=ut.extend({},s.data))}}function b(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){o=ut._data(t);for(i in o.events)ut.removeEvent(t,i,o.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(g(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function w(e,n){var i,o,r=0,s=typeof e.getElementsByTagName!==K?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==K?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],i=e.childNodes||e;null!=(o=i[r]);r++)!n||ut.nodeName(o,n)?s.push(o):ut.merge(s,w(o,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],s):s}function _(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function C(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=Fn.length;o--;)if(t=Fn[o]+n,t in e)return t;return i}function E(e,t){return e=t||e,"none"===ut.css(e,"display")||!ut.contains(e.ownerDocument,e)}function A(e,t){for(var n,i,o,r=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(r[s]=ut._data(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&E(i)&&(r[s]=ut._data(i,"olddisplay",S(i.nodeName)))):r[s]||(o=E(i),(n&&"none"!==n||!o)&&ut._data(i,"olddisplay",o?n:ut.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function F(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function k(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=ut.css(e,n+An[r],!0,o)),i?("content"===n&&(s-=ut.css(e,"padding"+An[r],!0,o)),"margin"!==n&&(s-=ut.css(e,"border"+An[r]+"Width",!0,o))):(s+=ut.css(e,"padding"+An[r],!0,o),"padding"!==n&&(s+=ut.css(e,"border"+An[r]+"Width",!0,o)));return s}function x(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=dn(e),s=ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=hn(e,t,r),(0>o||null==o)&&(o=e.style[t]),bn.test(o))return o;i=s&&(ut.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+k(e,t,n||(s?"border":"content"),i,r)+"px"}function S(e){var t=Q,n=_n[e];return n||(n=D(e,t),"none"!==n&&n||(un=(un||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=D(e,t),un.detach()),_n[e]=n),n}function D(e,t){var n=ut(t.createElement(e)).appendTo(t.body),i=ut.css(n[0],"display");return n.remove(),i}function B(e,t,n,i){var o;if(ut.isArray(t))ut.each(t,function(t,o){n||xn.test(e)?i(e,o):B(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==ut.type(t))i(e,t);else for(o in t)B(e+"["+o+"]",t[o],n,i)}function T(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(ht)||[];if(ut.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function $(e,t,n,i){function o(a){var l;return r[a]=!0,ut.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=e===Wn;return o(t.dataTypes[0])||!r["*"]&&o("*")}function L(e,n){var i,o,r=ut.ajaxSettings.flatOptions||{};for(o in n)n[o]!==t&&((r[o]?e:i||(i={}))[o]=n[o]);return i&&ut.extend(!0,e,i),e}function M(e,n,i){for(var o,r,s,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){c.unshift(a);break}if(c[0]in i)s=c[0];else{for(a in i){if(!c[0]||e.converters[a+" "+c[0]]){s=a;break}o||(o=a)}s=s||o}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function P(e,t,n,i){var o,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function R(){try{return new e.XMLHttpRequest}catch(t){}}function I(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function O(){return setTimeout(function(){Zn=t}),Zn=ut.now()}function N(e,t,n){for(var i,o=(ri[t]||[]).concat(ri["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,t,e))return i}function j(e,t,n){var i,o,r=0,s=oi.length,a=ut.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Zn||O(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return a.notifyWith(e,[c,r,n]),1>r&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ut.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(H(u,c.opts.specialEasing);s>r;r++)if(i=oi[r].call(c,e,u,c.opts))return i;return ut.map(u,N,c),ut.isFunction(c.opts.start)&&c.opts.start.call(e,c),ut.fx.timer(ut.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e,t){var n,i,o,r,s;for(n in e)if(i=ut.camelCase(n),o=t[i],r=e[n],ut.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=ut.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function U(e,t,n){var i,o,r,s,a,l,c=this,u={},d=e.style,h=e.nodeType&&E(e),f=ut._data(e,"fxshow");n.queue||(a=ut._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ut.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ut.css(e,"display")&&"none"===ut.css(e,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ut.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],ti.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(h?"hide":"show"))continue;u[i]=f&&f[i]||ut.style(e,i)}if(!ut.isEmptyObject(u)){f?"hidden"in f&&(h=f.hidden):f=ut._data(e,"fxshow",{}),r&&(f.hidden=!h),h?ut(e).show():c.done(function(){ut(e).hide()}),c.done(function(){var t;ut._removeData(e,"fxshow");for(t in u)ut.style(e,t,u[t])});for(i in u)s=N(h?f[i]:0,i,c),i in f||(f[i]=s.start,h&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function z(e,t,n,i,o){return new z.prototype.init(e,t,n,i,o)}function W(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=An[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function V(e){return ut.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var q,G,K=typeof t,Y=e.location,Q=e.document,J=Q.documentElement,X=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",it=tt.concat,ot=tt.push,rt=tt.slice,st=tt.indexOf,at=et.toString,lt=et.hasOwnProperty,ct=nt.trim,ut=function(e,t){return new ut.fn.init(e,t,G)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ht=/\S+/g,ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,wt=/^-ms-/,_t=/-([\da-z])/gi,Ct=function(e,t){return t.toUpperCase()},Et=function(e){(Q.addEventListener||"load"===e.type||"complete"===Q.readyState)&&(At(),ut.ready())},At=function(){Q.addEventListener?(Q.removeEventListener("DOMContentLoaded",Et,!1),e.removeEventListener("load",Et,!1)):(Q.detachEvent("onreadystatechange",Et),e.detachEvent("onload",Et))};ut.fn=ut.prototype={jquery:nt,constructor:ut,init:function(e,n,i){var o,r;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:pt.exec(e),!o||!o[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(o[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:Q,!0)),gt.test(o[1])&&ut.isPlainObject(n))for(o in n)ut.isFunction(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}if(r=Q.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return i.find(e);this.length=1,this[0]=r}return this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,toArray:function(){return rt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ot,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,i,o,r,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ut.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(o in r)e=a[o],i=r[o],a!==i&&(u&&i&&(ut.isPlainObject(i)||(n=ut.isArray(i)))?(n?(n=!1,s=e&&ut.isArray(e)?e:[]):s=e&&ut.isPlainObject(e)?e:{},a[o]=ut.extend(u,s,i)):i!==t&&(a[o]=i));return a},ut.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ut&&(e.$=Z),t&&e.jQuery===ut&&(e.jQuery=X),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!Q.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||(q.resolveWith(Q,[ut]),ut.fn.trigger&&ut(Q).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ut.type(e)},isArray:Array.isArray||function(e){return"array"===ut.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[at.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ut.type(e)||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ut.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=gt.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=ut.buildFragment([e],t,o),o&&ut(o).remove(),ut.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ut.trim(t),t&&mt.test(t.replace(yt,"@").replace(bt,"]").replace(vt,"")))?new Function("return "+t)():(ut.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,o;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(o=new DOMParser,i=o.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(wt,"ms-").replace(_t,Ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,r=0,s=e.length,a=n(e);if(i){if(a)for(;s>r&&(o=t.apply(e[r],i),o!==!1);r++);else for(r in e)if(o=t.apply(e[r],i),o===!1)break}else if(a)for(;s>r&&(o=t.call(e[r],r,e[r]),o!==!1);r++);else for(r in e)if(o=t.call(e[r],r,e[r]),o===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(ft,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ut.merge(i,"string"==typeof e?[e]:e):ot.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(st)return st.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,o=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[o++]=n[r];else for(;n[r]!==t;)e[o++]=n[r++];return e.length=o,e},grep:function(e,t,n){var i,o=[],r=0,s=e.length;for(n=!!n;s>r;r++)i=!!t(e[r],r),n!==i&&o.push(e[r]);return o},map:function(e,t,i){var o,r=0,s=e.length,a=n(e),l=[];if(a)for(;s>r;r++)o=t(e[r],r,i),null!=o&&(l[l.length]=o);else for(r in e)o=t(e[r],r,i),null!=o&&(l[l.length]=o);return it.apply([],l)},guid:1,proxy:function(e,n){var i,o,r;return"string"==typeof n&&(r=e[n],n=e,e=r),ut.isFunction(e)?(i=rt.call(arguments,2),o=function(){return e.apply(n||this,i.concat(rt.call(arguments)))},o.guid=e.guid=e.guid||ut.guid++,o):t},access:function(e,n,i,o,r,s,a){var l=0,c=e.length,u=null==i;if("object"===ut.type(i)){r=!0;for(l in i)ut.access(e,n,l,i[l],!0,s,a)}else if(o!==t&&(r=!0,ut.isFunction(o)||(a=!0),u&&(a?(n.call(e,o),n=null):(u=n,n=function(e,t,n){return u.call(ut(e),n)})),n))for(;c>l;l++)n(e[l],i,a?o:o.call(e[l],l,n(e[l],i)));return r?e:u?n.call(e):c?n(e[0],i):s},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=n.apply(e,i||[]);for(r in t)e.style[r]=s[r];return o}}),ut.ready.promise=function(t){if(!q)if(q=ut.Deferred(),"complete"===Q.readyState)setTimeout(ut.ready);else if(Q.addEventListener)Q.addEventListener("DOMContentLoaded",Et,!1),e.addEventListener("load",Et,!1);else{Q.attachEvent("onreadystatechange",Et),e.attachEvent("onload",Et);var n=!1;try{n=null==e.frameElement&&Q.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}At(),ut.ready()}}()}return q.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),G=ut(Q),function(e,t){function n(e,t,n,i){var o,r,s,a,l,c,u,d,p,g;if((t?t.ownerDocument||t:j)!==$&&T(t),t=t||$,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(M&&!i){if(o=bt.exec(e))if(s=o[1]){if(9===a){if(r=t.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&O(t,r)&&r.id===s)return n.push(r),n}else{if(o[2])return et.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&E.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(s)),n}if(E.qsa&&(!P||!P.test(e))){if(d=u=N,p=t,g=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(u=t.getAttribute("id"))?d=u.replace(Ct,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+f(c[l]);p=ft.test(e)&&t.parentNode||t,g=c.join(",")}if(g)try{return et.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{u||t.removeAttribute("id")}}}return _(e.replace(ct,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>F.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function o(e){return e[N]=!0,e}function r(e){var t=$.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)F.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return o(function(t){return t=+t,o(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function d(){}function h(e,t){var i,o,r,s,a,l,c,u=W[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=F.preFilter;a;){(!i||(o=dt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ht.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ct," ")}),a=a.slice(i.length));for(s in F.filter)!(o=vt[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return t?a.length:a?n.error(e):W(e,l).slice(0)}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=U++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var a,l,c,u=H+" "+r;if(s){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(c=t[N]||(t[N]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===A)return a===!0}else if(l=c[i]=[u],l[1]=e(t,n,s)||A,l[1]===!0)return!0}}function g(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(r=e[a])&&(!n||n(r,i,o))&&(s.push(r),c&&t.push(a));return s}function v(e,t,n,i,r,s){return i&&!i[N]&&(i=v(i)),r&&!r[N]&&(r=v(r,s)),o(function(o,s,a,l){var c,u,d,h=[],f=[],p=s.length,g=o||w(t||"*",a.nodeType?[a]:a,[]),v=!e||!o&&t?g:m(g,h,e,a,l),y=n?r||(o?e:p||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(c=m(y,f),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[f[u]]=!(v[f[u]]=d));if(o){if(r||e){if(r){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);r(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=r?nt.call(o,d):h[u])>-1&&(o[c]=!(s[c]=d))}}else y=m(y===s?y.splice(p,y.length):y),r?r(null,s,y,l):et.apply(s,y)})}function y(e){for(var t,n,i,o=e.length,r=F.relative[e[0].type],s=r||F.relative[" "],a=r?1:0,l=p(function(e){return e===t},s,!0),c=p(function(e){return nt.call(t,e)>-1},s,!0),u=[function(e,n,i){return!r&&(i||n!==D)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];o>a;a++)if(n=F.relative[e[a].type])u=[p(g(u),n)];else{if(n=F.filter[e[a].type].apply(null,e[a].matches),n[N]){for(i=++a;o>i&&!F.relative[e[i].type];i++);return v(a>1&&g(u),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ct,"$1"),n,i>a&&y(e.slice(a,i)),o>i&&y(e=e.slice(i)),o>i&&f(e))}u.push(n)}return g(u)}function b(e,t){var i=0,r=t.length>0,s=e.length>0,a=function(o,a,l,c,u){var d,h,f,p=[],g=0,v="0",y=o&&[],b=null!=u,w=D,_=o||s&&F.find.TAG("*",u&&a.parentNode||a),C=H+=null==w?1:Math.random()||.1;for(b&&(D=a!==$&&a,A=i);null!=(d=_[v]);v++){if(s&&d){for(h=0;f=e[h++];)if(f(d,a,l)){c.push(d);break}b&&(H=C,A=++i)}r&&((d=!f&&d)&&g--,o&&y.push(d))}if(g+=v,r&&v!==g){for(h=0;f=t[h++];)f(y,p,a,l);if(o){if(g>0)for(;v--;)y[v]||p[v]||(p[v]=X.call(c));p=m(p)}et.apply(c,p),b&&!o&&p.length>0&&g+t.length>1&&n.uniqueSort(c)}return b&&(H=C,D=w),y};return r?o(a):a}function w(e,t,i){for(var o=0,r=t.length;r>o;o++)n(e,t[o],i);return i}function _(e,t,n,i){var o,r,s,a,l,c=h(e);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&E.getById&&9===t.nodeType&&M&&F.relative[r[1].type]){if(t=(F.find.ID(s.matches[0].replace(Et,At),t)||[])[0],!t)return n;e=e.slice(r.shift().value.length)}for(o=vt.needsContext.test(e)?0:r.length;o--&&(s=r[o],!F.relative[a=s.type]);)if((l=F.find[a])&&(i=l(s.matches[0].replace(Et,At),ft.test(r[0].type)&&t.parentNode||t))){if(r.splice(o,1),e=i.length&&f(r),!e)return et.apply(n,i),n;break}}return S(e,c)(i,t,!M,n,ft.test(e)),n}var C,E,A,F,k,x,S,D,B,T,$,L,M,P,R,I,O,N="sizzle"+-new Date,j=e.document,H=0,U=0,z=i(),W=i(),V=i(),q=!1,G=function(e,t){return e===t?(q=!0,0):0},K=typeof t,Y=1<<31,Q={}.hasOwnProperty,J=[],X=J.pop,Z=J.push,et=J.push,tt=J.slice,nt=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=rt.replace("w","w#"),at="\\["+ot+"*("+rt+")"+ot+"*(?:([*^$|!~]?=)"+ot+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+ot+"*\\]",lt=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),dt=new RegExp("^"+ot+"*,"+ot+"*"),ht=new RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),ft=new RegExp(ot+"*[+~]"),pt=new RegExp("="+ot+"*([^\\]'\"]*)"+ot+"*\\]","g"),gt=new RegExp(lt),mt=new RegExp("^"+st+"$"),vt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/^(?:input|select|textarea|button)$/i,_t=/^h\d$/i,Ct=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig"),At=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{et.apply(J=tt.call(j.childNodes),j.childNodes),J[j.childNodes.length].nodeType}catch(Ft){et={apply:J.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},E=n.support={},T=n.setDocument=function(e){var t=e?e.ownerDocument||e:j,n=t.defaultView;return t!==$&&9===t.nodeType&&t.documentElement?($=t,L=t.documentElement,M=!x(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){T()}),E.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=r(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),E.getById=r(function(e){return L.appendChild(e).id=N,!t.getElementsByName||!t.getElementsByName(N).length}),E.getById?(F.find.ID=function(e,t){if(typeof t.getElementById!==K&&M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},F.filter.ID=function(e){var t=e.replace(Et,At);return function(e){return e.getAttribute("id")===t}}):(delete F.find.ID,F.filter.ID=function(e){var t=e.replace(Et,At);return function(e){var n=typeof e.getAttributeNode!==K&&e.getAttributeNode("id");return n&&n.value===t}}),F.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==K?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},F.find.CLASS=E.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==K&&M?t.getElementsByClassName(e):void 0},R=[],P=[],(E.qsa=yt.test(t.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||P.push("\\["+ot+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||P.push(":checked")}),r(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&P.push("[*^$]="+ot+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(E.matchesSelector=yt.test(I=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(e){E.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),R.push("!=",lt)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),O=yt.test(L.contains)||L.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=L.compareDocumentPosition?function(e,n){if(e===n)return q=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!E.sortDetached&&n.compareDocumentPosition(e)===i?e===t||O(j,e)?-1:n===t||O(j,n)?1:B?nt.call(B,e)-nt.call(B,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,o=0,r=e.parentNode,s=n.parentNode,l=[e],c=[n];if(e===n)return q=!0,0;if(!r||!s)return e===t?-1:n===t?1:r?-1:s?1:B?nt.call(B,e)-nt.call(B,n):0;if(r===s)return a(e,n);for(i=e;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===j?-1:c[o]===j?1:0},t):$},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==$&&T(e),t=t.replace(pt,"='$1']"),!(!E.matchesSelector||!M||R&&R.test(t)||P&&P.test(t)))try{var i=I.call(e,t);if(i||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return n(t,$,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==$&&T(e),O(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==$&&T(e);var i=F.attrHandle[n.toLowerCase()],o=i&&Q.call(F.attrHandle,n.toLowerCase())?i(e,n,!M):t;return o===t?E.attributes||!M?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,o=0;if(q=!E.detectDuplicates,B=!E.sortStable&&e.slice(0),e.sort(G),q){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},k=n.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=k(t);return n},F=n.selectors={cacheLength:50,createPseudo:o,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Et,At),e[3]=(e[4]||e[5]||"").replace(Et,At),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&gt.test(i)&&(n=h(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,At).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ot+")"+e+"("+ot+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==K&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(o){var r=n.attr(o,e);return null==r?"!="===t:t?(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,g=r!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(r){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(u=m[N]||(m[N]={}),c=u[e]||[],f=c[0]===H&&c[1],h=c[0]===H&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[H,f,h];break}}else if(y&&(c=(t[N]||(t[N]={}))[e])&&c[0]===H)h=c[1];else for(;(d=++f&&d&&d[g]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[N]||(d[N]={}))[e]=[H,h]),d!==t)););return h-=o,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,t){var i,r=F.pseudos[e]||F.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[N]?r(t):r.length>1?(i=[e,e,"",t],F.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)i=nt.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:o(function(e){var t=[],n=[],i=S(e.replace(ct,"$1"));return i[N]?o(function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:o(function(e){return function(t){return n(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:o(function(e){return mt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Et,At).toLowerCase(),function(t){var n;do if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0
},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!F.pseudos.empty(e)},header:function(e){return _t.test(e.nodeName)},input:function(e){return wt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},F.pseudos.nth=F.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[C]=l(C);for(C in{submit:!0,reset:!0})F.pseudos[C]=c(C);d.prototype=F.filters=F.pseudos,F.setFilters=new d,S=n.compile=function(e,t){var n,i=[],o=[],r=V[e+" "];if(!r){for(t||(t=h(e)),n=t.length;n--;)r=y(t[n]),r[N]?i.push(r):o.push(r);r=V(e,b(o,i))}return r},E.sortStable=N.split("").sort(G).join("")===N,E.detectDuplicates=q,T(),E.sortDetached=r(function(e){return 1&e.compareDocumentPosition($.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(it,function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}),ut.find=n,ut.expr=n.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=n.uniqueSort,ut.text=n.getText,ut.isXMLDoc=n.isXML,ut.contains=n.contains}(e);var Ft={};ut.Callbacks=function(e){e="string"==typeof e?Ft[e]||i(e):ut.extend({},e);var n,o,r,s,a,l,c=[],u=!e.once&&[],d=function(t){for(o=e.memory&&t,r=!0,a=l||0,l=0,s=c.length,n=!0;c&&s>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):o?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function i(t){ut.each(t,function(t,n){var o=ut.type(n);"function"===o?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==o&&i(n)})}(arguments),n?s=c.length:o&&(l=t,d(o))}return this},remove:function(){return c&&ut.each(arguments,function(e,t){for(var i;(i=ut.inArray(t,c,i))>-1;)c.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(e){return e?ut.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=o=t,this},disabled:function(){return!c},lock:function(){return u=t,o||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||r&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,r){var s=r[0],a=ut.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,i):i}},o={};return i.pipe=i.then,ut.each(t,function(e,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=rt.call(arguments),s=r.length,a=1!==s||e&&ut.isFunction(e.promise)?s:0,l=1===a?e:ut.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?rt.call(arguments):o,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)r[o]&&ut.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,t)):--a;return a||l.resolveWith(i,r),l.promise()}}),ut.support=function(t){var n,i,o,r,s,a,l,c,u,d=Q.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;r=Q.createElement("select"),a=r.appendChild(Q.createElement("option")),o=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!o.value,t.optSelected=a.selected,t.enctype=!!Q.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Q.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=Q.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),s=Q.createDocumentFragment(),s.appendChild(o),t.appendChecked=o.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ut(t))break;return t.ownLast="0"!==u,ut(function(){var n,i,o,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=Q.getElementsByTagName("body")[0];s&&(n=Q.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ut.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(Q.createElement("div")),i.style.cssText=d.style.cssText=r,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==K&&(d.innerHTML="",d.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=d=o=i=null)}),n=r=s=a=i=o=null,t}({});var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,xt=/([A-Z])/g;ut.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!a(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return r(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return r(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var i,o,r=null,a=0,l=this[0];if(e===t){if(this.length&&(r=ut.data(l),1===l.nodeType&&!ut._data(l,"parsedAttrs"))){for(i=l.attributes;a<i.length;a++)o=i[a].name,0===o.indexOf("data-")&&(o=ut.camelCase(o.slice(5)),s(l,o,r[o]));ut._data(l,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ut.data(this,e)}):arguments.length>1?this.each(function(){ut.data(this,e,n)}):l?s(l,e,ut.data(l,e)):null},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ut._data(e,t),n&&(!i||ut.isArray(n)?i=ut._data(e,t,ut.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),i=n.length,o=n.shift(),r=ut._queueHooks(e,t),s=function(){ut.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,o=1,r=ut.Deferred(),s=this,a=this.length,l=function(){--o||r.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=ut._data(s[a],e+"queueHooks"),i&&i.empty&&(o++,i.empty.add(l));return l(),r.promise(n)}});var St,Dt,Bt=/[\t\r\n\f]/g,Tt=/\r/g,$t=/^(?:input|select|textarea|button|object)$/i,Lt=/^(?:a|area)$/i,Mt=/^(?:checked|selected)$/i,Pt=ut.support.getSetAttribute,Rt=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,o,r,s=0,a=this.length,l="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Bt," "):" ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");n.className=ut.trim(i)}return this},removeClass:function(e){var t,n,i,o,r,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Bt," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");n.className=e?ut.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ut.isFunction(e)?this.each(function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,o=ut(this),r=e.match(ht)||[];t=r[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===K||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Bt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,o,r=this[0];{if(arguments.length)return o=ut.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=o?e.call(this,n,ut(this).val()):e,null==r?r="":"number"==typeof r?r+="":ut.isArray(r)&&(r=ut.map(r,function(e){return null==e?"":e+""})),i=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))});if(r)return i=ut.valHooks[r.type]||ut.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(Tt,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=ut.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,s=r?null:[],a=r?o+1:i.length,l=0>o?a:r?o:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==o||(ut.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=ut.makeArray(t),s=o.length;s--;)i=o[s],(i.selected=ut.inArray(ut(i).val(),r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}},attr:function(e,n,i){var o,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===K?ut.prop(e,n,i):(1===s&&ut.isXMLDoc(e)||(n=n.toLowerCase(),o=ut.attrHooks[n]||(ut.expr.match.bool.test(n)?Dt:St)),i===t?o&&"get"in o&&null!==(r=o.get(e,n))?r:(r=ut.find.attr(e,n),null==r?t:r):null!==i?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):(ut.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(ht);if(r&&1===e.nodeType)for(;n=r[o++];)i=ut.propFix[n]||n,ut.expr.match.bool.test(n)?Rt&&Pt||!Mt.test(n)?e[i]=!1:e[ut.camelCase("default-"+n)]=e[i]=!1:ut.attr(e,n,""),e.removeAttribute(Pt?n:i)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var o,r,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!ut.isXMLDoc(e),s&&(n=ut.propFix[n]||n,r=ut.propHooks[n]),i!==t?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:e[n]=i:r&&"get"in r&&null!==(o=r.get(e,n))?o:e[n]},propHooks:{tabIndex:{get:function(e){var t=ut.find.attr(e,"tabindex");return t?parseInt(t,10):$t.test(e.nodeName)||Lt.test(e.nodeName)&&e.href?0:-1}}}}),Dt={set:function(e,t,n){return t===!1?ut.removeAttr(e,n):Rt&&Pt||!Mt.test(n)?e.setAttribute(!Pt&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(e,n){var i=ut.expr.attrHandle[n]||ut.find.attr;ut.expr.attrHandle[n]=Rt&&Pt||!Mt.test(n)?function(e,n,o){var r=ut.expr.attrHandle[n],s=o?t:(ut.expr.attrHandle[n]=t)!=i(e,n,o)?n.toLowerCase():null;return ut.expr.attrHandle[n]=r,s}:function(e,n,i){return i?t:e[ut.camelCase("default-"+n)]?n.toLowerCase():null}}),Rt&&Pt||(ut.attrHooks.value={set:function(e,t,n){return ut.nodeName(e,"input")?(e.defaultValue=t,void 0):St&&St.set(e,t,n)}}),Pt||(St={set:function(e,n,i){var o=e.getAttributeNode(i);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(i)),o.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},ut.expr.attrHandle.id=ut.expr.attrHandle.name=ut.expr.attrHandle.coords=function(e,n,i){var o;return i?t:(o=e.getAttributeNode(n))&&""!==o.value?o.value:null},ut.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:St.set},ut.attrHooks.contenteditable={set:function(e,t,n){St.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,t){ut.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ut.support.hrefNormalized||ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ut.support.optSelected||(ut.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(e,t){return ut.isArray(t)?e.checked=ut.inArray(ut(e).val(),t)>=0:void 0}},ut.support.checkOn||(ut.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var It=/^(?:input|select|textarea)$/i,Ot=/^key/,Nt=/^(?:mouse|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,Ht=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,i,o,r){var s,a,l,c,u,d,h,f,p,g,m,v=ut._data(e);if(v){for(i.handler&&(c=i,i=c.handler,r=c.selector),i.guid||(i.guid=ut.guid++),(a=v.events)||(a=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof ut===K||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ht)||[""],l=n.length;l--;)s=Ht.exec(n[l])||[],p=m=s[1],g=(s[2]||"").split(".").sort(),p&&(u=ut.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=ut.event.special[p]||{},h=ut.extend({type:p,origType:m,data:o,handler:i,guid:i.guid,selector:r,needsContext:r&&ut.expr.match.needsContext.test(r),namespace:g.join(".")},c),(f=a[p])||(f=a[p]=[],f.delegateCount=0,u.setup&&u.setup.call(e,o,g,d)!==!1||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),ut.event.global[p]=!0);e=null}},remove:function(e,t,n,i,o){var r,s,a,l,c,u,d,h,f,p,g,m=ut.hasData(e)&&ut._data(e);if(m&&(u=m.events)){for(t=(t||"").match(ht)||[""],c=t.length;c--;)if(a=Ht.exec(t[c])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(d=ut.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)s=h[r],!o&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(r,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(e,s));l&&!h.length&&(d.teardown&&d.teardown.call(e,p,m.handle)!==!1||ut.removeEvent(e,f,m.handle),delete u[f])}else for(f in u)ut.event.remove(e,f+t[c],n,i,!0);ut.isEmptyObject(u)&&(delete m.handle,ut._removeData(e,"events"))}},trigger:function(n,i,o,r){var s,a,l,c,u,d,h,f=[o||Q],p=lt.call(n,"type")?n.type:n,g=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=d=o=o||Q,3!==o.nodeType&&8!==o.nodeType&&!jt.test(p+ut.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),a=p.indexOf(":")<0&&"on"+p,n=n[ut.expando]?n:new ut.Event(p,"object"==typeof n&&n),n.isTrigger=r?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=o),i=null==i?[n]:ut.makeArray(i,[n]),u=ut.event.special[p]||{},r||!u.trigger||u.trigger.apply(o,i)!==!1)){if(!r&&!u.noBubble&&!ut.isWindow(o)){for(c=u.delegateType||p,jt.test(c+p)||(l=l.parentNode);l;l=l.parentNode)f.push(l),d=l;d===(o.ownerDocument||Q)&&f.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=f[h++])&&!n.isPropagationStopped();)n.type=h>1?c:u.bindType||p,s=(ut._data(l,"events")||{})[n.type]&&ut._data(l,"handle"),s&&s.apply(l,i),s=a&&l[a],s&&ut.acceptData(l)&&s.apply&&s.apply(l,i)===!1&&n.preventDefault();if(n.type=p,!r&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),i)===!1)&&ut.acceptData(o)&&a&&o[p]&&!ut.isWindow(o)){d=o[a],d&&(o[a]=null),ut.event.triggered=p;try{o[p]()}catch(m){}ut.event.triggered=t,d&&(o[a]=d)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,i,o,r,s,a=[],l=rt.call(arguments),c=(ut._data(this,"events")||{})[e.type]||[],u=ut.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ut.event.handlers.call(this,e,c),n=0;(r=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,s=0;(o=r.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((ut.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,o,r,s,a=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(r=[],s=0;l>s;s++)o=n[s],i=o.selector+" ",r[i]===t&&(r[i]=o.needsContext?ut(i,this).index(c)>=0:ut.find(i,this,null,[c]).length),r[i]&&r.push(o);r.length&&a.push({elem:c,handlers:r})}return l<n.length&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(e){if(e[ut.expando])return e;var t,n,i,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Nt.test(o)?this.mouseHooks:Ot.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ut.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||Q),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,o,r,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(o=e.target.ownerDocument||Q,r=o.documentElement,i=o.body,e.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ut.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ut.event.trigger(o,null,t):ut.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=Q.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===K&&(e[i]=null),e.detachEvent(i,n))},ut.Event=function(e,t){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ut.extend(this,t),this.timeStamp=e&&e.timeStamp||ut.now(),this[ut.expando]=!0,void 0):new ut.Event(e,t)},ut.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!ut.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:(ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;i&&!ut._data(i,"submitBubbles")&&(ut.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:(ut.event.remove(this,"._submit"),void 0)}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return It.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):(ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;It.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!It.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){0===n++&&Q.addEventListener(e,i,!0)},teardown:function(){0===--n&&Q.removeEventListener(e,i,!0)}}}),ut.fn.extend({on:function(e,n,i,o,r){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(s in e)this.on(s,n,i,e[s],r);return this}if(null==i&&null==o?(o=n,i=n=t):null==o&&("string"==typeof n?(o=i,i=t):(o=i,i=n,n=t)),o===!1)o=c;else if(!o)return this;return 1===r&&(a=o,o=function(e){return ut().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,o,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ut(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,n,e[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){ut.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ut.event.trigger(e,t,n,!0):void 0}});var Ut=/^.[^:#\[\.,]*$/,zt=/^(?:parents|prev(?:Until|All))/,Wt=ut.expr.match.needsContext,Vt={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(ut(e).filter(function(){for(t=0;o>t;t++)if(ut.contains(i[t],this))return!0}));for(t=0;o>t;t++)ut.find(e,i[t],n);return n=this.pushStack(o>1?ut.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ut(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(h(this,e||[],!0))},filter:function(e){return this.pushStack(h(this,e||[],!1))},is:function(e){return!!h(this,"string"==typeof e&&Wt.test(e)?ut(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,o=this.length,r=[],s=Wt.test(e)||"string"!=typeof e?ut(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ut.find.matchesSelector(n,e))){n=r.push(n);break}return this.pushStack(r.length>1?ut.unique(r):r)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),i=ut.merge(this.get(),n);return this.pushStack(ut.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)}},function(e,t){ut.fn[e]=function(n,i){var o=ut.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ut.filter(i,o)),this.length>1&&(Vt[e]||(o=ut.unique(o)),zt.test(e)&&(o=o.reverse())),this.pushStack(o)}}),ut.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ut.find.matchesSelector(i,e)?[i]:[]:ut.find.matches(e,ut.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var o=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!ut(r).is(i));)1===r.nodeType&&o.push(r),r=r[n];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gt=/ jQuery\d+="(?:null|\d+)"/g,Kt=new RegExp("<(?:"+qt+")[\\s/>]","i"),Yt=/^\s+/,Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jt=/<([\w:]+)/,Xt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^$|\/(?:java|ecma)script/i,rn=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=f(Q),cn=ln.appendChild(Q.createElement("div"));
an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ut.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||ut.cleanData(w(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&v(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ut.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},i=0,o=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Gt,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Kt.test(e)||!ut.support.leadingWhitespace&&Yt.test(e)||an[(Jt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Qt,"<$1></$2>");try{for(;o>i;i++)n=this[i]||{},1===n.nodeType&&(ut.cleanData(w(n,!1)),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ut.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],o=e[t++];o&&(i&&i.parentNode!==o&&(i=this.nextSibling),ut(this).remove(),o.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=it.apply([],e);var i,o,r,s,a,l,c=0,u=this.length,d=this,h=u-1,f=e[0],p=ut.isFunction(f);if(p||!(1>=u||"string"!=typeof f||ut.support.checkClone)&&nn.test(f))return this.each(function(i){var o=d.eq(i);p&&(e[0]=f.call(this,i,o.html())),o.domManip(e,t,n)});if(u&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(s=ut.map(w(l,"script"),g),r=s.length;u>c;c++)o=l,c!==h&&(o=ut.clone(o,!0,!0),r&&ut.merge(s,w(o,"script"))),t.call(this[c],o,c);if(r)for(a=s[s.length-1].ownerDocument,ut.map(s,m),c=0;r>c;c++)o=s[c],on.test(o.type||"")&&!ut._data(o,"globalEval")&&ut.contains(a,o)&&(o.src?ut._evalUrl(o.src):ut.globalEval((o.text||o.textContent||o.innerHTML||"").replace(sn,"")));l=i=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,i=0,o=[],r=ut(e),s=r.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ut(r[i])[t](n),ot.apply(o,n.get());return this.pushStack(o)}}),ut.extend({clone:function(e,t,n){var i,o,r,s,a,l=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Kt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(r=cn.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(i=w(r),a=w(e),s=0;null!=(o=a[s]);++s)i[s]&&b(o,i[s]);if(t)if(n)for(a=a||w(e),i=i||w(r),s=0;null!=(o=a[s]);s++)y(o,i[s]);else y(e,r);return i=w(r,"script"),i.length>0&&v(i,!l&&w(e,"script")),i=a=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,s,a,l,c,u,d=e.length,h=f(t),p=[],g=0;d>g;g++)if(r=e[g],r||0===r)if("object"===ut.type(r))ut.merge(p,r.nodeType?[r]:r);else if(Zt.test(r)){for(a=a||h.appendChild(t.createElement("div")),l=(Jt.exec(r)||["",""])[1].toLowerCase(),u=an[l]||an._default,a.innerHTML=u[1]+r.replace(Qt,"<$1></$2>")+u[2],o=u[0];o--;)a=a.lastChild;if(!ut.support.leadingWhitespace&&Yt.test(r)&&p.push(t.createTextNode(Yt.exec(r)[0])),!ut.support.tbody)for(r="table"!==l||Xt.test(r)?"<table>"!==u[1]||Xt.test(r)?0:a:a.firstChild,o=r&&r.childNodes.length;o--;)ut.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ut.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else p.push(t.createTextNode(r));for(a&&h.removeChild(a),ut.support.appendChecked||ut.grep(w(p,"input"),_),g=0;r=p[g++];)if((!i||-1===ut.inArray(r,i))&&(s=ut.contains(r.ownerDocument,r),a=w(h.appendChild(r),"script"),s&&v(a),n))for(o=0;r=a[o++];)on.test(r.type||"")&&n.push(r);return a=null,h},cleanData:function(e,t){for(var n,i,o,r,s=0,a=ut.expando,l=ut.cache,c=ut.support.deleteExpando,u=ut.event.special;null!=(n=e[s]);s++)if((t||ut.acceptData(n))&&(o=n[a],r=o&&l[o])){if(r.events)for(i in r.events)u[i]?ut.event.remove(n,i):ut.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c?delete n[a]:typeof n.removeAttribute!==K?n.removeAttribute(a):n[a]=null,tt.push(o))}},_evalUrl:function(e){return ut.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ut.fn.extend({wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ut.isFunction(e)?this.each(function(t){ut(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}});var un,dn,hn,fn=/alpha\([^)]*\)/i,pn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+dt+")(.*)$","i"),bn=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+dt+")","i"),_n={BODY:"block"},Cn={position:"absolute",visibility:"hidden",display:"block"},En={letterSpacing:0,fontWeight:400},An=["Top","Right","Bottom","Left"],Fn=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,i){var o,r,s={},a=0;if(ut.isArray(n)){for(r=dn(e),o=n.length;o>a;a++)s[n[a]]=ut.css(e,n[a],!1,r);return s}return i!==t?ut.style(e,n,i):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){E(this)?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,l=ut.camelCase(n),c=e.style;if(n=ut.cssProps[l]||(ut.cssProps[l]=C(c,l)),a=ut.cssHooks[n]||ut.cssHooks[l],i===t)return a&&"get"in a&&(r=a.get(e,!1,o))!==t?r:c[n];if(s=typeof i,"string"===s&&(r=wn.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(ut.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||ut.cssNumber[l]||(i+="px"),ut.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,o))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,o){var r,s,a,l=ut.camelCase(n);return n=ut.cssProps[l]||(ut.cssProps[l]=C(e.style,l)),a=ut.cssHooks[n]||ut.cssHooks[l],a&&"get"in a&&(s=a.get(e,!0,i)),s===t&&(s=hn(e,n,o)),"normal"===s&&n in En&&(s=En[n]),""===i||i?(r=parseFloat(s),i===!0||ut.isNumeric(r)?r||0:s):s}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var o,r,s,a=i||dn(e),l=a?a.getPropertyValue(n)||a[n]:t,c=e.style;return a&&(""!==l||ut.contains(e.ownerDocument,e)||(l=ut.style(e,n)),bn.test(l)&&vn.test(n)&&(o=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=o,c.minWidth=r,c.maxWidth=s)),l}):Q.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},hn=function(e,n,i){var o,r,s,a=i||dn(e),l=a?a[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!gn.test(n)&&(o=c.left,r=e.runtimeStyle,s=r&&r.left,s&&(r.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=o,s&&(r.left=s)),""===l?"auto":l}),ut.each(["height","width"],function(e,t){ut.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&mn.test(ut.css(e,"display"))?ut.swap(e,Cn,function(){return x(e,t,i)}):x(e,t,i):void 0},set:function(e,n,i){var o=i&&dn(e);return F(e,n,i?k(e,t,i,ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,o),o):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return pn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ut.trim(r.replace(fn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=fn.test(r)?r.replace(fn,o):r+" "+o)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,t){return t?ut.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,t){ut.cssHooks[t]={get:function(e,n){return n?(n=hn(e,t),bn.test(n)?ut(e).position()[t]+"px":n):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ut.css(e,"display"))},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+An[i]+t]=r[i]||r[i-2]||r[0];return o}},vn.test(e)||(ut.cssHooks[e+t].set=F)});var kn=/%20/g,xn=/\[\]$/,Sn=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,Bn=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&Bn.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),ut.param=function(e,n){var i,o=[],r=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){r(this.name,this.value)});else for(i in e)B(i,e[i],n,r);return o.join("&").replace(kn,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Tn,$n,Ln=ut.now(),Mn=/\?/,Pn=/#.*$/,Rn=/([?&])_=[^&]*/,In=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,jn=/^\/\//,Hn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Un=ut.fn.load,zn={},Wn={},Vn="*/".concat("*");try{$n=Y.href}catch(qn){$n=Q.createElement("a"),$n.href="",$n=$n.href}Tn=Hn.exec($n.toLowerCase())||[],ut.fn.load=function(e,n,i){if("string"!=typeof e&&Un)return Un.apply(this,arguments);var o,r,s,a=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),ut.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(s="POST"),a.length>0&&ut.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){r=arguments,a.html(o?ut("<div>").append(ut.parseHTML(e)).find(o):e)}).complete(i&&function(e,t){a.each(i,r||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$n,type:"GET",isLocal:On.test(Tn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,ut.ajaxSettings),t):L(ut.ajaxSettings,e)},ajaxPrefilter:T(zn),ajaxTransport:T(Wn),ajax:function(e,n){function i(e,n,i,o){var r,d,y,b,_,E=n;2!==w&&(w=2,l&&clearTimeout(l),u=t,a=o||"",C.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(b=M(h,C,i)),b=P(h,b,C,r),r?(h.ifModified&&(_=C.getResponseHeader("Last-Modified"),_&&(ut.lastModified[s]=_),_=C.getResponseHeader("etag"),_&&(ut.etag[s]=_)),204===e||"HEAD"===h.type?E="nocontent":304===e?E="notmodified":(E=b.state,d=b.data,y=b.error,r=!y)):(y=E,(e||!E)&&(E="error",0>e&&(e=0))),C.status=e,C.statusText=(n||E)+"",r?g.resolveWith(f,[d,E,C]):g.rejectWith(f,[C,E,y]),C.statusCode(v),v=t,c&&p.trigger(r?"ajaxSuccess":"ajaxError",[C,h,r?d:y]),m.fireWith(f,[C,E]),c&&(p.trigger("ajaxComplete",[C,h]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var o,r,s,a,l,c,u,d,h=ut.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?ut(f):ut.event,g=ut.Deferred(),m=ut.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,_="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=In.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||_;return u&&u.abort(t),i(0,t),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||$n)+"").replace(Pn,"").replace(jn,Tn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ut.trim(h.dataType||"*").toLowerCase().match(ht)||[""],null==h.crossDomain&&(o=Hn.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===Tn[1]&&o[2]===Tn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Tn[3]||("http:"===Tn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ut.param(h.data,h.traditional)),$(zn,h,n,C),2===w)return C;c=h.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Nn.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Mn.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Rn.test(s)?s.replace(Rn,"$1_="+Ln++):s+(Mn.test(s)?"&":"?")+"_="+Ln++)),h.ifModified&&(ut.lastModified[s]&&C.setRequestHeader("If-Modified-Since",ut.lastModified[s]),ut.etag[s]&&C.setRequestHeader("If-None-Match",ut.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Vn+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)C.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(f,C,h)===!1||2===w))return C.abort();_="abort";for(r in{success:1,error:1,complete:1})C[r](h[r]);if(u=$(Wn,h,n,C)){C.readyState=1,c&&p.trigger("ajaxSend",[C,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},h.timeout));try{w=1,u.send(y,i)}catch(E){if(!(2>w))throw E;i(-1,E)}}else i(-1,"No Transport");return C},getJSON:function(e,t,n){return ut.get(e,t,n,"json")},getScript:function(e,n){return ut.get(e,t,n,"script")}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,i,o,r){return ut.isFunction(i)&&(r=r||o,o=i,i=t),ut.ajax({url:e,type:n,dataType:r,data:i,success:o})}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=Q.head||ut("head")[0]||Q.documentElement;return{send:function(t,o){n=Q.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Gn=[],Kn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gn.pop()||ut.expando+"_"+Ln++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,i,o){var r,s,a,l=n.jsonp!==!1&&(Kn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Kn,"$1"+r):n.jsonp!==!1&&(n.url+=(Mn.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return a||ut.error(r+" was not called"),a[0]},n.dataTypes[0]="json",s=e[r],e[r]=function(){a=arguments},o.always(function(){e[r]=s,n[r]&&(n.jsonpCallback=i.jsonpCallback,Gn.push(r)),a&&ut.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0});var Yn,Qn,Jn=0,Xn=e.ActiveXObject&&function(){var e;for(e in Yn)Yn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&R()||I()}:R,Qn=ut.ajaxSettings.xhr(),ut.support.cors=!!Qn&&"withCredentials"in Qn,Qn=ut.support.ajax=!!Qn,Qn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var i;return{send:function(o,r){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,o){var a,c,u,d;try{if(i&&(o||4===l.readyState))if(i=t,s&&(l.onreadystatechange=ut.noop,Xn&&delete Yn[s]),o)4!==l.readyState&&l.abort();else{d={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){o||r(-1,f)}d&&r(a,u,d,c)},n.async?4===l.readyState?setTimeout(i):(s=++Jn,Xn&&(Yn||(Yn={},ut(e).unload(Xn)),Yn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),ii=/queueHooks$/,oi=[U],ri={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=ni.exec(t),r=o&&o[3]||(ut.cssNumber[e]?"":"px"),s=(ut.cssNumber[e]||"px"!==r&&+i)&&ni.exec(ut.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,ut.style(n.elem,e,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};ut.Animation=ut.extend(j,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],ri[n]=ri[n]||[],ri[n].unshift(t)},prefilter:function(e,t){t?oi.unshift(e):oi.push(e)}}),ut.Tween=z,z.prototype={constructor:z,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ut.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ut.cssProps[e.prop]]||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,i,o)}}),ut.fn.extend({fadeTo:function(e,t,n,i){return this.filter(E).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ut.isEmptyObject(e),r=ut.speed(t,n,i),s=function(){var t=j(this,ut.extend({},e),r);(o||ut._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,n,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=ut.timers,s=ut._data(this);if(n)s[n]&&s[n].stop&&o(s[n]);else for(n in s)s[n]&&s[n].stop&&ii.test(n)&&o(s[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ut.timers,s=i?i.length:0;for(n.finish=!0,ut.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ut.speed=function(e,t,n){var i=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return i.duration=ut.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ut.fx.speeds?ut.fx.speeds[i.duration]:ut.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ut.isFunction(i.old)&&i.old.call(this),i.queue&&ut.dequeue(this,i.queue)},i},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=z.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,i=0;for(Zn=ut.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ut.fx.stop(),Zn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){ei||(ei=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(ei),ei=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,i,o={top:0,left:0},r=this[0],s=r&&r.ownerDocument;if(s)return n=s.documentElement,ut.contains(n,r)?(typeof r.getBoundingClientRect!==K&&(o=r.getBoundingClientRect()),i=V(s),{top:o.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},ut.offset={setOffset:function(e,t,n){var i=ut.css(e,"position");"static"===i&&(e.style.position="relative");var o,r,s=ut(e),a=s.offset(),l=ut.css(e,"top"),c=ut.css(e,"left"),u=("absolute"===i||"fixed"===i)&&ut.inArray("auto",[l,c])>-1,d={},h={};u?(h=s.position(),o=h.top,r=h.left):(o=parseFloat(l)||0,r=parseFloat(c)||0),ut.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):s.css(d)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ut.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(i,"marginTop",!0),left:t.left-n.left-ut.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J;e&&!ut.nodeName(e,"html")&&"static"===ut.css(e,"position");)e=e.offsetParent;return e||J})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);ut.fn[e]=function(o){return ut.access(this,function(e,o,r){var s=V(e);return r===t?s?n in s?s[n]:s.document.documentElement[o]:e[o]:(s?s.scrollTo(i?ut(s).scrollLeft():r,i?r:ut(s).scrollTop()):e[o]=r,void 0)},e,o,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,o){ut.fn[o]=function(o,r){var s=arguments.length&&(i||"boolean"!=typeof o),a=i||(o===!0||r===!0?"margin":"border");return ut.access(this,function(n,i,o){var r;return ut.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):o===t?ut.css(n,i,a):ut.style(n,i,o,a)},n,s?o:t,s,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ut:(e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ut}))}(window)}).call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){e={};var n=function(e,n){if(!document.querySelectorAll)throw new Error("This browser doesn't support querySelectorAll.");var i=n;return p(n,"DomUtils_findAllBySelector_scope",function(n){var o=t.map(e.split(","),function(e){return n+" "+e}).join(",");return i.querySelectorAll(o)})},i=window.Sizzle||window.jQuery&&window.jQuery.find||n,o=document.createElement("div");o.innerHTML="   <link/><table></table><select><!----></select>";var r=document.createElement("div");r.innerHTML="<select><option selected>Foo</option></select>",r.firstChild.setAttribute("name","myname");var s={leadingWhitespaceKilled:3!==o.firstChild.nodeType,tbodyInsertion:o.getElementsByTagName("tbody").length>0,tagsLost:0===o.getElementsByTagName("link").length,commentsLost:!o.getElementsByTagName("select")[0].firstChild,selectValueMustBeFromAttribute:"Foo"!==r.firstChild.value,mustSetNameInCreateElement:r.firstChild.outerHTML&&-1===r.firstChild.outerHTML.indexOf("myname")},a={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};t.extend(a,{optgroup:a.option,tbody:a.thead,tfoot:a.thead,colgroup:a.thead,caption:a.thead,th:a.td}),s.tagsLost&&(a._default=[1,"div<div>","</div>"]);var l=/^\s+/,c=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,u=/<([\w:]+)/,d=/<tbody/i,h=/<|&#?\w+;/;e.htmlToFragment=function(e){var n=document,i=n.createDocumentFragment();if(e.length)if(h.test(e)){e=e.replace(c,"<$1></$2>");var o=u.exec(e),r=o?o[1].toLowerCase():"",f=a[r]||a._default,p=f[1]+e+f[2];s.commentsLost&&(p=p.replace(/<\s*(select|option)\b/gi,'<ins domutilsrealtagname="$1"'),p=p.replace(/<\/\s*(select|option)\b/gi,"</ins"));var g=n.createElement("div");g.innerHTML=p;for(var m=f[0];m--;)g=g.lastChild;if(s.tbodyInsertion&&!d.test(e)){var v=g.getElementsByTagName("tbody");t.each(v,function(e){e.firstChild||e.parentNode.removeChild(e)})}if(s.leadingWhitespaceKilled){var y=l.exec(e);y&&g.insertBefore(n.createTextNode(y[0]),g.firstChild)}if(s.commentsLost){var b=[];t.each(g.getElementsByTagName("ins"),function(e){e.getAttribute("domutilsrealtagname")&&b.push(e)}),t.each(b,function(e){var n=e.getAttribute("domutilsrealtagname");s.mustSetNameInCreateElement&&e.getAttribute("name")&&(n="<"+n+" name='"+t.escape(e.getAttribute("name"))+"'/>");var i=document.createElement(n);e.removeAttribute("domutilsrealtagname");for(var o=e.attributes,r=0;r<o.length;++r){var a=o.item(r);if(a.specified){var l=a.name.toLowerCase(),c=String(a.value);"selected"===l&&""===c&&(c="selected"),i.setAttribute(l,c)}}for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode.replaceChild(i,e)})}for(;g.firstChild;)i.appendChild(g.firstChild)}else i.appendChild(n.createTextNode(e));else;return i},e.fragmentToHtml=function(t){return t=t.cloneNode(!0),e.fragmentToContainer(t).innerHTML},e.fragmentToContainer=function(e){for(var t=document,n=e.firstChild;n&&1!==n.nodeType;)n=n.nextSibling;var i=t.createElement("div");if(n){var o=n.nodeName,r=a[o]||a._default;i.innerHTML=r[1]+r[2];for(var s=r[0];s--;)i=i.lastChild;i.appendChild(e)}else i.appendChild(e);return i},e.elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)},e.findAll=function(t,n){if(11===t.nodeType){for(var o=t,r=e.fragmentToContainer(o),s=i(n,r);r.firstChild;)o.appendChild(r.firstChild);return s}return i(n,t)},e.find=function(t,n){var i=e.findAll(t,n);return i.length?i[0]:null};var f=function(t,n,i){return e.elementContains(t,n)?!1:e.compareElementIndex(n,t)<=0&&e.compareElementIndex(t,i)<=0};e.findAllClipped=function(n,i,o,r){for(;o!==r&&1!==o.nodeType;)o=o.nextSibling;for(;o!==r&&1!==r.nodeType;)r=r.previousSibling;if(1!==o.nodeType)return[];var s=e.findAll(n,i);return t.reject(s,function(e){return!f(e,o,r)})},e.findClipped=function(t,n,i,o){var r=e.findAllClipped(t,n,i,o);return r.length?r[0]:null};var p=function(e,t,n){var i=!1;e.getAttribute("id")||(e.setAttribute("id",t),i=!0);try{var o=e.getAttribute("id").replace(/'/g,"\\$&");return n("[id='"+o+"']")}finally{i&&e.removeAttribute("id")}},g=function(t,n,i,o,r){for(var s=i.split(","),a=0,l=s.length;l>a;a++){var c=p(t,"DomUtils_matchesSelector_target",function(s){var a,l=i.match(/\S.*?(?=\s*$)/)[0],c=l+s;
return a=o?e.findClipped(n,c,o,r):e.find(n,c),a===t});if(c)return!0}return!1};e.matchesSelector=function(e,t,n){return g(e,t,n)},e.matchesSelectorClipped=function(e,t,n,i,o){return g(e,t,n,i,o)},e.compareElementIndex=function(e,t){if(e===t)return 0;if(e.compareDocumentPosition){var n=e.compareDocumentPosition(t);return 24&n?0:4&n?-1:1}return e.contains(t)||t.contains(e)?0:e.sourceIndex<t.sourceIndex?-1:1},e.wrapFragmentForContainer=function(e,n){if(n&&"TABLE"===n.nodeName&&t.any(e.childNodes,function(e){return"TR"===e.nodeName})){var i=document.createElement("TBODY");i.appendChild(e),e.appendChild(i)}},e.isInDocument=function(t){return t===document?!0:(1!==t.nodeType&&(t=t.parentNode),t&&1===t.nodeType?t===document.body?!0:e.elementContains(document.body,t):!1)},e.rangeToHtml=function(t,n){for(var i=document.createDocumentFragment(),o=t,r=n.nextSibling;o&&o!==r;o=o.nextSibling)i.appendChild(o.cloneNode(!0));return e.fragmentToHtml(i)},e.outerHtml=function(t){return e.rangeToHtml(t,t)},e.setElementValue=function(t,n){if(t.value=n,t.value!==n&&"SELECT"===t.nodeName)for(var i=e.findAll(t,"option"),o=0;o<i.length;++o)if(e.getElementValue(i[o])===n)return i[o].selected=!0,void 0},e.getElementValue=function(t){if(!s.selectValueMustBeFromAttribute)return t.value;if("OPTION"===t.nodeName){var n=t.attributes.value;return!n||n.specified?t.value:t.text}return"SELECT"===t.nodeName?t.selectedIndex<0?null:e.getElementValue(t.options[t.selectedIndex]):t.value}}).call(this),"undefined"==typeof Package&&(Package={}),Package.domutils={DomUtils:e}}(),function(){{var e;Package.meteor.Meteor}(function(){var t=function(){var e=document.createTextNode("");try{e.test=123}catch(t){}return 123!==e.test?!1:document.documentMode?!1:!0}(),n=function(e,n){if(t)return[e,n];if(3===e.nodeType){var i=document.createComment("IE");e.parentNode.insertBefore(i,e),e=i}if(3===n.nodeType){var i=document.createComment("IE");n.parentNode.insertBefore(i,n.nextSibling),n=i}return[e,n]};e=function(e,t,o,r){if(11===t.nodeType)o=t.lastChild,t=t.firstChild;else if(!t.parentNode)throw new Error("LiveRange start and end must have a parent");o=o||t,this.tag=e;var s=n(t,o);t=this._ensureTag(s[0]),o=this._ensureTag(s[1]);var a=i(t[e][0],!0,o,t,r),l=i(o[e][1],!1,t,o,r);this._insertEntries(t,0,a,[this]),this._insertEntries(o,1,l,[this])};var i=function(e,t,n,i,o){for(var r,s=t?n.parentNode.lastChild:i,a=t?!o:o,l=0,c=s;l<=e.length;l++){for(var u=e[l],d=u&&(t?u._end:u._start);c!==d&&c!==n;)c=c.previousSibling;if(d===n){if(r=l,a)break}else if(c===n){r=l;break}}return r};e.prototype._ensureTag=function(e){return this.tag in e||(e[this.tag]=[[],[]]),e};var o=function(){var e=document.createElement("DIV"),t=!1;try{e.test=12,delete e.test,t=!0}catch(n){}return t}();e._cleanNode=function(e,t,n){var i=t[e];!i||i[0].length+i[1].length&&!n||(o?delete t[e]:t.removeAttribute(e))},e.prototype.destroy=function(t){var n=this;if(t){if(this.visit(function(e,t){e&&(t._start=null,t._end=null)},function(t,i){if(!t)for(var o=i.firstChild;o;o=o.nextSibling)e._cleanNode(n.tag,o,!0)}),this._removeEntries(this._start,0,this._startIndex),this._removeEntries(this._end,1,0,this._endIndex+1),this._start!==this._end){for(var i=this._start.nextSibling;i!==this._end;i=i.nextSibling)e._cleanNode(n.tag,i,!0);this._start[n.tag]&&this._removeEntries(this._start,1),this._end[n.tag]&&this._removeEntries(this._end,0)}this._start=this._end=null}else this._removeEntries(this._start,0,this._startIndex,this._startIndex+1),this._removeEntries(this._end,1,this._endIndex,this._endIndex+1),this._start=this._end=null},e.prototype.firstNode=function(){return this._start},e.prototype.lastNode=function(){return this._end},e.prototype.containerNode=function(){return this._start.parentNode},e.prototype.visit=function(e,t){e=e||function(){},t=t||function(){};var n=this.tag,i=function(o,r,s){for(var a=s||0,l=r.nextSibling,c=o;c&&c!==l;c=c.nextSibling){var u=c[n]&&c[n][0];if(u&&a<u.length){var d=u[a],h=d._start,f=d._end;e(!0,d)!==!1&&i(h,f,a+1),e(!1,d),c=f}else t(!0,c)!==!1&&c.firstChild&&i(c.firstChild,c.lastChild),t(!1,c);a=0}};i(this._start,this._end,this._startIndex+1)},e.prototype._removeEntries=function(t,n,i,o){var r=t[this.tag][n];i=i||0,o=o||0===o?o:r.length;for(var s=r.splice(i,o-i),a=i;a<r.length;a++)n?r[a]._endIndex=a:r[a]._startIndex=a;return r.length||e._cleanNode(this.tag,t),s},e.prototype._insertEntries=function(e,t,n,i){var o=e[this.tag][t];Array.prototype.splice.apply(o,[n,0].concat(i));for(var r=n;r<o.length;r++)t?(o[r]._end=e,o[r]._endIndex=r):(o[r]._start=e,o[r]._startIndex=r)},e.prototype.replaceContents=function(e){if(!e.firstChild)throw new Error("replaceContents requires non-empty fragment");return this.operate(function(t,n){t.parentNode.insertBefore(e,t);for(var i=t.ownerDocument.createDocumentFragment(),o=t;;){var r=o.nextSibling;if(i.appendChild(o),o===n)break;if(o=r,!o)throw new Error("LiveRanges must begin and end on siblings in order")}return i})},e.prototype.operate=function(e){var t=this._start,i=this._end,o=this._removeEntries(t,0,0,this._startIndex+1),r=this._removeEntries(i,1,this._endIndex),s=t.parentNode,a=t.previousSibling,l=i.nextSibling,c=null;c=e(t,i);var u=a?a.nextSibling:s.firstChild,d=l?l.previousSibling:s.lastChild;if(!u||u===l)throw new Error("Ranges must contain at least one element");var h=n(u,d);return u=this._ensureTag(h[0]),d=this._ensureTag(h[1]),this._insertEntries(u,0,0,o),this._insertEntries(d,1,d[this.tag][1].length,r),c},e.transplantTag=function(e,t,n){if(n[e]){t[e]=n[e],n[e]=null;for(var i=t[e][0],o=t[e][1],r=0;r<i.length;r++)i[r]._start=t;for(var r=0;r<o.length;r++)o[r]._end=t}},e.transplantRange=function(e,t,n){n._ensureTag(e),t!==e&&n._ensureTag(t),n._insertEntries(e,0,0,n._start[n.tag][0].slice(0,n._startIndex+1)),n._insertEntries(t,1,0,n._end[n.tag][1].slice(n._endIndex))},e.prototype.insertBefore=function(e){var t=e.firstChild;t&&(this._start.parentNode.insertBefore(e,this._start),this._ensureTag(t),this._insertEntries(t,0,0,this._removeEntries(this._start,0,0,this._startIndex)))},e.prototype.insertAfter=function(e){var t=e.lastChild;t&&(this._end.parentNode.insertBefore(e,this._end.nextSibling),this._ensureTag(t),this._insertEntries(t,1,t[this.tag][1].length,this._removeEntries(this._end,1,this._endIndex+1)))},e.prototype.extract=function(){if(this._startIndex>0&&this._start[this.tag][0][this._startIndex-1]._end===this._end)return null;var e=this._start.previousSibling,t=this._end.nextSibling,n=this._start.parentNode;this._startIndex>0&&(this._ensureTag(t),this._insertEntries(t,0,0,this._removeEntries(this._start,0,0,this._startIndex))),this._endIndex<this._end[this.tag][1].length-1&&(this._ensureTag(e),this._insertEntries(e,1,e[this.tag][1].length,this._removeEntries(this._end,1,this._endIndex+1)));for(var i,o=document.createDocumentFragment();i=e?e.nextSibling:n.firstChild,i&&i!==t;)o.appendChild(i);return o},e.prototype.findParent=function(t){var n=r(this.tag,this._end,this._endIndex);return n?n:t?null:e.findRange(this.tag,this.containerNode())},e.findRange=function(t,n){var i=r(t,n);return i?i:n.parentNode?e.findRange(t,n.parentNode):null};var r=function(e,t,n){if("undefined"==typeof n&&(n=-1),t[e]&&n+1<t[e][1].length)return t[e][1][n+1];for(var i=t.nextSibling;i;){var n=0,o=i[e]&&i[e][0];if(o&&o.length){var r=o[0];i=r._end,n=r._endIndex+1}if(i[e]&&n<i[e][1].length)return i[e][1][n];i=i.nextSibling}return null}}).call(this),"undefined"==typeof Package&&(Package={}),Package.liverange={LiveRange:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._),n=Package.domutils.DomUtils;(function(){var n,i=[],o=function(){return!1},r=function(){return!0},s=function(e){var t=e.stopPropagation,n=e.preventDefault;e.isPropagationStopped=o,e.isImmediatePropagationStopped=o,e.isDefaultPrevented=o,e.stopPropagation=function(){e.isPropagationStopped=r,t?t.call(e):e.cancelBubble=!0},e.preventDefault=function(){e.isDefaultPrevented=r,n?n.call(e):e.returnValue=!1},e.stopImmediatePropagation=function(){e.stopPropagation(),e.isImmediatePropagationStopped=r};var i=e.type;if(void 0===e.metaKey&&(e.metaKey=e.ctrlKey),/^key/.test(i))null==e.which&&(e.which=null!=e.charCode?e.charCode:e.keyCode);else if(/^(?:mouse|contextmenu)|click/.test(i)&&(!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),!e.which&&void 0!==e.button)){var s=e.button;e.which=1&s?1:2&s?3:4&s?2:0}return e},a=function(e){e=s(e),t.each(i,function(t){t.types[e.type]&&(!t._checkIECompliance||e.currentTarget["_uevents_test_eventtype_"+e.type])&&t.handler.call(null,e)})},l=function(){return n||(n=document.addEventListener?new e._impl.w3c(a):new e._impl.ie(a)),n},c={};e=function(e,t){this.handler=e,this.types={},this.impl=l(),this._checkIECompliance=t,i.push(this)},t.extend(e.prototype,{addType:function(e){this.types[e]||(this.types[e]=!0,c[e]=(c[e]||0)+1,1===c[e]&&this.impl.addType(e))},removeType:function(e){this.types[e]&&(delete this.types[e],c[e]--,c[e]||this.impl.removeType(e))},installHandler:function(e,n){1===e.nodeType&&(this.impl.installHandler(e,n),this._checkIECompliance&&(e["_uevents_test_eventtype_"+n]=e,e.firstChild&&t.each(e.getElementsByTagName("*"),function(e){e["_uevents_test_eventtype_"+n]=e})))},destroy:function(){var e=this;i=t.without(i,e),t.each(t.keys(e.types),function(t){e.removeType(t)})}})}).call(this),function(){var i=0,o=1,r=2;e._impl=e._impl||{},e._impl.w3c=function(e){this.deliver=e,this.typeCounts={},this.boundHandler=t.bind(this.handler,this),this.boundCapturer=t.bind(this.capturer,this),this.focusBlurMode="onfocusin"in document.createElement("DIV")?i:r,this.simulateMouseEnterLeave=!window.opera},t.extend(e._impl.w3c.prototype,{addType:function(e){this._listen(this._expandEventType(e))},removeType:function(e){this._unlisten(this._expandEventType(e))},installHandler:function(){},_expandEventType:function(e){var t=[e];return this.focusBlurMode===o?"focus"===e?t.push("focusin"):"blur"===e&&t.push("focusout"):this.focusBlurMode===r&&("focusin"===e?t.push("focus"):"focusout"===e&&t.push("blur")),this.simulateMouseEnterLeave&&("mouseenter"===e?t.push("mouseover"):"mouseleave"===e&&t.push("mouseout")),"tap"===e&&(t.push("touchmove"),t.push("touchend")),t},_listen:function(e){var n=this;t.each(e,function(e){1===(n.typeCounts[e]=(n.typeCounts[e]||0)+1)&&document.addEventListener(e,n.boundCapturer,!0)})},_unlisten:function(e){var n=this;t.each(e,function(e){--n.typeCounts[e]||document.removeEventListener(e,n.boundCapturer,!0)})},capturer:function(e){3===e.target.nodeType&&(e.target=e.target.parentNode);var n=e.type,i=e.bubbles,o=e.target;o.addEventListener(n,this.boundHandler,!1);var r;if(i){r=[];for(var s=o.parentNode;s;s=s.parentNode)s.addEventListener(n,this.boundHandler,!1),r.push(s)}setTimeout(function(){o.removeEventListener(n,this.boundHandler,!1),i&&t.each(r,function(e){e.removeEventListener(n,this.boundHandler,!1)})},0)},handler:function(e){var t=function(e,t,n,i,o){var r=document.createEvent("UIEvents");r.initUIEvent(e,n,i,window,o),r.synthetic=!0,t.dispatchEvent(r)};if(e.currentTarget===e.target&&(this.focusBlurMode===o?"focusin"===e.type?t("focus",e.target,!1):"focusout"===e.type&&t("blur",e.target,!1):this.focusBlurMode===r&&("focus"===e.type?t("focusin",e.target,!0):"blur"===e.type&&t("focusout",e.target,!0))),this.focusBlurMode===o){if(("focus"===e.type||"blur"===e.type)&&!e.synthetic)return}else if(this.focusBlurMode===r&&("focusin"===e.type||"focusout"===e.type)&&!e.synthetic)return;(!this.simulateMouseEnterLeave||"mouseenter"!==e.type&&"mouseleave"!==e.type||e.synthetic)&&(this.deliver(e),!this.simulateMouseEnterLeave||e.relatedTarget&&(e.currentTarget===e.relatedTarget||n.elementContains(e.currentTarget,e.relatedTarget))||("mouseover"===e.type?t("mouseenter",e.currentTarget,!1):"mouseout"===e.type&&t("mouseleave",e.currentTarget,!1)),"touchmove"===e.type&&(e.currentTarget._notTapping=!0),"touchend"===e.type&&(e.currentTarget._notTapping||t("tap",e.currentTarget,!0),delete e.currentTarget._notTapping))}})}.call(this),function(){e._impl=e._impl||{},e._impl.ie=function(e){var t=this;this.deliver=e,this.curriedHandler=function(){t.handler.call(this,t)},document.attachEvent("ondatasetcomplete",function(){var e=window.event,t=e&&e.srcElement;e.synthetic&&t&&"FORM"===t.nodeName&&e.returnValue!==!1&&t.submit()})},t.extend(e._impl.ie.prototype,{addType:function(){},removeType:function(){},installHandler:function(e,t){var n="on"+t;if(1===e.nodeType){this._install(e,n);for(var i=e.getElementsByTagName("*"),o=0,r=i.length;r>o;o++)this._install(i[o],n)}},_install:function(e,t){var n=[t];"onfocus"===t?n.push("onfocusin"):"onblur"===t?n.push("onfocusout"):"onchange"===t?("INPUT"!==e.nodeName||"checkbox"!==e.type&&"radio"!==e.type||(n=["onpropertychange"]),n.push("oncellchange")):"onsubmit"===t&&n.push("ondatasetcomplete");for(var i=0;i<n.length;i++)e[n[i]]=this.curriedHandler},handler:function(e){var t=function(e,t){var n=document.createEventObject();return n.synthetic=!0,t.fireEvent(e,n),n.returnValue},n=window.event,i=n.type,o=n.srcElement||document;if(n.target=o,1===this.nodeType){n.currentTarget=this;var r=this;if(r!==o||n.synthetic||("focusin"===i?t("onfocus",r):"focusout"===i?t("onblur",r):"change"===i?t("oncellchange",r):"propertychange"===i?"checked"===n.propertyName&&t("oncellchange",r):"submit"===i&&t("ondatasetcomplete",r)),("focus"===i||"blur"===n.type||"change"===n.type||"submit"===n.type)&&!n.synthetic)return"submit"===n.type&&(n.returnValue=!1),void 0;"cellchange"===i&&n.synthetic&&(i=n.type="change"),"datasetcomplete"===i&&n.synthetic&&(i=n.type="submit"),e.deliver(n)}}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["universal-events"]={UniversalEventListener:e}}(),function(){var e,t,n,i,o,r,s,a=Package.meteor.Meteor,l=Package.underscore._,c=Package.random.Random,u=Package.domutils.DomUtils,d=Package.liverange.LiveRange,h=Package["universal-events"].UniversalEventListener,f=Package["ordered-dict"].OrderedDict,p=Package.deps.Deps,g=Package.ejson.EJSON;(function(){e={},t={};var s=function(){var e=null;return{get:function(){return e},withValue:function(t,n){var i=e;e=t;try{return n()}finally{e=i}}}}();n="_spark_"+c.id(),t.TAG=n,e._TAG=n;var a="data",m="isolate",v="events",y="watch",b="label",w="landmark",_="list",C="item",E=!1;t.setCheckIECompliance=function(e){E=e};var A={};e._addGlobalPreserve=function(e,t){A[e]=t};var F=function(e,t,i,o){var r=new d(n,t,i,o);return r.type=e,r},k=function(e,t){for(var i=d.findRange(n,t);i&&i.type!==e;)i=i.findParent();return i},x=function(e,t){do t=t.findParent();while(t&&t.type!==e);return t},S=function(e,t){for(var i=new d(n,e,t,!0),o=i;o;o=o.findParent())o.type===y&&o.notify();i.destroy()},D=!1,B=function(e){var t=D;D=!0;try{return e()}finally{D=t}};i=function(){this.annotations={},this._branchNotes={},this.currentBranch=this.newLabelStack(),this.landmarkRanges=[],this.pc=new L},l.extend(i.prototype,{annotate:function(e,t,n){if("function"!=typeof n){var i=n;n=function(e){e&&l.extend(e,i)}}var o=(t||"")+":"+c.id();return this.annotations[o]=function(e,i){if(!e||!t)return n(null),void 0;var o=F(t,e,i);n(o)},"<$"+o+">"+e+"</$"+o+">"},newLabelStack:function(){var e=[this._branchNotes];return{pushLabel:function(t){var n=e[e.length-1],i="_"+t;e.push(n[i]=n[i]||{})},popLabel:function(){e.pop()},getNotes:function(){var t=e[e.length-1];return t},mark:function(t){for(var n=e.length-1;n>=0&&!e[n][t];n--)e[n][t]=!0}}},materialize:function(e){var t=this,n=s.withValue(t,e);n=t.annotate(n);var i,o={},r=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling;if(8===t.nodeType){var i=o[t.nodeValue];if(i===!1)throw new Error("Spark HTML fragments may only be used once. Second use in "+u.fragmentToHtml(e));i&&(o[t.nodeValue]=!1,u.wrapFragmentForContainer(i,t.parentNode),t.parentNode.replaceChild(i,t))}else 1===t.nodeType&&r(t);t=n}},a=[[]],c=[],d=/<(\/?)\$([^<>]+)>|<|[^<]+/g;d.lastIndex=0;for(var h;h=d.exec(n);){var f=!h[1],p=h[2],g=t.annotations[p];if(g===!1)throw new Error("Spark HTML fragments may be used only once. Second use of: "+u.fragmentToHtml(o[p]));if(g)if(f)c.push(p),a.push([]);else{var m=c.pop();if(m!==p)throw new Error("Range mismatch: "+m+" / "+p);var v=u.htmlToFragment(a.pop().join(""));if(r(v),v.firstChild||v.appendChild(document.createComment("empty")),g(v.firstChild,v.lastChild),t.annotations[p]=!1,!c.length){i=v;break}o[p]=v,a[a.length-1].push("<!--"+p+"-->")}else a[a.length-1].push(h[0])}return $(i,t.landmarkRanges),t.landmarkRanges=[],l.each(t.annotations,function(e){e&&e()}),t.annotations={},l.each(u.findAll(i,"[value], textarea, select"),function(e){e._sparkOriginalRenderedValue=[u.getElementValue(e)]}),l.each(u.findAll(i,"input[type=checkbox], input[type=radio]"),function(e){e._sparkOriginalRenderedChecked=[!!e.checked]}),i}});var T=function(e){return function(){var t=s.get(),n=l.toArray(arguments);return t?(n.push(t),e.apply(null,n)):n.pop()}},$=function(t,i){var o=new d(n,t),r=!1;o.finalize=function(){r=!0},p.afterFlush(function(){if(!r){if(!u.isInDocument(o.firstNode())){for(var t=o.firstNode();t.parentNode;)t=t.parentNode;if(!t._protect)return e.finalize(t),void 0}l.each(i,function(e){e.isPreservedConstant||e.rendered.call(e.landmark)});for(var n=o;n=x(w,n);)n.rendered.call(n.landmark);S(o.firstNode(),o.lastNode()),o.destroy()}})};e.render=function(e){var t=new i,n=t.materialize(e);return n};var L=function(){this.roots=[],this.regionPreservations=[]};l.extend(L.prototype,{addRoot:function(e,t,n,i){var o=this;o.roots.push({context:i,preserve:e,fromRange:t,toRange:n})},addConstantRegion:function(e,t){var n=this;n.regionPreservations.push({type:"region",fromStart:e.firstNode(),fromEnd:e.lastNode(),newRange:t})},computePreservations:function(e,t){var i=this,o=l.clone(i.regionPreservations),r=function(e,t,n,i,o){e=e||t.containerNode();var r=u.findAllClipped(e,i,t.firstNode(),t.lastNode());l.each(r,function(e){var t=n(e);t&&o(e,t)})};l.each(i.roots,function(e){e.fromNodesByLabel={},l.each(e.preserve,function(t,n){e.fromNodesByLabel[n]={},r(e.context,e.fromRange,t,n,function(t,i){e.fromNodesByLabel[n][i]=t})})});var s=new d(n,t.firstNode(),t.lastNode()),a=document.createDocumentFragment();a.appendChild(document.createComment(""));var c=s.replaceContents(a),h=new d(n,c);e.insertBefore(c),l.each(i.roots,function(e){l.each(e.preserve,function(t,n){r(e.context,e.toRange,t,n,function(t,i){var r=e.fromNodesByLabel[n][i];r&&(o.push({type:"node",from:r,to:t}),e.fromNodesByLabel[n][i]=null)})})});var f=h.extract();return h.destroy(),s.replaceContents(f),s.destroy(),o}});e.renderToRange=function(t,o){var s=t.firstNode();if(s&&s.parentNode){var a=new i,c=function(e,t){var n=a.newLabelStack();e.visit(function(e,i){i.type===b?e?n.pushLabel(i.label):n.popLabel():i.type===w&&e&&t(i,n.getNotes())})};c(t,function(e,t){t.originalRange=e});var h=u.findAllClipped(t.containerNode(),"input[type=radio]",t.firstNode(),t.lastNode());l.each(h,function(e){e._currentChecked=[!!e.checked]});var f=a.materialize(o);u.wrapFragmentForContainer(f,t.containerNode());var p=new d(n,f),g=a.pc;c(p,function(e,t){t.originalRange&&(e.constant&&g.addConstantRegion(t.originalRange,e),g.addRoot(e.preserve,t.originalRange,e))});for(var m=t;(m=m.findParent())&&m.firstNode().parentNode;)m.type===w,m&&g.addRoot(m.preserve,t,p,m.containerNode());g.addRoot(A,t,p);var v=g.computePreservations(t,p);p.destroy();var y={};B(function(){t.operate(function(t,n){e.finalize(t,n),r(t.parentNode,f,t.previousSibling,n.nextSibling,v,y)})}),l.each(y.regionPreservations,function(e){e.isPreservedConstant=!0})}},e.finalize=function(e,t){if(!e.parentNode&&11!==e.nodeType){var i=document.createDocumentFragment();i.appendChild(e),e=i,t=null}var o=new d(n,e,t);o.visit(function(e,t){e&&t.finalize&&t.finalize()}),o.destroy(!0)},e.setDataContext=T(function(e,t,n){return n.annotate(t,a,{data:e})}),e.getDataContext=function(e){var t=k(a,e);return t&&t.data};var M=null,P=function(){return M||(M=new h(function(e){if(!D){for(var t=[],n=k(v,e.currentTarget);n;)t.push(n),n=x(v,n);l.each(t,function(t){t.handler(e)})}},E)),M};e.attachEvents=T(function(t,n,i){var o=P(),r={};l.each(t,function(e,t){"function"==typeof e&&(e=[e]);var n=t.split(/,\s+/);l.each(n,function(t){var n=t.split(/\s+/);if(0!==n.length){var i=n.shift(),o=n.join(" ");r[i]=r[i]||[],l.each(e,function(e){r[i].push({selector:o,callback:e})})}})});var s=l.keys(r),a=function(e){l.each(s,function(t){for(var n=e.firstNode(),i=e.lastNode().nextSibling;n&&n!==i;n=n.nextSibling)o.installHandler(n,t)})};n=i.annotate(n,y,{notify:function(){a(this)}});var c=!1;return n=i.annotate(n,v,function(t){t&&(l.each(s,function(e){o.addType(e)}),a(t),t.finalize=function(){c=!0},t.handler=function(n){for(var i=r[n.type]||[],o=0;o<i.length;o++){if(c||n.isImmediatePropagationStopped())return;var s=i[o],a=s.callback,l=s.selector;if(l){if(!u.matchesSelectorClipped(n.currentTarget,t.containerNode(),l,t.firstNode(),t.lastNode()))continue}else if(n.currentTarget!==n.target)continue;var d=e.getDataContext(n.currentTarget)||{},h=x(w,t),f=h&&h.landmark,p=a.call(d,n,f);p===!1&&(n.stopImmediatePropagation(),n.preventDefault())}})})}),e.isolate=function(t){var n=s.get();if(!n)return t();var i,o,r=!0;return p.autorun(function(s){r?(o=n.annotate(t(),m,function(e){e?(i=e,i.finalize=function(){s.stop()}):s.stop()}),r=!1):e.renderToRange(i,t)}),o};var R=function(e,t){l.each(t,function(t,n){void 0===t?delete e[n]:e[n]=t})};o=Package.minimongo?Package.minimongo.LocalCollection._idStringify:function(e){return e},e.list=function(t,n,i){i=i||function(){return""};var r={},a={};l.each(["addedBefore","removed","movedBefore","changed"],function(e){a[e]=function(){return r[e].apply(null,arguments)}});var c=new f(o);l.extend(r,{addedBefore:function(e,t,n){var i=g.clone(t);i._id=e;var o={doc:i,liveRange:null};c.putBefore(e,o,n)}});var d,h=t.observeChanges(a),m=s.get(),v=m?l.bind(m.annotate,m):function(e){return e},y=function(e){return t.getTransform&&t.getTransform()?t.getTransform()(g.clone(e)):e},b="";c.empty()?b=i():c.forEach(function(e){b+=v(n(y(e.doc)),C,function(t){e.liveRange=t})});var E=!1,A=function(){h.stop(),E=!0};b=v(b,_,function(e){e?(d=e,d.finalize=A):A()}),m||A();var k=function(){for(var e=d;e=x(w,e);)e.rendered.call(e.landmark)},S=function(e){p.afterFlush(function(){E||B(e)})};return l.extend(r,{addedBefore:function(t,i,o){S(function(){var r=g.clone(i);r._id=t;var s=e.render(l.bind(n,null,y(r)));u.wrapFragmentForContainer(s,d.containerNode());var a=F(C,s);c.empty()?e.finalize(d.replaceContents(s)):null===o?c.lastValue().liveRange.insertAfter(s):c.get(o).liveRange.insertBefore(s),c.putBefore(t,{doc:r,liveRange:a},o)})},removed:function(t){S(function(){if(c.first()===c.last()){var n=e.render(i);u.wrapFragmentForContainer(n,d.containerNode()),e.finalize(d.replaceContents(n))}else e.finalize(c.get(t).liveRange.extract());c.remove(t),k()})},movedBefore:function(e,t){S(function(){var n=c.get(e).liveRange.extract();null===t?c.lastValue().liveRange.insertAfter(n):c.get(t).liveRange.insertBefore(n),c.moveBefore(e,t),k()})},changed:function(t,i){S(function(){var o=c.get(t);if(!o)throw new Error("Unknown id for changed: "+t);R(o.doc,i),e.renderToRange(o.liveRange,l.bind(n,null,y(o.doc)))})}}),b};var I=1;e.Landmark=function(){this.id=I++,this._range=null},l.extend(e.Landmark.prototype,{firstNode:function(){return this._range.firstNode()},lastNode:function(){return this._range.lastNode()},find:function(e){var t=this._range;return u.findClipped(t.containerNode(),e,t.firstNode(),t.lastNode())},findAll:function(e){var t=this._range;return u.findAllClipped(t.containerNode(),e,t.firstNode(),t.lastNode())},hasDom:function(){return!!this._range}}),e.UNIQUE_LABEL=["UNIQUE_LABEL"],e.labelBranch=function(t,n){var i=s.get();if(!i||null===t)return n();t===e.UNIQUE_LABEL&&(t=c.id()),i.currentBranch.pushLabel(t);var o=n(),r=i.currentBranch.getNotes().occupied;return i.currentBranch.popLabel(),r?i.annotate(o,b,{label:t}):o},e.createLandmark=function(t,n){var i=s.get();if(!i){var o=new e.Landmark;t.created&&t.created.call(o);var r=n(o);return t.destroyed&&t.destroyed.call(o),r}var a={};l.isArray(t.preserve)?l.each(t.preserve,function(e){a[e]=!0}):a=t.preserve||{};for(var c in a)"function"!=typeof a[c]&&(a[c]=function(){return!0});i.currentBranch.mark("occupied");var o,u=i.currentBranch.getNotes();if(u.originalRange){if(u.originalRange.superceded)throw new Error("Can't create second landmark in same branch");u.originalRange.superceded=!0,o=u.originalRange.landmark}else o=new e.Landmark,t.created&&p.nonreactive(function(){t.created.call(o)});u.landmark=o;var r=n(o);return i.annotate(r,w,function(e){return e?(l.extend(e,{preserve:a,constant:!!t.constant,rendered:t.rendered||function(){},destroyed:t.destroyed||function(){},landmark:o,finalize:function(){this.superceded||(this.landmark._range=null,this.destroyed.call(this.landmark))}}),o._range=e,i.landmarkRanges.push(e),i=null,void 0):(t.destroyed&&t.destroyed.call(o),void 0)})},t.getEnclosingLandmark=function(e){var t=k(w,e);return t?t.landmark:null}}).call(this),function(){r=function(e,t,i,o,a,c){var h=function(e,t){d.transplantTag(n,e,t)},f=new s(e,t,i,o),p=function(e,t,n,i){for(var o=t?t.nextSibling:e.firstChild;o&&o!==n;o=o.nextSibling)i(o)!==!1&&o.firstChild&&p(o,null,null,i)};c=c||{};var g=c.regionPreservations=c.regionPreservations||[],m=null;return p(t,null,null,function(e){var t=l.find(a,function(t){return"region"===t.type&&t.newRange.firstNode()===e})||l.find(a,function(t){return"node"===t.type&&t.to===e});if(t){var n="region"===t.type?t.fromStart:t.from;if(!m||u.compareElementIndex(m,n)<0)if("region"===t.type)f.match(t.fromStart,t.newRange.firstNode(),h,!0)&&(f.skipToSiblings(t.fromEnd,t.newRange.lastNode()),d.transplantRange(t.fromStart,t.fromEnd,t.newRange),g.push(t.newRange));else if("node"===t.type&&f.match(n,e,h))return m=n,(n.firstChild||e.firstChild)&&"TEXTAREA"!==n.nodeName&&"SELECT"!==n.nodeName&&r(n,e,null,null,a),!1}return!0}),f.finish(),c},s=function(e,t,n,i){this.tgtParent=e,this.srcParent=t,this.tgtBefore=n,this.tgtAfter=i,this.lastKeptTgtNode=null,this.lastKeptSrcNode=null},s.prototype.match=function(e,t,n,i){var o=this.lastKeptTgtNode,r=this.lastKeptSrcNode,a=e,l=t;if(!a!=!l)return!1;var c=!o,d=!a;if(!c){for(;!(o.parentNode===this.tgtParent||a&&u.elementContains(o.parentNode,a));)this._replaceNodes(o,null,r,null),o=o.parentNode,r=r.parentNode;if(this.lastKeptTgtNode=o,this.lastKeptSrcNode=r,!d&&(u.elementContains(r,l)||r.parentNode!==this.srcParent&&!u.elementContains(r.parentNode,l)))return!1}if(d)this._replaceNodes(o,null,r,null,this.tgtParent,this.srcParent);else{if(!i&&a.nodeName!==l.nodeName)return!1;for(var h=a.parentNode,f=l.parentNode;h!==(c?this.tgtParent:o.parentNode);h=h.parentNode,f=f.parentNode){if(f===(c?this.srcParent:r.parentNode))return!1;if(h.nodeName!==f.nodeName)return!1}if(f!==(c?this.srcParent:r.parentNode))return!1;for(var p=!0;;){if(p&&i||(1===a.nodeType&&s._copyAttributes(a,l),n&&n(a,l)),p=!1,(c?this.tgtParent:o.parentNode)===a.parentNode){this._replaceNodes(o,a,r,l);break}this._replaceNodes(null,a,null,l),a=a.parentNode,l=l.parentNode}}return this.lastKeptTgtNode=e,this.lastKeptSrcNode=t,!0},s.prototype.skipToSiblings=function(e,t){var n=this.lastKeptTgtNode,i=this.lastKeptSrcNode;return n&&n.parentNode===e.parentNode?i&&i.parentNode===t.parentNode?(this.lastKeptTgtNode=e,this.lastKeptSrcNode=t,!0):!1:!1},s.prototype.finish=function(){return this.match(null,null)},s.prototype._replaceNodes=function(e,t,n,i,o,r){var s=o||(e||t).parentNode,a=r||(n||i).parentNode;s===this.tgtParent&&(e=e||this.tgtBefore,t=t||this.tgtAfter),a===this.srcParent&&(n=n||this.srcBefore,i=i||this.srcAfter);for(var l;(l=e?e.nextSibling:s.firstChild)&&l!==t;)s.removeChild(l);for(var c;(c=n?n.nextSibling:a.firstChild)&&c!==i;)s.insertBefore(c,t||null)},s._copyAttributes=function(e,t){var n=t.attributes,i=e.attributes,o=e===document.activeElement;e.style.cssText&&(e.style.cssText="");var r=!1,s=null;if("INPUT"===e.nodeName&&(r="radio"===e.type,r||"checkbox"===e.type)){var a=!!e._sparkOriginalRenderedChecked&&e._sparkOriginalRenderedChecked[0],l=!!t._sparkOriginalRenderedChecked&&t._sparkOriginalRenderedChecked[0],c=e._currentChecked?e._currentChecked[0]:e.checked;a===l?s=c:(s=l,e._sparkOriginalRenderedChecked=[s])}for(var d=i.length-1;d>=0;d--){var h=i[d];if(h.specified){var f=h.name;if(i[f]&&"id"!==f&&"type"!==f&&(!r||"name"!==f)&&"value"!==f&&"src"!==f){var p=e[f];(!p||"object"!=typeof p&&!/^jQuery/.test(f))&&e.removeAttributeNode(h)}}}if(e.mergeAttributes){var g=t._sparkOriginalRenderedValue;t.removeAttribute("_sparkOriginalRenderedValue"),e.mergeAttributes(t),g&&(t._sparkOriginalRenderedValue=g),t.name&&(e.name=t.name)}else for(var d=0,m=n.length;m>d;d++){var v=n.item(d);if(v.specified){var f=v.name.toLowerCase(),y=String(v.value);if("type"===f);else if("checked"===f);else if("style"===f)e.style.cssText=t.style.cssText;else if("class"===f)e.className=t.className;else if("value"===f);else if("src"===f)t.src!==e.src&&(e.src=t.src);else try{e.setAttribute(f,y)}catch(b){throw new Error("Error copying attribute '"+f+"': "+b)}}}var w=function(e){return e._sparkOriginalRenderedValue?e._sparkOriginalRenderedValue[0]:null},_=w(t),C=w(e),E=u.getElementValue(e);if("SELECT"===e.nodeName){for(;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.insertBefore(t.firstChild,null);u.setElementValue(e,E)}_===C||E!==_&&o||(E!==_&&u.setElementValue(e,_),e._sparkOriginalRenderedValue=[_]),null!==s&&(e.checked!==s&&(e.checked=s),e.defaultChecked=s,s?e.setAttribute("checked","checked"):e.removeAttribute("checked"))},t.Patcher=s}.call(this),function(){a.render=function(t){return e.render(function(){return e.isolate("function"==typeof t?t:function(){return String(t)})})},a.renderList=function(t,n,i){return e.render(function(){return e.list(t,function(t){var i=t._id?o(t._id):null;return e.labelBranch(i,function(){return e.isolate(l.bind(n,null,t))})},function(){return i?e.isolate(i):""})})}}.call(this),function(){e._labelFromIdOrName=function(e){var t=null;if(1===e.nodeType)if(e.getAttribute("id"))t="#"+e.getAttribute("id");else if(e.getAttribute("name"))for(t=e.getAttribute("name"),"INPUT"!==e.nodeName||"radio"!==e.type&&"checkbox"!==e.type||!e.value||(t=t+":"+e.value);e.parentNode&&1===e.parentNode.nodeType;){if(e=e.parentNode,e.id){t="#"+e.id+"/"+t;break}e.getAttribute("name")&&(t=e.getAttribute("name")+"/"+t)}return t}}.call(this),"undefined"==typeof Package&&(Package={}),Package.spark={Spark:e,SparkTest:t}}(),function(){var e=(Package.meteor.Meteor,Package.underscore._),t=Package.spark.Spark;(function(){var n="input textarea button select option".split(" "),i=e.map(n,function(e){return e.replace(/^.*$/,"$&[id], $&[name]")}).join(", ");t._addGlobalPreserve(i,t._labelFromIdOrName)}).call(this),"undefined"==typeof Package&&(Package={}),Package["preserve-inputs"]={}}(),function(){var e,t=Package.meteor.Meteor;(function(){"undefined"==typeof e&&(e={}),e.configurations=new t.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0}),e.ConfigError=function(e){this.message=e},e.ConfigError.prototype=new Error,e.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:e}}(),function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){if(window.localStorage){var n,i="_localstorage_test_"+t.id();try{window.localStorage.setItem(i,i),n=window.localStorage.getItem(i),window.localStorage.removeItem(i)}catch(o){}i===n&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}})}e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t
},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._),n=Package.spark.Spark;(function(){e={},e.json_ast_to_func=function(t){return function(n,i){return e.evaluate(t,n,i)}};var i=Package.minimongo?Package.minimongo.LocalCollection._idStringify:function(e){return e};e._default_helpers={"with":function(e,t){return!e||e instanceof Array&&!e.length?t.inverse(this):t.fn(e)},each:function(e,o){var r=this;return e&&e.length>0?t.map(e,function(e){var t=e&&e._id&&i(e._id)||("string"==typeof e?e:null)||n.UNIQUE_LABEL;return n.labelBranch(t,function(){return o.fn(e)})}).join(""):n.labelBranch("else",function(){return o.inverse(r)})},"if":function(e,t){return!e||e instanceof Array&&!e.length?t.inverse(this):t.fn(this)},unless:function(e,t){return!e||e instanceof Array&&!e.length?t.fn(this):t.inverse(this)}},e.registerHelper=function(t,n){if(t in e._default_helpers)throw new Error("There is already a helper '"+t+"'");e._default_helpers[t]=n},e._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),e._defaultThis=function(){return this}(),e.evaluate=function(i,o,r){r=r||{};var s=t.extend({},e._default_helpers);t.extend(s,r.helpers||{});var a=r.partials||{},l=function(e,n){if("object"!=typeof n)return n;for(var i=0;i<n[0];i++){if(!e.parent)throw new Error("Too many '..' segments");e=e.parent}if(1===n.length)return e.data;var o=!1;""===n[1]&&(n=n.slice(),n.splice(1,1),o=!0);var r,a=e.data;if(0===n[0]&&s.hasOwnProperty(n[1])&&!o)r=s[n[1]];else{if(!r instanceof Object&&"undefined"!=typeof function(){}[n[1]]&&!o)throw new Error("Can't call a helper '"+n[1]+"' because it is a built-in function property in JavaScript");r=e.data&&e.data[n[1]]}for(var i=2;i<n.length;i++){if("function"==typeof r&&(r=r.call(a),a=r),void 0===r||null===r){r="";break}r=r[n[i]]}return"function"==typeof r?t.bind(r,a):r},c=function(e,n,i,o){i=i||{},n=n.slice(0);var r=n[n.length-1],s={};"object"!=typeof r||r instanceof Array||t.each(n.pop(),function(t,n){var i=l(e,t);s[n]="function"==typeof i?i():i});for(var a=function(t,n){for(var i=t.slice(1),o=0;o<i.length;o++)"function"==typeof i[o]&&(i[o]=i[o]());return n&&i.push(n),t[0].apply(e.data,i)},c=new Array(n.length),u=0;u<n.length;u++)c[u]=l(e,n[u]);if("function"!=typeof c[0])return c[0];if(o&&c.length>1){var d=c[1];"function"==typeof d&&(d=a(c.slice(1),{hash:s})),c=[c[0],d],i.hash={}}else i.hash=s;return a(c,i)},u=function(i,o,r){var s,l=[],d=function(e){return"string"==typeof e?e:null===e?"null":void 0===e?"":e.toString()},h=function(t,i){return function(o){return(o||e._defaultThis)===(i||e._defaultThis)?t(o):n.setDataContext(o,t(o))}},f=function(t){return t instanceof e.SafeString?t.toString():e._escape(d(t))},p=function(){return(r?r+".":"")+s},g=function(e,t){return n.labelBranch(e+"@"+p(),t)};return t.each(o,function(e,t){if(s=t,"string"==typeof e)l.push(e);else if("{"===e[0])l.push(g(e[1],function(){return f(c(i,e[1]))}));else if("!"===e[0])l.push(g(e[1],function(){return d(c(i,e[1]||""))}));else if("#"===e[0]){var n=p(),o=h(function(t){return u({parent:i,data:t},e[2],n)},i.data);o.fn=o,o.inverse=h(function(t){return u({parent:i,data:t},e[3]||[],n)},i.data);var r=g(e[1],function(){return d(c(i,e[1],o,!0))});l.push(r)}else{if(">"!==e[0])throw new Error("bad element in template");var m=e[1];if(!(m in a))throw new Error("No such template '"+m+"'");var r=g(m,function(){return d(a[m](i.data))});l.push(r)}}),l.join("")},d=(r.name||"")+"#";return u({data:o,parent:null},i,d)},e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()}}).call(this),"undefined"==typeof Package&&(Package={}),Package.handlebars={Handlebars:e}}(),function(){var e,t,n,i,o,r,s,a,l,c,u,d=Package.meteor.Meteor,h=Package.underscore._,f=Package.deps.Deps,p=Package.random.Random,g=Package.livedata.DDP;(function(){e={},e._options={};var o=90,r=3600;t=6e5,n=1e4,e.config=function(t){d.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||d._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect.");var n=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];h.each(h.keys(t),function(e){if(!h.contains(n,e))throw new Error("Accounts.config: Invalid key: "+e)}),h.each(n,function(n){if(n in t){if(n in e._options)throw new Error("Can't set `"+n+"` more than once");e._options[n]=t[n]}}),d.isServer&&maybeStopExpireTokensInterval()},d.isClient&&(e.connection=d.connection,"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL&&(e.connection=g.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL))),d.users=new d.Collection("users",{_preventAutopublish:!0,connection:d.isClient?e.connection:d.connection}),d.startup(function(){var t=Package["service-configuration"].ServiceConfiguration;e.loginServiceConfiguration=t.configurations,e.ConfigError=t.ConfigError}),e.LoginCancelledError=function(e){this.message=e},e.LoginCancelledError.numericError=145546287,e.LoginCancelledError.prototype=new Error,e.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",i=function(){return 24*(e._options.loginExpirationInDays||o)*60*60*1e3},e._tokenExpiration=function(e){return new Date(new Date(e).getTime()+i())},e._tokenExpiresSoon=function(e){var t=.1*i(),n=1e3*r;return t>n&&(t=n),new Date>new Date(e)-t}}).call(this),function(){o=!0;var t;t=window.location.hash.match(/^\#\/reset-password\/(.*)$/),t&&(o=!1,e._resetPasswordToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/verify-email\/(.*)$/),t&&(o=!1,e._verifyEmailToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/enroll-account\/(.*)$/),t&&(o=!1,e._enrollAccountToken=t[1],window.location.hash="")}.call(this),function(){d.userId=function(){return e.connection.userId()};var t=!1,n=new f.Dependency;e._setLoggingIn=function(e){t!==e&&(t=e,n.changed())},d.loggingIn=function(){return n.depend(),t},d.user=function(){var e=d.userId();return e?d.users.findOne(e):null},e.callLoginMethod=function(t){t=h.extend({methodName:"login",methodArguments:[],_suppressLoggingIn:!1},t),h.each(["validateResult","userCallback"],function(e){t[e]||(t[e]=function(){})});var n=h.once(t.userCallback),i=!1,o=function(t,o){e.connection.onReconnect=!t&&o&&o.token?function(){i=!0;var t=c();t&&(o={token:t,tokenExpires:u()}),o.tokenExpires||(o.tokenExpires=e._tokenExpiration(new Date)),e._tokenExpiresSoon(o.tokenExpires)?r():e.callLoginMethod({methodArguments:[{resume:o.token}],_suppressLoggingIn:!0,userCallback:function(e){var t=c();e&&t&&t===o.token&&r(),n(e)}})}:null},a=function(o,r){if(!i){if(e._setLoggingIn(!1),o||!r)return o=o||new Error("No result from call to "+t.methodName),n(o),void 0;try{t.validateResult(r)}catch(a){return n(a),void 0}s(r.id,r.token,r.tokenExpires),n()}};t._suppressLoggingIn||e._setLoggingIn(!0),e.connection.apply(t.methodName,t.methodArguments,{wait:!0,onResultReceived:o},a)},r=function(){l(),e.connection.setUserId(null),e.connection.onReconnect=null},s=function(t,n,i){a(t,n,i),e.connection.setUserId(t)},d.logout=function(t){e.connection.apply("logout",[],{wait:!0},function(e){e?t&&t(e):(r(),t&&t())})},d.logoutOtherClients=function(t){e.connection.apply("logoutOtherClients",[],{wait:!0},function(e,n){if(e)t&&t(e);else{var i=d.userId();a(i,n.token,n.tokenExpires),d.loginWithToken(n.token,function(e){e&&c()&&c().token===n.token&&r(),t&&t(e)})}})};var i=e.connection.subscribe("meteor.loginServiceConfiguration");e.loginServicesConfigured=function(){return i.ready()},Package.handlebars&&(Package.handlebars.Handlebars.registerHelper("currentUser",function(){return d.user()}),Package.handlebars.Handlebars.registerHelper("loggingIn",function(){return d.loggingIn()}))}.call(this),function(){var t;d.loginWithToken=function(t,n){e.callLoginMethod({methodArguments:[{resume:t}],userCallback:n})},e._enableAutoLogin=function(){o=!0,v()};var n="Meteor.loginToken",i="Meteor.loginTokenExpires",s="Meteor.userId";e._isolateLoginTokenForTest=function(){n+=p.id(),s+=p.id()},a=function(o,r,a){d._localStorage.setItem(s,o),d._localStorage.setItem(n,r),a||(a=e._tokenExpiration(new Date)),d._localStorage.setItem(i,a),t=r},l=function(){d._localStorage.removeItem(s),d._localStorage.removeItem(n),d._localStorage.removeItem(i),t=null},c=e._storedLoginToken=function(){return d._localStorage.getItem(n)},u=function(){return d._localStorage.getItem(i)};var h=function(){return d._localStorage.getItem(s)},f=function(){var t=d._localStorage.getItem(i);t&&e._tokenExpiresSoon(new Date(t))&&l()};if(o){f();var g=c();if(g){var m=h();m&&e.connection.setUserId(m),d.loginWithToken(g,function(e){e&&(d._debug("Error logging in with token: "+e),r())})}}t=g;var v=function(){if(o){var e=c();t!=e&&(e?d.loginWithToken(e,function(e){e&&r()}):d.logout()),t=e}};setInterval(v,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._),n=Package.spark.Spark,i=Package.handlebars.Handlebars;(function(){e={};var o={},r=Package.minimongo?Package.minimongo.LocalCollection._idStringify:function(e){return e},s=function(){s=function(){};var e=i._default_helpers.each;i._default_helpers.each=function(i,o){var s=function(){return!i||i instanceof Array||i instanceof Object&&"observeChanges"in i};if(!s())throw new Error("{{#each}} only accepts arrays, cursors, or falsey values. You passed: "+i);return i&&"observeChanges"in i?n.list(i,function(e){return n.labelBranch(e&&e._id&&r(e._id)||n.UNIQUE_LABEL,function(){var i=n.isolate(t.bind(o.fn,null,e));return n.setDataContext(e,i)})},function(){return o.inverse?n.isolate(o.inverse):""}):e.call(this,i,o)},t.extend(i._default_helpers,{isolate:function(e){var t=this;return n.isolate(function(){return e.fn(t)})},constant:function(e){var t=this;return n.createLandmark({constant:!0},function(){return e.fn(t)})}})},a={},l=function(e){var t=a[e.id]||(a[e.id]={find:function(t){if(!e.hasDom())throw new Error("Template not in DOM");return e.find(t)},findAll:function(t){if(!e.hasDom())throw new Error("Template not in DOM");return e.findAll(t)}});return t.firstNode=e.hasDom()?e.firstNode():null,t.lastNode=e.hasDom()?e.lastNode():null,t},c={_tmpl_data:null,events:function(e){var n=this._tmpl_data.events=this._tmpl_data.events||{};t.each(e,function(e,t){n[t]=n[t]||[],n[t].push(e)})},preserve:function(e){var n=this._tmpl_data.preserve=this._tmpl_data.preserve||{};t.isArray(e)?t.each(e,function(e){n[e]=!0}):t.extend(n,e)},helpers:function(e){var t=this._tmpl_data.helpers=this._tmpl_data.helpers||{};for(var n in e)t[n]=e[n]}};e.__define__=function(r,u){if(s(),"__define__"===r)throw new Error("Sorry, '__define__' is a special name and cannot be used as the name of a template");var d=function(i){var s=r&&e[r]||{},h=s._tmpl_data||{},f=n.labelBranch("Template."+r,function(){var e=n.createLandmark({preserve:h.preserve||{},created:function(){var e=l(this);e.data=i,s.created&&s.created.call(e)},rendered:function(){var e=l(this);e.data=i,s.rendered&&s.rendered.call(e)},destroyed:function(){s.destroyed&&s.destroyed.call(l(this)),delete a[this.id]}},function(){var e=n.isolate(function(){return u(i,{helpers:t.extend({},d,h.helpers||{}),partials:o,name:r})}),a=function(e){var n={};return t.each(e,function(e,i){"function"==typeof e&&(e=[e]),n[i]=t.map(e,function(e){return function(t,n){return e.call(this,t,l(n))}})}),n},f=s.events!==c.events?s.events:h.events;return s.events&&(e=n.attachEvents(a(f),e)),e});return e=n.setDataContext(i,e)});return f};if(t.extend(d,i.helpers),r){if(e[r])throw new Error("There are multiple templates named '"+r+"'. Each template needs a unique name.");e[r]=d,t.extend(d,c),d._tmpl_data={},o[r]=d}return d}}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,i=Package.deps.Deps,o=Package.ejson.EJSON;(function(){var r=function(e){return void 0===e?"undefined":o.stringify(e)},s=function(e){return void 0===e||"undefined"===e?void 0:o.parse(e)};e=function(e){this.keys=e||{},this.keyDeps={},this.keyValueDeps={}},n.extend(e.prototype,{set:function(e,t){var i=this;t=r(t);var o="undefined";if(n.has(i.keys,e)&&(o=i.keys[e]),t!==o){i.keys[e]=t;var s=function(e){e&&e.changed()};s(i.keyDeps[e]),i.keyValueDeps[e]&&(s(i.keyValueDeps[e][o]),s(i.keyValueDeps[e][t]))}},setDefault:function(e,t){var n=this;void 0===n.keys[e]&&n.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),s(t.keys[e])},equals:function(e,a){var l=this,c=Package["mongo-livedata"]&&t.Collection.ObjectID;if(!("string"==typeof a||"number"==typeof a||"boolean"==typeof a||"undefined"==typeof a||a instanceof Date||c&&a instanceof c||null===a))throw new Error("ReactiveDict.equals: value must be scalar");var u=r(a);if(i.active){l._ensureKey(e),n.has(l.keyValueDeps[e],u)||(l.keyValueDeps[e][u]=new i.Dependency);var d=l.keyValueDeps[e][u].depend();d&&i.onInvalidate(function(){l.keyValueDeps[e][u].hasDependents()||delete l.keyValueDeps[e][u]})}var h=void 0;return n.has(l.keys,e)&&(h=s(l.keys[e])),o.equals(h,a)},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new i.Dependency,t.keyValueDeps[e]={})},getMigrationData:function(){return this.keys}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.underscore._,Package["reactive-dict"].ReactiveDict);Package.ejson.EJSON}(function(){var n={};if(Package.reload){var i=Package.reload.Reload._migrationData("session");i&&i.keys&&(n=i.keys)}e=new t(n),Package.reload&&Package.reload.Reload._onMigrate("session",function(){return[!0,{keys:e.keys}]})}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:e}}(),function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=(Package.random.Random,Package.check.check,Package.check.Match,Package["accounts-base"].Accounts);(function(){n.oauth={};var i={};n.oauth.registerService=function(n){if(t.has(i,n))throw new Error("Duplicate service: "+n);i[n]=!0,e.server&&e.users._ensureIndex("services."+n+".id",{unique:1,sparse:1})},n.oauth.serviceNames=function(){return t.keys(i)}}).call(this),function(){n.oauth.tryLoginAfterPopupClosed=function(t,i){n.callLoginMethod({methodArguments:[{oauth:{credentialToken:t}}],userCallback:i&&function(t){t&&t instanceof e.Error&&t.error===n.LoginCancelledError.numericError?i(new n.LoginCancelledError(t.details)):i(t)}})},n.oauth.credentialRequestCompleteHandler=function(e){return function(t){t&&t instanceof Error?e&&e(t):n.oauth.tryLoginAfterPopupClosed(t,e)}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-oauth"]={}}(),function(){var e,t,n,i=(Package.meteor.Meteor,Package.random.Random),o=(Package.check.check,Package.check.Match,Package.underscore._);(function(){t=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new e(null)}function n(e,t,n,i,o,r){for(var s=16383&t,a=t>>14;--r>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*s;l=s*l+((16383&u)<<14)+n[i]+o,o=(l>>28)+(u>>14)+a*c,n[i++]=268435455&l}return o}function i(e){return Zt.charAt(e)}function o(e,t){var n=en[e.charCodeAt(t)];return null==n?-1:n}function r(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function s(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function a(e){var n=t();return n.fromInt(e),n}function l(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return this.fromRadix(t,n),void 0;i=2}this.t=0,this.s=0;for(var r=t.length,s=!1,a=0;--r>=0;){var l=8==i?255&t[r]:o(t,r);0>l?"-"==t.charAt(r)&&(s=!0):(s=!1,0==a?this[this.t++]=l:a+i>this.DB?(this[this.t-1]|=(l&(1<<this.DB-a)-1)<<a,this[this.t++]=l>>this.DB-a):this[this.t-1]|=l<<a,a+=i,a>=this.DB&&(a-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&e.ZERO.subTo(this,this)}function c(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function u(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,o=(1<<t)-1,r=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-->0)for(l<this.DB&&(n=this[a]>>l)>0&&(r=!0,s=i(n));a>=0;)t>l?(n=(this[a]&(1<<l)-1)<<t-l,n|=this[--a]>>(l+=this.DB-t)):(n=this[a]>>(l-=t)&o,0>=l&&(l+=this.DB,--a)),n>0&&(r=!0),r&&(s+=i(n));return r?s:"0"}function d(){var n=t();return e.ZERO.subTo(this,n),n}function h(){return this.s<0?this.negate():this}function f(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function p(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function g(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)}function m(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function v(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function y(e,t){var n,i=e%this.DB,o=this.DB-i,r=(1<<o)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>o|a,a=(this[n]&r)<<i;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}function b(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return t.t=0,void 0;var i=e%this.DB,o=this.DB-i,r=(1<<i)-1;t[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&r)<<o,t[s-n]=this[s]>>i;i>0&&(t[this.t-n-1]|=(this.s&r)<<o),t.t=this.t-n,t.clamp()}function w(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);o>n;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=0>i?-1:0,-1>i?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function _(t,n){var i=this.abs(),o=t.abs(),r=i.t;for(n.t=r+o.t;--r>=0;)n[r]=0;for(r=0;r<o.t;++r)n[r+i.t]=i.am(0,o[r],n,r,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function C(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function E(n,i,o){var r=n.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=i&&i.fromInt(0),null!=o&&this.copyTo(o),void 0;null==o&&(o=t());var a=t(),l=this.s,c=n.s,u=this.DB-p(r[r.t-1]);u>0?(r.lShiftTo(u,a),s.lShiftTo(u,o)):(r.copyTo(a),s.copyTo(o));var d=a.t,h=a[d-1];if(0!=h){var f=h*(1<<this.F1)+(d>1?a[d-2]>>this.F2:0),g=this.FV/f,m=(1<<this.F1)/f,v=1<<this.F2,y=o.t,b=y-d,w=null==i?t():i;for(a.dlShiftTo(b,w),o.compareTo(w)>=0&&(o[o.t++]=1,o.subTo(w,o)),e.ONE.dlShiftTo(d,w),w.subTo(a,a);a.t<d;)a[a.t++]=0;for(;--b>=0;){var _=o[--y]==h?this.DM:Math.floor(o[y]*g+(o[y-1]+v)*m);if((o[y]+=a.am(0,_,o,b,0,d))<_)for(a.dlShiftTo(b,w),o.subTo(w,o);o[y]<--_;)o.subTo(w,o)}null!=i&&(o.drShiftTo(d,i),l!=c&&e.ZERO.subTo(i,i)),o.t=d,o.clamp(),u>0&&o.rShiftTo(u,o),0>l&&e.ZERO.subTo(o,o)}}}function A(n){var i=t();return this.abs().divRemTo(n,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&n.subTo(i,i),i}function F(e){this.m=e}function k(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function x(e){return e}function S(e){e.divRemTo(this.m,null,e)}function D(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function B(e,t){e.squareTo(t),this.reduce(t)}function T(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function $(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function L(n){var i=t();return n.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),n.s<0&&i.compareTo(e.ZERO)>0&&this.m.subTo(i,i),i}function M(e){var n=t();return e.copyTo(n),this.reduce(n),n}function P(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function R(e,t){e.squareTo(t),this.reduce(t)}function I(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function O(){return 0==(this.t>0?1&this[0]:this.s)}function N(n,i){if(n>4294967295||1>n)return e.ONE;var o=t(),r=t(),s=i.convert(this),a=p(n)-1;for(s.copyTo(o);--a>=0;)if(i.sqrTo(o,r),(n&1<<a)>0)i.mulTo(r,s,o);else{var l=o;o=r,r=l}return i.revert(o)}function j(e,t){var n;return n=256>e||t.isEven()?new F(t):new $(t),this.exp(e,n)}function H(){var e=t();return this.copyTo(e),e}function U(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function z(){return 0==this.t?this.s:this[0]<<24>>24}function W(){return 0==this.t?this.s:this[0]<<16>>16}function V(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function q(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function G(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var n=this.chunkSize(e),i=Math.pow(e,n),o=a(i),r=t(),s=t(),l="";for(this.divRemTo(o,r,s);r.signum()>0;)l=(i+s.intValue()).toString(e).substr(1)+l,r.divRemTo(o,r,s);return s.intValue().toString(e)+l}function K(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),r=Math.pow(n,i),s=!1,a=0,l=0,c=0;c<t.length;++c){var u=o(t,c);0>u?"-"==t.charAt(c)&&0==this.signum()&&(s=!0):(l=n*l+u,++a>=i&&(this.dMultiply(r),this.dAddOffset(l,0),a=0,l=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(l,0)),s&&e.ZERO.subTo(this,this)}function Y(t,n,i){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),it,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var o=new Array,r=7&t;o.length=(t>>3)+1,n.nextBytes(o),r>0?o[0]&=(1<<r)-1:o[0]=0,this.fromString(o,256)}}function Q(){var e=this.t,t=new Array;t[0]=this.s;var n,i=this.DB-e*this.DB%8,o=0;if(e-->0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[o++]=n|this.s<<this.DB-i);e>=0;)8>i?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,0>=i&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t}function J(e){return 0==this.compareTo(e)}function X(e){return this.compareTo(e)<0?this:e}function Z(e){return this.compareTo(e)>0?this:e}function et(e,t,n){var i,o,r=Math.min(e.t,this.t);for(i=0;r>i;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(o=e.s&this.DM,i=r;i<this.t;++i)n[i]=t(this[i],o);n.t=this.t}else{for(o=this.s&this.DM,i=r;i<e.t;++i)n[i]=t(o,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function tt(e,t){return e&t}function nt(e){var n=t();return this.bitwiseTo(e,tt,n),n}function it(e,t){return e|t}function ot(e){var n=t();return this.bitwiseTo(e,it,n),n}function rt(e,t){return e^t}function st(e){var n=t();return this.bitwiseTo(e,rt,n),n}function at(e,t){return e&~t}function lt(e){var n=t();return this.bitwiseTo(e,at,n),n}function ct(){for(var e=t(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function ut(e){var n=t();return 0>e?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function dt(e){var n=t();return 0>e?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function ht(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function ft(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ht(this[e]);return this.s<0?this.t*this.DB:-1}function pt(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function gt(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=pt(this[n]^t);return e}function mt(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function vt(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i}function yt(e){return this.changeBit(e,it)}function bt(e){return this.changeBit(e,at)}function wt(e){return this.changeBit(e,rt)}function _t(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);o>n;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=0>i?-1:0,i>0?t[n++]=i:-1>i&&(t[n++]=this.DV+i),t.t=n,t.clamp()}function Ct(e){var n=t();return this.addTo(e,n),n}function Et(e){var n=t();return this.subTo(e,n),n}function At(e){var n=t();return this.multiplyTo(e,n),n}function Ft(e){var n=t();return this.divRemTo(e,n,null),n}function kt(e){var n=t();return this.divRemTo(e,null,n),n}function xt(e){var n=t(),i=t();return this.divRemTo(e,n,i),new Array(n,i)}function St(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Dt(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function Bt(){}function Tt(e){return e}function $t(e,t,n){e.multiplyTo(t,n)}function Lt(e,t){e.squareTo(t)}function Mt(e){return this.exp(e,new Bt)}function Pt(e,t,n){var i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;var o;for(o=n.t-this.t;o>i;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(o=Math.min(e.t,t);o>i;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()}function Rt(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)}function It(n){this.r2=t(),this.q3=t(),e.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function Ot(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=t();return e.copyTo(n),this.reduce(n),n}function Nt(e){return e}function jt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Ht(e,t){e.squareTo(t),this.reduce(t)}function Ut(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function zt(e,n){var i,o,r=e.bitLength(),s=a(1);if(0>=r)return s;i=18>r?1:48>r?3:144>r?4:768>r?5:6,o=8>r?new F(n):n.isEven()?new It(n):new $(n);var l=new Array,c=3,u=i-1,d=(1<<i)-1;if(l[1]=o.convert(this),i>1){var h=t();for(o.sqrTo(l[1],h);d>=c;)l[c]=t(),o.mulTo(h,l[c-2],l[c]),c+=2}var f,g,m=e.t-1,v=!0,y=t();for(r=p(e[m])-1;m>=0;){for(r>=u?f=e[m]>>r-u&d:(f=(e[m]&(1<<r+1)-1)<<u-r,m>0&&(f|=e[m-1]>>this.DB+r-u)),c=i;0==(1&f);)f>>=1,--c;if((r-=c)<0&&(r+=this.DB,--m),v)l[f].copyTo(s),v=!1;else{for(;c>1;)o.sqrTo(s,y),o.sqrTo(y,s),c-=2;c>0?o.sqrTo(s,y):(g=s,s=y,y=g),o.mulTo(y,l[f],s)}for(;m>=0&&0==(e[m]&1<<r);)o.sqrTo(s,y),g=s,s=y,y=g,--r<0&&(r=this.DB-1,--m)}return o.revert(s)}function Wt(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var o=t.getLowestSetBit(),r=n.getLowestSetBit();if(0>r)return t;for(r>o&&(r=o),r>0&&(t.rShiftTo(r,t),n.rShiftTo(r,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n}function Vt(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n}function qt(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),o=this.clone(),r=a(1),s=a(0),l=a(0),c=a(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(r.isEven()&&s.isEven()||(r.addTo(this,r),s.subTo(t,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;o.isEven();)o.rShiftTo(1,o),n?(l.isEven()&&c.isEven()||(l.addTo(this,l),c.subTo(t,c)),l.rShiftTo(1,l)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);i.compareTo(o)>=0?(i.subTo(o,i),n&&r.subTo(l,r),s.subTo(c,s)):(o.subTo(i,o),n&&l.subTo(r,l),c.subTo(s,c))}return 0!=o.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c}function Gt(e){var t,n=this.abs();if(1==n.t&&n[0]<=tn[tn.length-1]){for(t=0;t<tn.length;++t)if(n[0]==tn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<tn.length;){for(var i=tn[t],o=t+1;o<tn.length&&nn>i;)i*=tn[o++];for(i=n.modInt(i);o>t;)if(i%tn[t++]==0)return!1}return n.millerRabin(e)}function Kt(n){var i=this.subtract(e.ONE),o=i.getLowestSetBit();if(0>=o)return!1;var r=i.shiftRight(o);n=n+1>>1,n>tn.length&&(n=tn.length);for(var s=t(),a=0;n>a;++a){s.fromInt(tn[a]);var l=s.modPow(r,this);if(0!=l.compareTo(e.ONE)&&0!=l.compareTo(i)){for(var c=1;c++<o&&0!=l.compareTo(i);)if(l=l.modPowInt(2,this),0==l.compareTo(e.ONE))return!1;if(0!=l.compareTo(i))return!1}}return!0}var Yt;e.prototype.am=n,Yt=28,e.prototype.DB=Yt,e.prototype.DM=(1<<Yt)-1,e.prototype.DV=1<<Yt;var Qt=52;e.prototype.FV=Math.pow(2,Qt),e.prototype.F1=Qt-Yt,e.prototype.F2=2*Yt-Qt;var Jt,Xt,Zt="0123456789abcdefghijklmnopqrstuvwxyz",en=new Array;for(Jt="0".charCodeAt(0),Xt=0;9>=Xt;++Xt)en[Jt++]=Xt;for(Jt="a".charCodeAt(0),Xt=10;36>Xt;++Xt)en[Jt++]=Xt;for(Jt="A".charCodeAt(0),Xt=10;36>Xt;++Xt)en[Jt++]=Xt;F.prototype.convert=k,F.prototype.revert=x,F.prototype.reduce=S,F.prototype.mulTo=D,F.prototype.sqrTo=B,$.prototype.convert=L,$.prototype.revert=M,$.prototype.reduce=P,$.prototype.mulTo=I,$.prototype.sqrTo=R,e.prototype.copyTo=r,e.prototype.fromInt=s,e.prototype.fromString=l,e.prototype.clamp=c,e.prototype.dlShiftTo=m,e.prototype.drShiftTo=v,e.prototype.lShiftTo=y,e.prototype.rShiftTo=b,e.prototype.subTo=w,e.prototype.multiplyTo=_,e.prototype.squareTo=C,e.prototype.divRemTo=E,e.prototype.invDigit=T,e.prototype.isEven=O,e.prototype.exp=N,e.prototype.toString=u,e.prototype.negate=d,e.prototype.abs=h,e.prototype.compareTo=f,e.prototype.bitLength=g,e.prototype.mod=A,e.prototype.modPowInt=j,e.ZERO=a(0),e.ONE=a(1),Bt.prototype.convert=Tt,Bt.prototype.revert=Tt,Bt.prototype.mulTo=$t,Bt.prototype.sqrTo=Lt,It.prototype.convert=Ot,It.prototype.revert=Nt,It.prototype.reduce=jt,It.prototype.mulTo=Ut,It.prototype.sqrTo=Ht;var tn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],nn=(1<<26)/tn[tn.length-1];return e.prototype.chunkSize=V,e.prototype.toRadix=G,e.prototype.fromRadix=K,e.prototype.fromNumber=Y,e.prototype.bitwiseTo=et,e.prototype.changeBit=vt,e.prototype.addTo=_t,e.prototype.dMultiply=St,e.prototype.dAddOffset=Dt,e.prototype.multiplyLowerTo=Pt,e.prototype.multiplyUpperTo=Rt,e.prototype.modInt=Vt,e.prototype.millerRabin=Kt,e.prototype.clone=H,e.prototype.intValue=U,e.prototype.byteValue=z,e.prototype.shortValue=W,e.prototype.signum=q,e.prototype.toByteArray=Q,e.prototype.equals=J,e.prototype.min=X,e.prototype.max=Z,e.prototype.and=nt,e.prototype.or=ot,e.prototype.xor=st,e.prototype.andNot=lt,e.prototype.not=ct,e.prototype.shiftLeft=ut,e.prototype.shiftRight=dt,e.prototype.getLowestSetBit=ft,e.prototype.bitCount=gt,e.prototype.testBit=mt,e.prototype.setBit=yt,e.prototype.clearBit=bt,e.prototype.flipBit=wt,e.prototype.add=Ct,e.prototype.subtract=Et,e.prototype.multiply=At,e.prototype.divide=Ft,e.prototype.remainder=kt,e.prototype.divideAndRemainder=xt,e.prototype.modPow=zt,e.prototype.modInverse=qt,e.prototype.pow=Mt,e.prototype.gcd=Wt,e.prototype.isProbablePrime=Gt,e
}()}).call(this),function(){n=function(){function e(e){function t(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function i(e,t){return e>>>t}function o(e,t,n){return e&t^~e&n}function r(e,t,n){return e&t^e&n^t&n}function s(e){return n(e,2)^n(e,13)^n(e,22)}function a(e){return n(e,6)^n(e,11)^n(e,25)}function l(e){return n(e,7)^n(e,18)^i(e,3)}function c(e){return n(e,17)^n(e,19)^i(e,10)}function u(e,n){var i,u,d,h,f,p,g,m,v,y,b,w,_=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),C=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),E=new Array(64);e[n>>5]|=128<<24-n%32,e[(n+64>>9<<4)+15]=n;for(var v=0;v<e.length;v+=16){i=C[0],u=C[1],d=C[2],h=C[3],f=C[4],p=C[5],g=C[6],m=C[7];for(var y=0;64>y;y++)E[y]=16>y?e[y+v]:t(t(t(c(E[y-2]),E[y-7]),l(E[y-15])),E[y-16]),b=t(t(t(t(m,a(f)),o(f,p,g)),_[y]),E[y]),w=t(s(i),r(i,u,d)),m=g,g=p,p=f,f=t(h,b),h=d,d=u,u=i,i=t(b,w);C[0]=t(i,C[0]),C[1]=t(u,C[1]),C[2]=t(d,C[2]),C[3]=t(h,C[3]),C[4]=t(f,C[4]),C[5]=t(p,C[5]),C[6]=t(g,C[6]),C[7]=t(m,C[7])}return C}function d(e){for(var t=Array(),n=(1<<p)-1,i=0;i<e.length*p;i+=p)t[i>>5]|=(e.charCodeAt(i/p)&n)<<24-i%32;return t}function h(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}function f(e){for(var t=g?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>8*(3-i%4)+4&15)+t.charAt(e[i>>2]>>8*(3-i%4)&15);return n}var p=8,g=0;return e=h(e),f(u(d(e),e.length*p))}return e}()}.call(this),function(){e={},e.generateVerifier=function(e,n){var o=s(n),r=n&&n.identity||i.id(),a=n&&n.salt||i.id(),l=o.hash(a+o.hash(r+":"+e)),c=new t(l,16),u=o.g.modPow(c,o.N);return{identity:r,salt:a,verifier:u.toString(16)}},e.matchVerifier={identity:String,salt:String,verifier:String},e.Client=function(e,n){var i=this;i.params=s(n),i.password=e;var o,r,l=i.params.N,c=i.params.g;if(n&&n.a){if("string"==typeof n.a)o=new t(n.a,16);else{if(!(n.a instanceof t))throw new Error("Invalid parameter: a");o=n.a}if(r=c.modPow(o,l),0===r.mod(l))throw new Error("Invalid parameter: a: A mod N == 0.")}else for(;!r||0===r.mod(l);)o=a(),r=c.modPow(o,l);i.a=o,i.A=r,i.Astr=r.toString(16)},e.Client.prototype.startExchange=function(){var e=this;return{A:e.Astr}},e.Client.prototype.respondToChallenge=function(e){var n=this,i=n.params.N,o=n.params.g,r=n.params.k,s=n.params.hash;if(n.identity=e.identity,n.salt=e.salt,n.Bstr=e.B,n.B=new t(n.Bstr,16),0===n.B.mod(i))throw new Error("Server sent invalid key: B mod N == 0.");var a=new t(s(n.Astr+n.Bstr),16),l=new t(s(n.salt+s(n.identity+":"+n.password)),16),c=r.multiply(o.modPow(l,i)),u=n.a.add(a.multiply(l)),d=n.B.subtract(c).modPow(u,i),h=s(n.Astr+n.Bstr+d.toString(16)),f=s(n.Astr+h+d.toString(16));return n.S=d,n.HAMK=f,{M:h}},e.Client.prototype.verifyConfirmation=function(e){var t=this;return t.HAMK&&e.HAMK===t.HAMK},e.Server=function(e,n){var i=this;i.params=s(n),i.verifier=e;var o,r,l=i.params.N,c=i.params.g,u=i.params.k,d=new t(i.verifier.verifier,16);if(n&&n.b){if("string"==typeof n.b)o=new t(n.b,16);else{if(!(n.b instanceof t))throw new Error("Invalid parameter: b");o=n.b}if(r=u.multiply(d).add(c.modPow(o,l)).mod(l),0===r.mod(l))throw new Error("Invalid parameter: b: B mod N == 0.")}else for(;!r||0===r.mod(l);)o=a(),r=u.multiply(d).add(c.modPow(o,l)).mod(l);i.b=o,i.B=r,i.Bstr=r.toString(16)},e.Server.prototype.issueChallenge=function(e){var n=this;if(n.Astr=e.A,n.A=new t(n.Astr,16),0===n.A.mod(n.params.N))throw new Error("Client sent invalid key: A mod N == 0.");var i=n.params.N,o=n.params.hash,r=new t(o(n.Astr+n.Bstr),16),s=new t(n.verifier.verifier,16),a=n.A.multiply(s.modPow(r,i));return n.S=a.modPow(n.b,i),n.M=o(n.Astr+n.Bstr+n.S.toString(16)),n.HAMK=o(n.Astr+n.M+n.S.toString(16)),{identity:n.verifier.identity,salt:n.verifier.salt,B:n.Bstr}},e.Server.prototype.verifyResponse=function(e){var t=this;return e.M!==t.M?null:{HAMK:t.HAMK}};var r={hash:function(e){return n(e).toLowerCase()},N:new t("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new t("2")};r.k=new t(r.hash(r.N.toString(16)+r.g.toString(16)),16);var s=function(e){if(!e)return r;var n=o.extend({},r);return o.each(["N","g","k"],function(i){if(e[i])if("string"==typeof e[i])n[i]=new t(e[i],16);else{if(!(e[i]instanceof t))throw new Error("Invalid parameter: "+i);n[i]=e[i]}}),e.hash&&(n.hash=function(t){return e.hash(t).toLowerCase()}),!e.k&&(e.N||e.g||e.hash)&&(n.k=n.hash(n.N.toString(16)+n.g.toString(16))),n},a=function(){return new t(i.hexString(36),16)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:e}}(),function(){{var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=Package.srp.SRP,i=Package.underscore._;Package.livedata.DDP}(function(){e.loginWithPassword=function(e,i,o){var r=new n.Client(i),s=r.startExchange();"string"==typeof e&&(e=-1===e.indexOf("@")?{username:e}:{email:e}),s.user=e,t._setLoggingIn(!0),t.connection.apply("beginPasswordExchange",[s],function(e,n){if(e||!n)return t._setLoggingIn(!1),e=e||new Error("No result from call to beginPasswordExchange"),o&&o(e),void 0;var i=r.respondToChallenge(n);t.callLoginMethod({methodArguments:[{srp:i}],validateResult:function(e){if(!r.verifyConfirmation({HAMK:e.HAMK}))throw new Error("Server is cheating!")},userCallback:o})})},t.createUser=function(e,o){if(e=i.clone(e),!e.password)throw new Error("Must set options.password");var r=n.generateVerifier(e.password);delete e.password,e.srp=r,t.callLoginMethod({methodName:"createUser",methodArguments:[e],userCallback:o})},t.changePassword=function(i,o,r){if(!e.user())return r&&r(new Error("Must be logged in to change password.")),void 0;var s=n.generateVerifier(o);if(i){var a=new n.Client(i),l=a.startExchange();l.user={id:e.user()._id},t.connection.apply("beginPasswordExchange",[l],function(e,n){if(e||!n)return r&&r(e||new Error("No result from call to beginPasswordExchange")),void 0;var i=a.respondToChallenge(n);i.srp=s,t.connection.apply("changePassword",[i],function(e,t){e||!t?r&&r(e||new Error("No result from changePassword.")):a.verifyConfirmation(t)?r&&r():r&&r(new Error("Old password verification failed."))})})}else t.connection.apply("changePassword",[{srp:s}],function(e,t){e||!t?r&&r(e||new Error("No result from changePassword.")):r&&r()})},t.forgotPassword=function(e,n){if(!e.email)throw new Error("Must pass options.email");t.connection.call("forgotPassword",e,n)},t.resetPassword=function(e,i,o){if(!e)throw new Error("Need to pass token");if(!i)throw new Error("Need to pass newPassword");var r=n.generateVerifier(i);t.callLoginMethod({methodName:"resetPassword",methodArguments:[e,r],userCallback:o})},t.verifyEmail=function(e,n){if(!e)throw new Error("Need to pass token");t.callLoginMethod({methodName:"verifyEmail",methodArguments:[e],userCallback:n})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}(),function(){var e,t,n,i,o,r,s,a,l=Package.meteor.Meteor,c=Package.deps.Deps,u=Package["service-configuration"].ServiceConfiguration,d=Package["accounts-base"].Accounts,h=Package.underscore._,f=Package.templating.Template,p=Package.handlebars.Handlebars,g=Package.spark.Spark,m=Package.session.Session;(function(){d.ui={},d.ui._options={requestPermissions:{},requestOfflineToken:{}},d.ui.config=function(e){var t=["passwordSignupFields","requestPermissions","requestOfflineToken"];if(h.each(h.keys(e),function(e){if(!h.contains(t,e))throw new Error("Accounts.ui.config: Invalid key: "+e)}),e.passwordSignupFields){if(!h.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY","EMAIL_ONLY"],e.passwordSignupFields))throw new Error("Accounts.ui.config: Invalid option for `passwordSignupFields`: "+e.passwordSignupFields);if(d.ui._options.passwordSignupFields)throw new Error("Accounts.ui.config: Can't set `passwordSignupFields` more than once");d.ui._options.passwordSignupFields=e.passwordSignupFields}e.requestPermissions&&h.each(e.requestPermissions,function(e,t){if(d.ui._options.requestPermissions[t])throw new Error("Accounts.ui.config: Can't set `requestPermissions` more than once for "+t);if(!(e instanceof Array))throw new Error("Accounts.ui.config: Value for `requestPermissions` must be an array");d.ui._options.requestPermissions[t]=e}),e.requestOfflineToken&&h.each(e.requestOfflineToken,function(e,t){if("google"!==t)throw new Error("Accounts.ui.config: `requestOfflineToken` only supported for Google login at the moment.");if(d.ui._options.requestOfflineToken[t])throw new Error("Accounts.ui.config: Can't set `requestOfflineToken` more than once for "+t);d.ui._options.requestOfflineToken[t]=e})},e=function(){return d.ui._options.passwordSignupFields||"EMAIL_ONLY"}}).call(this),function(){f.__define__("_loginButtons",Package.handlebars.Handlebars.json_ast_to_func(['<div id="login-buttons" class="login-buttons-dropdown-align-',["{",[[0,"align"]]],'">\n    ',["#",[[0,"if"],[0,"currentUser"]],["\n      ",["#",[[0,"if"],[0,"loggingIn"]],["\n        ","\n        ",["#",[[0,"if"],[0,"dropdown"]],["\n          ",[">","_loginButtonsLoggingIn"],"\n        "],['\n          <div class="login-buttons-with-only-one-button">\n            ',[">","_loginButtonsLoggingInSingleLoginButton"],"\n          </div>\n        "]],"\n      "],["\n        ",[">","_loginButtonsLoggedIn"],"\n      "]],"\n    "],["\n      ",[">","_loginButtonsLoggedOut"],"\n    "]],"\n  </div>"])),f.__define__("_loginButtonsLoggedIn",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"dropdown"]],["\n    ",[">","_loginButtonsLoggedInDropdown"],"\n  "],['\n    <div class="login-buttons-with-only-one-button">\n      ',[">","_loginButtonsLoggedInSingleLogoutButton"],"\n    </div>\n  "]]])),f.__define__("_loginButtonsLoggedOut",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"services"]],[" ","\n    ",["#",[[0,"if"],[0,"configurationLoaded"]],["\n      ",["#",[[0,"if"],[0,"dropdown"]],[" ","\n        ",[">","_loginButtonsLoggedOutDropdown"],"\n      "],["\n        ",["#",[[0,"with"],[0,"singleService"]],[" ",'\n          <div class="login-buttons-with-only-one-button">\n            ',["#",[[0,"if"],[0,"loggingIn"]],["\n              ",[">","_loginButtonsLoggingInSingleLoginButton"],"\n            "],["\n              ",[">","_loginButtonsLoggedOutSingleLoginButton"],"\n            "]],"\n          </div>\n        "]],"\n      "]],"\n    "]],"\n  "],['\n    <div class="no-services">No login services configured</div>\n  ']]])),f.__define__("_loginButtonsMessages",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"errorMessage"]],['\n    <div class="message error-message">',["{",[[0,"errorMessage"]]],"</div>\n  "]],"\n  ",["#",[[0,"if"],[0,"infoMessage"]],['\n    <div class="message info-message">',["{",[[0,"infoMessage"]]],"</div>\n  "]]])),f.__define__("_loginButtonsLoggingIn",Package.handlebars.Handlebars.json_ast_to_func([[">","_loginButtonsLoggingInPadding"],'\n  <div class="loading">&nbsp;</div>\n  ',[">","_loginButtonsLoggingInPadding"]])),f.__define__("_loginButtonsLoggingInPadding",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"unless"],[0,"dropdown"]],["\n    ",'\n    <div class="login-buttons-padding">\n      <div class="login-button single-login-button" style="visibility: hidden;" id="login-buttons-logout">&nbsp;</div>\n    </div>\n  '],["\n    ",'\n    <div class="login-buttons-padding" />\n  ']]]))}.call(this),function(){f.__define__("_loginButtonsLoggedOutSingleLoginButton",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-text-and-button">\n    <div class="login-button single-login-button ',["#",[[0,"unless"],[0,"configured"]],["configure-button"]],'"\n         id="login-buttons-',["{",[[0,"name"]]],'">\n      <div class="login-image" id="login-buttons-image-',["{",[[0,"name"]]],'"></div>\n      ',["#",[[0,"if"],[0,"configured"]],['\n        <span class="text-besides-image sign-in-text-',["{",[[0,"name"]]],'">Sign in with ',["{",[[0,"capitalizedName"]]],"</span>\n      "],['\n        <span class="text-besides-image configure-text-',["{",[[0,"name"]]],'">Configure ',["{",[[0,"capitalizedName"]]]," Login</span>\n      "]],"\n    </div>\n  </div>"])),f.__define__("_loginButtonsLoggingInSingleLoginButton",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-text-and-button">\n    ',[">","_loginButtonsLoggingIn"],"\n  </div>"])),f.__define__("_loginButtonsLoggedInSingleLogoutButton",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-text-and-button">\n    <div class="login-display-name">\n      ',["{",[[0,"displayName"]]],'\n    </div>\n    <div class="login-button single-login-button" id="login-buttons-logout">Sign Out</div>\n  </div>']))}.call(this),function(){f.__define__("_loginButtonsLoggedInDropdown",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-link-and-dropdown-list">\n    <a class="login-link-text" id="login-name-link">\n      ',["{",[[0,"displayName"]]]," ▾\n    </a>\n\n    ",["#",[[0,"if"],[0,"dropdownVisible"]],['\n      <div id="login-dropdown-list" class="accounts-dialog">\n        <a class="login-close-text">Close</a>\n        <div class="login-close-text-clear"></div>\n\n        ',["#",[[0,"if"],[0,"inMessageOnlyFlow"]],["\n          ",[">","_loginButtonsMessages"],"\n        "],["\n          ",["#",[[0,"if"],[0,"inChangePasswordFlow"]],["\n            ",[">","_loginButtonsChangePassword"],"\n          "],["\n            ",[">","_loginButtonsLoggedInDropdownActions"],"\n          "]],"\n        "]],"\n      </div>\n    "]],"\n  </div>"])),f.__define__("_loginButtonsLoggedInDropdownActions",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"allowChangingPassword"]],['\n    <div class="login-button" id="login-buttons-open-change-password">\n      Change password\n    </div>\n  ']],'\n\n  <div class="login-button" id="login-buttons-logout">\n    Sign out\n  </div>\n\n  ',[">","_loginButtonsMessages"]])),f.__define__("_loginButtonsLoggedOutDropdown",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-link-and-dropdown-list ',["{",[[0,"additionalClasses"]]],'">\n    ',["#",[[0,"if"],[0,"dropdownVisible"]],["\n      ",'\n      <a class="login-link-text" id="login-sign-in-link">Sign in ▾</a>\n      <div id="login-dropdown-list" class="accounts-dialog">\n        <a class="login-close-text">Close</a>\n        ',["#",[[0,"if"],[0,"loggingIn"]],["\n          ",[">","_loginButtonsLoggingIn"],"\n        "]],'\n        <div class="login-close-text-clear"></div>\n        ',[">","_loginButtonsLoggedOutAllServices"],"\n      </div>\n    "],["\n      ",["#",[[0,"if"],[0,"loggingIn"]],["\n        ","\n        ",[">","_loginButtonsLoggingIn"],"\n      "],['\n        <a class="login-link-text" id="login-sign-in-link">Sign in ▾</a>\n      ']],"\n    "]],"\n  </div>"])),f.__define__("_loginButtonsLoggedOutAllServices",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"services"]],["\n    ",["#",[[0,"if"],[0,"isPasswordService"]],["\n      ",["#",[[0,"if"],[0,"hasOtherServices"]],[" ","\n        ",[">","_loginButtonsLoggedOutPasswordServiceSeparator"],"\n      "]],"\n      ",[">","_loginButtonsLoggedOutPasswordService"],"\n    "],["\n      ",[">","_loginButtonsLoggedOutSingleLoginButton"],"\n    "]],"\n  "]],"\n\n  ",["#",[[0,"unless"],[0,"hasPasswordService"]],["\n    ",[">","_loginButtonsMessages"],"\n  "]]])),f.__define__("_loginButtonsLoggedOutPasswordServiceSeparator",Package.handlebars.Handlebars.json_ast_to_func(['<div class="or">\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n    <span class="or-text">or</span>\n    <span class="hline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\n  </div>'])),f.__define__("_loginButtonsLoggedOutPasswordService",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"inForgotPasswordFlow"]],["\n    ",[">","_forgotPasswordForm"],"\n  "],['\n    <div class="login-form login-password-form">\n      ',["#",[[0,"each"],[0,"fields"]],["\n        ",[">","_loginButtonsFormField"],"\n      "]],"\n\n      ",[">","_loginButtonsMessages"],'\n\n      <div class="login-button login-button-form-submit" id="login-buttons-password">\n        ',["#",[[0,"if"],[0,"inSignupFlow"]],["\n          Create account\n        "],["\n          Sign in\n        "]],"\n      </div>\n\n      ",["#",[[0,"if"],[0,"inLoginFlow"]],["\n        ",["#",[[0,"if"],[0,"showCreateAccountLink"]],['\n          <div class="additional-link-container">\n            <a id="signup-link" class="additional-link">Create account</a>\n          </div>\n        ']],"\n\n        ",["#",[[0,"if"],[0,"showForgotPasswordLink"]],['\n          <div class="additional-link-container">\n            <a id="forgot-password-link" class="additional-link">Forgot password</a>\n          </div>\n        ']],"\n      "]],"\n\n      ",["#",[[0,"if"],[0,"inSignupFlow"]],["\n        ",[">","_loginButtonsBackToLoginLink"],"\n      "]],"\n    </div>\n  "]]])),f.__define__("_forgotPasswordForm",Package.handlebars.Handlebars.json_ast_to_func(['<div class="login-form">\n    <div id="forgot-password-email-label-and-input"> ','\n      <label id="forgot-password-email-label" for="forgot-password-email">Email</label>\n      <input id="forgot-password-email" type="email"/>\n    </div>\n\n    ',[">","_loginButtonsMessages"],'\n\n    <div class="login-button login-button-form-submit" id="login-buttons-forgot-password">\n      Reset password\n    </div>\n\n    ',[">","_loginButtonsBackToLoginLink"],"\n  </div>"])),f.__define__("_loginButtonsBackToLoginLink",Package.handlebars.Handlebars.json_ast_to_func(['<div class="additional-link-container">\n    <a id="back-to-login-link" class="additional-link">Sign in</a>\n  </div>'])),f.__define__("_loginButtonsFormField",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"visible"]],['\n    <div id="login-',["{",[[0,"fieldName"]]],'-label-and-input">\n      <label id="login-',["{",[[0,"fieldName"]]],'-label" for="login-',["{",[[0,"fieldName"]]],'">\n        ',["{",[[0,"fieldLabel"]]],'\n      </label>\n      <input id="login-',["{",[[0,"fieldName"]]],'" type="',["{",[[0,"inputType"]]],'" />\n    </div>\n  ']]])),f.__define__("_loginButtonsChangePassword",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"fields"]],["\n    ",[">","_loginButtonsFormField"],"\n  "]],"\n\n  ",[">","_loginButtonsMessages"],'\n\n  <div class="login-button login-button-form-submit" id="login-buttons-do-change-password">\n    Change password\n  </div>']))}.call(this),function(){l.startup(function(){document.body.appendChild(g.render(f.__define__(null,Package.handlebars.Handlebars.json_ast_to_func([[">","_resetPasswordDialog"],"\n  ",[">","_enrollAccountDialog"],"\n  ",[">","_justVerifiedEmailDialog"],"\n  ",[">","_configureLoginServiceDialog"],"\n\n  <!-- if we're not showing a dropdown, we need some other place to show messages -->\n  ",[">","_loginButtonsMessagesDialog"]]))))}),f.__define__("_resetPasswordDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"inResetPasswordFlow"]],['\n    <div class="hide-background"></div>\n\n    <div class="accounts-dialog accounts-centered-dialog">\n      <label id="reset-password-new-password-label" for="reset-password-new-password">\n        New password\n      </label>\n\n      <div class="reset-password-new-password-wrapper">\n        <input id="reset-password-new-password" type="password" />\n      </div>\n\n      ',[">","_loginButtonsMessages"],'\n\n      <div class="login-button login-button-form-submit" id="login-buttons-reset-password-button">\n        Set password\n      </div>\n\n      <a class="accounts-close" id="login-buttons-cancel-reset-password">&times;</a>\n    </div>\n  ']]])),f.__define__("_enrollAccountDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"inEnrollAccountFlow"]],['\n    <div class="hide-background"></div>\n\n    <div class="accounts-dialog accounts-centered-dialog">\n      <label id="enroll-account-password-label" for="enroll-account-password">\n        Choose a password\n      </label>\n\n      <div class="enroll-account-password-wrapper">\n        <input id="enroll-account-password" type="password" />\n      </div>\n\n      ',[">","_loginButtonsMessages"],'\n\n      <div class="login-button login-button-form-submit" id="login-buttons-enroll-account-button">\n        Create account\n      </div>\n\n      <a class="accounts-close" id="login-buttons-cancel-enroll-account">&times;</a>\n    </div>\n  ']]])),f.__define__("_justVerifiedEmailDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"visible"]],['\n    <div class="accounts-dialog accounts-centered-dialog">\n      Email verified\n      <div class="login-button" id="just-verified-dismiss-button">Dismiss</div>\n    </div>\n  ']]])),f.__define__("_configureLoginServiceDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"visible"]],['\n    <div id="configure-login-service-dialog" class="accounts-dialog accounts-centered-dialog">\n      ',["!",[[0,"configurationSteps"]]],'\n\n      <p>\n        Now, copy over some details.\n      </p>\n      <p>\n        <table>\n          <colgroup>\n            <col span="1" class="configuration_labels">\n            <col span="1" class="configuration_inputs">\n          </colgroup>\n          ',["#",[[0,"each"],[0,"configurationFields"]],['\n            <tr>\n              <td>\n                <label for="configure-login-service-dialog-',["{",[[0,"property"]]],'">',["{",[[0,"label"]]],'</label>\n              </td>\n              <td>\n                <input id="configure-login-service-dialog-',["{",[[0,"property"]]],'" type="text" />\n              </td>\n            </tr>\n          ']],'\n        </table>\n      </p>\n      <div class="new-section">\n        <div class="login-button configure-login-service-dismiss-button">\n          I\'ll do this later\n        </div>\n        <a class="accounts-close configure-login-service-dismiss-button">&times;</a>\n\n        ',["#",[[0,"isolate"]],['\n          <div class="login-button login-button-configure ',["#",[[0,"if"],[0,"saveDisabled"]],["login-button-disabled"]],'"\n             id="configure-login-service-dialog-save-configuration">\n            Save Configuration\n          </div>\n        ']],"\n      </div>\n    </div>\n  "]]])),f.__define__("_loginButtonsMessagesDialog",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"visible"]],['\n    <div class="accounts-dialog accounts-centered-dialog" id="login-buttons-message-dialog">\n      ',[">","_loginButtonsMessages"],'\n      <div class="login-button" id="messages-dialog-dismiss-button">Dismiss</div>\n    </div>\n  ']]]))}.call(this),function(){var e=["dropdownVisible","inSignupFlow","inForgotPasswordFlow","inChangePasswordFlow","inMessageOnlyFlow","errorMessage","infoMessage","resetPasswordToken","enrollAccountToken","justVerifiedEmail","configureLoginServiceDialogVisible","configureLoginServiceDialogServiceName","configureLoginServiceDialogSaveDisabled"],t=function(t){if(!h.contains(e,t))throw new Error("Invalid key in loginButtonsSession: "+t)},n="Meteor.loginButtons.";d._loginButtonsSession={set:function(e,n){if(t(e),h.contains(["errorMessage","infoMessage"],e))throw new Error("Don't set errorMessage or infoMessage directly. Instead, use errorMessage() or infoMessage().");this._set(e,n)},_set:function(e,t){m.set(n+e,t)},get:function(e){return t(e),m.get(n+e)},closeDropdown:function(){this.set("inSignupFlow",!1),this.set("inForgotPasswordFlow",!1),this.set("inChangePasswordFlow",!1),this.set("inMessageOnlyFlow",!1),this.set("dropdownVisible",!1),this.resetMessages()},infoMessage:function(e){this._set("errorMessage",null),this._set("infoMessage",e),this.ensureMessageVisible()},errorMessage:function(e){this._set("errorMessage",e),this._set("infoMessage",null),this.ensureMessageVisible()},isMessageDialogVisible:function(){return this.get("resetPasswordToken")||this.get("enrollAccountToken")||this.get("justVerifiedEmail")},ensureMessageVisible:function(){this.isMessageDialogVisible()||this.set("dropdownVisible",!0)},resetMessages:function(){this._set("errorMessage",null),this._set("infoMessage",null)},configureService:function(e){this.set("configureLoginServiceDialogVisible",!0),this.set("configureLoginServiceDialogServiceName",e),this.set("configureLoginServiceDialogSaveDisabled",!0)}}}.call(this),function(){var c=d._loginButtonsSession;p.registerHelper("loginButtons",function(e){return"right"===e.hash.align?new p.SafeString(f._loginButtons({align:"right"})):new p.SafeString(f._loginButtons({align:"left"}))}),f._loginButtons.events({"click #login-buttons-logout":function(){l.logout(function(){c.closeDropdown()})}}),f._loginButtons.preserve({"input[id]":g._labelFromIdOrName}),t=function(){var e=l.user();return e?e.profile&&e.profile.name?e.profile.name:e.username?e.username:e.emails&&e.emails[0]&&e.emails[0].address?e.emails[0].address:"":""},n=function(){var e=Package["accounts-oauth"]?d.oauth.serviceNames():[];return e.sort(),i()&&e.push("password"),h.map(e,function(e){return{name:e}})},i=function(){return!!Package["accounts-password"]},o=function(){return i()||n().length>1},r=function(e){return e.length>=3?!0:(c.errorMessage("Username must be at least 3 characters long"),!1)},s=function(t){return"USERNAME_AND_OPTIONAL_EMAIL"===e()&&""===t?!0:-1!==t.indexOf("@")?!0:(c.errorMessage("Invalid email"),!1)},a=function(e){return e.length>=6?!0:(c.errorMessage("Password must be at least 6 characters long"),!1)},f._loginButtonsLoggedOut.dropdown=o,f._loginButtonsLoggedOut.services=n,f._loginButtonsLoggedOut.singleService=function(){var e=n();if(1!==e.length)throw new Error("Shouldn't be rendering this template with more than one configured service");return e[0]},f._loginButtonsLoggedOut.configurationLoaded=function(){return d.loginServicesConfigured()},f._loginButtonsLoggedIn.dropdown=o,f._loginButtonsLoggedInSingleLogoutButton.displayName=t,f._loginButtonsMessages.errorMessage=function(){return c.get("errorMessage")},f._loginButtonsMessages.infoMessage=function(){return c.get("infoMessage")},f._loginButtonsLoggingInPadding.dropdown=o}.call(this),function(){var e=d._loginButtonsSession;f._loginButtonsLoggedOutSingleLoginButton.events({"click .login-button":function(){var n=this.name;e.resetMessages();var i=function(t){t?t instanceof d.LoginCancelledError||(t instanceof u.ConfigError?e.configureService(n):e.errorMessage(t.reason||"Unknown error")):e.closeDropdown()},o=l["loginWith"+("meteor-developer"===n?"MeteorDeveloperAccount":t(n))],r={};d.ui._options.requestPermissions[n]&&(r.requestPermissions=d.ui._options.requestPermissions[n]),d.ui._options.requestOfflineToken[n]&&(r.requestOfflineToken=d.ui._options.requestOfflineToken[n]),o(r,i)}}),f._loginButtonsLoggedOutSingleLoginButton.configured=function(){return!!u.configurations.findOne({service:this.name})},f._loginButtonsLoggedOutSingleLoginButton.capitalizedName=function(){return"github"===this.name?"GitHub":"meteor-developer"===this.name?"Meteor":t(this.name)};var t=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),function(){var o=d._loginButtonsSession;f._loginButtons.events({"click #login-name-link, click #login-sign-in-link":function(){o.set("dropdownVisible",!0),c.flush(),_()},"click .login-close-text":function(){o.closeDropdown()}}),f._loginButtonsLoggedInDropdown.events({"click #login-buttons-open-change-password":function(){o.resetMessages(),o.set("inChangePasswordFlow",!0)}}),f._loginButtonsLoggedInDropdown.displayName=t,f._loginButtonsLoggedInDropdown.inChangePasswordFlow=function(){return o.get("inChangePasswordFlow")},f._loginButtonsLoggedInDropdown.inMessageOnlyFlow=function(){return o.get("inMessageOnlyFlow")},f._loginButtonsLoggedInDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},f._loginButtonsLoggedInDropdownActions.allowChangingPassword=function(){var e=l.user();return e.username||e.emails&&e.emails[0]&&e.emails[0].address},f._loginButtonsLoggedOutDropdown.events({"click #login-buttons-password":function(){g()},"keypress #forgot-password-email":function(e){13===e.keyCode&&y()},"click #login-buttons-forgot-password":function(){y()},"click #signup-link":function(){o.resetMessages();{var e=p("login-username"),t=p("login-email"),n=p("login-username-or-email");u("login-password")}o.set("inSignupFlow",!0),o.set("inForgotPasswordFlow",!1),c.flush(),null!==e?document.getElementById("login-username").value=e:null!==t?document.getElementById("login-email").value=t:null!==n&&(-1===n.indexOf("@")?document.getElementById("login-username").value=n:document.getElementById("login-email").value=n);var i=document.getElementById("login-dropdown-list");i.style.display="none",i.offsetHeight,i.style.display="block"},"click #forgot-password-link":function(){o.resetMessages();var e=p("login-email"),t=p("login-username-or-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!0),c.flush(),null!==e?document.getElementById("forgot-password-email").value=e:null!==t&&-1!==t.indexOf("@")&&(document.getElementById("forgot-password-email").value=t)},"click #back-to-login-link":function(){o.resetMessages();var e=p("login-username"),t=p("login-email")||p("forgot-password-email");o.set("inSignupFlow",!1),o.set("inForgotPasswordFlow",!1),c.flush(),document.getElementById("login-username")&&(document.getElementById("login-username").value=e),document.getElementById("login-email")&&(document.getElementById("login-email").value=t),document.getElementById("login-username-or-email")&&(document.getElementById("login-username-or-email").value=t||e)},"keypress #login-username, keypress #login-email, keypress #login-username-or-email, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&g()}}),f._loginButtonsLoggedOutDropdown.additionalClasses=function(){return i()?o.get("inSignupFlow")?"login-form-create-account":o.get("inForgotPasswordFlow")?"login-form-forgot-password":"login-form-sign-in":!1},f._loginButtonsLoggedOutDropdown.dropdownVisible=function(){return o.get("dropdownVisible")},f._loginButtonsLoggedOutDropdown.hasPasswordService=i,f._loginButtonsLoggedOutAllServices.services=n,f._loginButtonsLoggedOutAllServices.isPasswordService=function(){return"password"===this.name},f._loginButtonsLoggedOutAllServices.hasOtherServices=function(){return n().length>1},f._loginButtonsLoggedOutAllServices.hasPasswordService=i,f._loginButtonsLoggedOutPasswordService.fields=function(){var t=[{fieldName:"username-or-email",fieldLabel:"Username or Email",visible:function(){return h.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL"],e())}},{fieldName:"username",fieldLabel:"Username",visible:function(){return"USERNAME_ONLY"===e()}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return"EMAIL_ONLY"===e()
}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}}],n=[{fieldName:"username",fieldLabel:"Username",visible:function(){return h.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email",inputType:"email",visible:function(){return h.contains(["USERNAME_AND_EMAIL","EMAIL_ONLY"],e())}},{fieldName:"email",fieldLabel:"Email (optional)",inputType:"email",visible:function(){return"USERNAME_AND_OPTIONAL_EMAIL"===e()}},{fieldName:"password",fieldLabel:"Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"Password (again)",inputType:"password",visible:function(){return h.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}];return o.get("inSignupFlow")?n:t},f._loginButtonsLoggedOutPasswordService.inForgotPasswordFlow=function(){return o.get("inForgotPasswordFlow")},f._loginButtonsLoggedOutPasswordService.inLoginFlow=function(){return!o.get("inSignupFlow")&&!o.get("inForgotPasswordFlow")},f._loginButtonsLoggedOutPasswordService.inSignupFlow=function(){return o.get("inSignupFlow")},f._loginButtonsLoggedOutPasswordService.showCreateAccountLink=function(){return!d._options.forbidClientAccountCreation},f._loginButtonsLoggedOutPasswordService.showForgotPasswordLink=function(){return h.contains(["USERNAME_AND_EMAIL","USERNAME_AND_OPTIONAL_EMAIL","EMAIL_ONLY"],e())},f._loginButtonsFormField.inputType=function(){return this.inputType||"text"},f._loginButtonsChangePassword.events({"keypress #login-old-password, keypress #login-password, keypress #login-password-again":function(e){13===e.keyCode&&b()},"click #login-buttons-do-change-password":function(){b()}}),f._loginButtonsChangePassword.fields=function(){return[{fieldName:"old-password",fieldLabel:"Current Password",inputType:"password",visible:function(){return!0}},{fieldName:"password",fieldLabel:"New Password",inputType:"password",visible:function(){return!0}},{fieldName:"password-again",fieldLabel:"New Password (again)",inputType:"password",visible:function(){return h.contains(["USERNAME_AND_OPTIONAL_EMAIL","USERNAME_ONLY"],e())}}]};var u=function(e){var t=document.getElementById(e);return t?t.value:null},p=function(e){var t=document.getElementById(e);return t?t.value.replace(/^\s*|\s*$/g,""):null},g=function(){o.get("inSignupFlow")?v():m()},m=function(){o.resetMessages();var e,t=p("login-username"),n=p("login-email"),i=p("login-username-or-email"),a=u("login-password");if(null!==t){if(!r(t))return;e={username:t}}else if(null!==n){if(!s(n))return;e={email:n}}else{if(null===i)throw new Error("Unexpected -- no element to use as a login user selector");if(!r(i))return;e=i}l.loginWithPassword(e,a,function(e){e?o.errorMessage(e.reason||"Unknown error"):o.closeDropdown()})},v=function(){o.resetMessages();var e={},t=p("login-username");if(null!==t){if(!r(t))return;e.username=t}var n=p("login-email");if(null!==n){if(!s(n))return;e.email=n}var i=u("login-password");a(i)&&(e.password=i,w()&&d.createUser(e,function(e){e?o.errorMessage(e.reason||"Unknown error"):o.closeDropdown()}))},y=function(){o.resetMessages();var e=p("forgot-password-email");-1!==e.indexOf("@")?d.forgotPassword({email:e},function(e){e?o.errorMessage(e.reason||"Unknown error"):o.infoMessage("Email sent")}):o.errorMessage("Invalid email")},b=function(){o.resetMessages();var e=u("login-old-password"),t=u("login-password");a(t)&&w()&&d.changePassword(e,t,function(e){e?o.errorMessage(e.reason||"Unknown error"):(o.set("inChangePasswordFlow",!1),o.set("inMessageOnlyFlow",!0),o.infoMessage("Password changed"))})},w=function(){var e=u("login-password-again");if(null!==e){var t=u("login-password");if(t!==e)return o.errorMessage("Passwords don't match"),!1}return!0},_=function(){for(var e=document.getElementById("login-dropdown-list").parentNode;"BODY"!==e.nodeName;e=e.parentNode)0===e.style.zIndex&&(e.style.zIndex=1)}}.call(this),function(){var e=d._loginButtonsSession;d._resetPasswordToken&&e.set("resetPasswordToken",d._resetPasswordToken),d._enrollAccountToken&&e.set("enrollAccountToken",d._enrollAccountToken),l.startup(function(){d._verifyEmailToken&&d.verifyEmail(d._verifyEmailToken,function(t){d._enableAutoLogin(),t||e.set("justVerifiedEmail",!0)})}),f._resetPasswordDialog.events({"click #login-buttons-reset-password-button":function(){t()},"keypress #reset-password-new-password":function(e){13===e.keyCode&&t()},"click #login-buttons-cancel-reset-password":function(){e.set("resetPasswordToken",null),d._enableAutoLogin()}});var t=function(){e.resetMessages();var t=document.getElementById("reset-password-new-password").value;a(t)&&d.resetPassword(e.get("resetPasswordToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("resetPasswordToken",null),d._enableAutoLogin())})};f._resetPasswordDialog.inResetPasswordFlow=function(){return e.get("resetPasswordToken")},f._enrollAccountDialog.events({"click #login-buttons-enroll-account-button":function(){n()},"keypress #enroll-account-password":function(e){13===e.keyCode&&n()},"click #login-buttons-cancel-enroll-account":function(){e.set("enrollAccountToken",null),d._enableAutoLogin()}});var n=function(){e.resetMessages();var t=document.getElementById("enroll-account-password").value;a(t)&&d.resetPassword(e.get("enrollAccountToken"),t,function(t){t?e.errorMessage(t.reason||"Unknown error"):(e.set("enrollAccountToken",null),d._enableAutoLogin())})};f._enrollAccountDialog.inEnrollAccountFlow=function(){return e.get("enrollAccountToken")},f._justVerifiedEmailDialog.events({"click #just-verified-dismiss-button":function(){e.set("justVerifiedEmail",!1)}}),f._justVerifiedEmailDialog.visible=function(){return e.get("justVerifiedEmail")},f._loginButtonsMessagesDialog.events({"click #messages-dialog-dismiss-button":function(){e.resetMessages()}}),f._loginButtonsMessagesDialog.visible=function(){var t=e.get("infoMessage")||e.get("errorMessage");return!o()&&t},f._configureLoginServiceDialog.events({"click .configure-login-service-dismiss-button":function(){e.set("configureLoginServiceDialogVisible",!1)},"click #configure-login-service-dialog-save-configuration":function(){if(e.get("configureLoginServiceDialogVisible")&&!e.get("configureLoginServiceDialogSaveDisabled")){var t=e.get("configureLoginServiceDialogServiceName"),n={service:t};h.each(s(),function(e){n[e.property]=document.getElementById("configure-login-service-dialog-"+e.property).value.replace(/^\s*|\s*$/g,"")}),d.connection.call("configureLoginService",n,function(n){n?l._debug("Error configuring login service "+t,n):e.set("configureLoginServiceDialogVisible",!1)})}},"input, keyup input":function(e){0===e.target.id.indexOf("configure-login-service-dialog")&&i()}});var i=function(){var t=h.any(s(),function(e){return""===document.getElementById("configure-login-service-dialog-"+e.property).value});e.set("configureLoginServiceDialogSaveDisabled",t)},r=function(){var t=e.get("configureLoginServiceDialogServiceName");return f["configureLoginServiceDialogFor"+("meteor-developer"===t?"MeteorDeveloper":c(t))]},s=function(){var e=r();return e.fields()};f._configureLoginServiceDialog.configurationFields=function(){return s()},f._configureLoginServiceDialog.visible=function(){return e.get("configureLoginServiceDialogVisible")},f._configureLoginServiceDialog.configurationSteps=function(){return r()()},f._configureLoginServiceDialog.saveDisabled=function(){return e.get("configureLoginServiceDialogSaveDisabled")};var c=function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-ui-unstyled"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.less={}}(),function(){Package.meteor.Meteor,Package["accounts-base"].Accounts;"undefined"==typeof Package&&(Package={}),Package["accounts-ui"]={}}(),function(){{var e;Package.meteor.Meteor}(function(){e={},e.showPopup=function(e,n,i){var o=t(e,i&&i.width||650,i&&i.height||331),r=setInterval(function(){try{var e=o.closed||void 0===o.closed}catch(t){return}e&&(clearInterval(r),n())},100)};var t=function(e,t,n){var i="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,o="undefined"!=typeof window.screenY?window.screenY:window.screenTop,r="undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth,s="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,a=i+(r-t)/2,l=o+(s-n)/2,c="width="+t+",height="+n+",left="+a+",top="+l+",scrollbars=yes",u=window.open(e,"Login",c);return u.focus&&u.focus(),u};e.initiateLogin=function(t,n,i,o){e.showPopup(n,_.bind(i,null,t),o)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.oauth={Oauth:e}}(),function(){Package.meteor.Meteor,Package["service-configuration"].ServiceConfiguration,Package.oauth.Oauth;"undefined"==typeof Package&&(Package={}),Package.oauth2={}}(),function(){var e,t,n,i,o,r,s=Package.meteor.Meteor,a=Package.underscore._;(function(){t=function(e,t){var n=160,i=function(e,t){return e.length>t?e.slice(0,t)+"...":e},o="failed ["+e+"]";return t&&(o+=" "+i(t.replace(/\n/g," "),n)),new Error(o)},n=function(e){var t=[];return a.each(e,function(e,n){t.length&&t.push("&"),t.push(i(n),"=",i(e))}),t.join("").replace(/%20/g,"+")},i=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},o=function(e,t,i,o){var r=e,s=t?t.slice(1):null;if("string"==typeof i&&(s=String(i)),o){s=s||"";var a=n(o);s&&a&&(s+="&"),s+=a}var l=r;return null!==s&&(l+="?"+s),l},r=function(e){var t=(e.headers["content-type"]||";").split(";")[0];if(a.include(["application/json","text/javascript"],t))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null},e={},e.get=function(){return e.call.apply(this,["GET"].concat(a.toArray(arguments)))},e.post=function(){return e.call.apply(this,["POST"].concat(a.toArray(arguments)))},e.put=function(){return e.call.apply(this,["PUT"].concat(a.toArray(arguments)))},e.del=function(){return e.call.apply(this,["DELETE"].concat(a.toArray(arguments)))}}).call(this),function(){e.call=function(e,i,l,c){if(c||"function"!=typeof l||(c=l,l=null),l=l||{},"function"!=typeof c)throw new Error("Can't make a blocking HTTP call from the client; callback required.");e=(e||"").toUpperCase();var u={},d=l.content;l.data&&(d=JSON.stringify(l.data),u["Content-Type"]="application/json");var h,f;d||"GET"===e||"HEAD"===e?h=l.params:f=l.params;var p=/^(.*?)(\?.*)?$/.exec(i);if(i=o(p[1],p[2],l.query,h),l.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var g,m;if(l.auth){var v=l.auth.indexOf(":");if(0>v)throw new Error('auth option should be of the form "username:password"');g=l.auth.substring(0,v),m=l.auth.substring(v+1)}f&&(d=n(f)),a.extend(u,l.headers||{}),c=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(c),c=a.once(c);try{var y;if("undefined"!=typeof XMLHttpRequest)y=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");y=new ActiveXObject("Microsoft.XMLHttp")}y.open(e,i,!0,g,m);for(var b in u)y.setRequestHeader(b,u[b]);var w,_=!1;l.timeout&&(w=s.setTimeout(function(){_=!0,y.abort()},l.timeout)),y.onreadystatechange=function(){if(4===y.readyState)if(w&&s.clearTimeout(w),_)c(new Error("timeout"));else if(y.status){var e={};e.statusCode=y.status,e.content=y.responseText,e.headers={};var n=y.getAllResponseHeaders();""===n&&y.getResponseHeader("content-type")&&(n="content-type: "+y.getResponseHeader("content-type"));var i=n.split(/\r?\n/);a.each(i,function(t){var n=/^(.*?):(?:\s+)(.*)$/.exec(t);n&&3===n.length&&(e.headers[n[1].toLowerCase()]=n[2])}),r(e);var o=null;e.statusCode>=400&&(o=t(e.statusCode,e.content)),c(o,e)}else c(new Error("network"))},y.send(d)}catch(C){c(C)}}}.call(this),function(){s.http=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:e}}(),function(){{var e,t=Package.meteor.Meteor,n=Package["accounts-base"].Accounts,i=Package.oauth.Oauth,o=Package.templating.Template,r=(Package.random.Random,Package["service-configuration"].ServiceConfiguration);Package.spark.Spark}(function(){o.__define__("configureLoginServiceDialogForInstagram",Package.handlebars.Handlebars.json_ast_to_func(['<p>\n        Follow these steps to configure your Instagram client:\n    </p>\n    <ol>\n        <li>\n            Visit <a href="http://instagram.com/developer/clients/register/" target="_blank">http://instagram.com/developer/clients/register/</a>\n        </li>\n        <li>\n            Set Callback URL to: <span class="url">',["{",[[0,"siteUrl"]]],"_oauth/instagram?close</span>\n        </li>\n    </ol>"]))}).call(this),function(){o.configureLoginServiceDialogForInstagram.siteUrl=function(){return t.absoluteUrl({replaceLocalhost:!0})},o.configureLoginServiceDialogForInstagram.fields=function(){return[{property:"clientId",label:"Client Id"},{property:"secret",label:"Client Secret"},{property:"scope",label:"Scope (separated by a '+')"}]}}.call(this),function(){n.oauth.registerService("instagram"),t.isClient?t.loginWithInstagram=function(t,i){i||"function"!=typeof t||(i=t,t=null);var o=n.oauth.credentialRequestCompleteHandler(i);e.requestCredential(t,o)}:n.addAutopublishFields({forLoggedInUser:["services.instagram"],forOtherUsers:["services.instagram.id","services.instagram.firstName","services.instagram.lastName"]})}.call(this),function(){e={},e.requestCredential=function(e,o){o||"function"!=typeof e||(o=e,e={});var s=r.configurations.findOne({service:"instagram"});s||(n.loginServiceConfiguration.insert({service:"instagram",clientId:"6bda8578dd0f4cc2bdfcaa225c72889e",secret:"bb5e315798e64bcb926d12c1519e0d62",scope:"basic+comments+relationships+likes"}),s=n.loginServiceConfiguration.findOne({service:"instagram"}));var a=t.uuid(),l=t.absoluteUrl("_oauth/instagram?close=close",{replaceLocalhost:!0});l="http://youtap.meteor.com/_oauth/instagram?close=close";var c=null;c=DebugFace?"https://instagram.com/oauth/authorize?client_id=f28d28f5785443349d0a60d0e8b9f98a&redirect_uri=http://localhost:3000/_oauth/instagram?close=close&response_type=code&scope="+s.scope+"&state="+a:"https://instagram.com/oauth/authorize?client_id="+s.clientId+"&redirect_uri="+l+"&response_type=code&scope="+s.scope+"&state="+a,i.initiateLogin(a,c,o)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-instagram"]={}}(),function(){var e,t,n,i,o,r,s,a,l,c,u,d,h=Package.meteor.Meteor,f=Package["reactive-dict"].ReactiveDict,p=Package.deps.Deps,g=Package.underscore._,m=Package.ejson.EJSON,v=Package.templating.Template,y=Package.handlebars.Handlebars,b=Package.spark.Spark;(function(){o={},o.global=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:null},o.resolveValue=function(e){var t,n,i=o.global();if(g.isString(e)){t=e.split("."),n=i;for(var r=0;r<t.length;r++)if(n=n[t[r]],!n)return void 0}else n=e;return n},o.hasOwnProperty=function(e,t){var n={}.hasOwnProperty;return n.call(e,t)},o.inherits=function(e,t){function n(){this.constructor=e}if("[object Function]"!==o.typeOf(e))throw new Error("First parameter to Utils.inherits must be a function");if("[object Function]"!==o.typeOf(t))throw new Error("Second parameter to Utils.inherits must be a function");for(var i in t)o.hasOwnProperty(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o.toArray=function(e){return e?"[object Array]"!==o.typeOf(e)?[e]:e:[]},o.typeOf=function(e){return e&&e.typeName?e.typeName:Object.prototype.toString.call(e)},o.extend=function(e,t,n){return 1===arguments.length?t=e:(t=t||{},t.extend=e),o.create(t,{onBeforeExtendPrototype:n})},o.create=function(e,t){var n,i;t=t||{},e=e||{},n=o.hasOwnProperty(e,"constructor")?e.constructor:function(){return n.__super__&&n.__super__.constructor?n.__super__.constructor.apply(this,arguments):void 0},i=e.extend,e.extend&&delete e.extend;var r=function(e,t,n){o.inherits(e,o.resolveValue(t)),n&&g.extend(e.prototype,n)};return i&&r(n,i),t.onBeforeExtendPrototype&&t.onBeforeExtendPrototype.call(n,e),g.extend(n.prototype,e),n},o.assert=function(e,t){if(!e)throw new Error(t)},o.warn=function(e,t){e||console&&console.warn&&console.warn(t)},o.capitalize=function(e){return e[0].toUpperCase()+e.slice(1,e.length)},o.classify=function(e){var t=/_|-|\./;return g.map(e.split(t),function(e){return o.capitalize(e)}).join("")},o.pick=function(){for(var e,t=g.toArray(arguments),n=0;n<t.length;n++)if(e=t[n],"undefined"!=typeof e&&null!==e)return e;return null}}).call(this),function(){t=function(e,t,n){var i;o.assert(e instanceof s),o.assert(g.isString(t),"Route constructor requires a name as the second parameter"),g.isFunction(n)&&(n={handler:n}),n=this.options=n||{},i=n.path||"/"+t,this.router=e,this.originalPath=i,g.isString(this.originalPath)&&"/"!==this.originalPath.charAt(0)&&(this.originalPath="/"+this.originalPath),this.name=t,this.where=n.where||"client",this.controller=n.controller,this.isReactive="undefined"!=typeof n.reactive?n.reactive:!0,this.compile()},t.prototype={constructor:t,compile:function(){var e,t=this,n=t.options;return this.keys=[],t.originalPath instanceof RegExp?t.re=t.originalPath:(e=t.originalPath.replace(/(.)\/$/,"$1").concat(n.strict?"":"/?").replace(/\/\(/g,"(?:/").replace(/#/,"/?#").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,i,o,r,s){return t.keys.push({name:o,optional:!!s}),n=n||"",""+(s?"":n)+"(?:"+(s?n:"")+(i||"")+(r||i&&"([^/.]+?)"||"([^/]+?)")+")"+(s||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),t.re=new RegExp("^"+e+"$",n.sensitive?"":"i")),this},params:function(e){if(!e)return null;var t,n,i,o=[],r=this.exec(e),s=this.keys;if(!r)throw new Error('The route named "'+this.name+'" does not match the path "'+e+'"');for(var a=1,l=r.length;l>a;++a)n=s[a-1],i="string"==typeof r[a]?decodeURIComponent(r[a]):r[a],n?o[n.name]=void 0!==o[n.name]?o[n.name]:i:o.push(i);return e=decodeURI(e),t=e.split("?")[1],t&&(t=t.split("#")[0]),o.hash=e.split("#")[1],t&&g.each(t.split("&"),function(e){c=e.split("="),o[c[0]]=decodeURIComponent(c[1])}),o},normalizePath:function(e){var t=h.absoluteUrl();e=e.replace(t,"");var n=e.indexOf("?");e=~n?e.slice(0,n):e;var i=e.indexOf("#");return e=~i?e.slice(0,i):e,"/"!==e.charAt(0)&&(e="/"+e),e},test:function(e){return this.re.test(this.normalizePath(e))},exec:function(e){return this.re.exec(this.normalizePath(e))},resolve:function(e,t){var n,i,o,r,s=0,a=this.originalPath,l=!1;if(t=t||{},e=e||[],r=t.query,o=t.hash,a instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");return a=this.originalPath.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,o,r,s,a,c){if(o=o||"",n=e[s],i="undefined"!=typeof n,c&&!i)o="",n="";else if(!i)return l=!0,console.warn('You called Route.prototype.resolve with a missing parameter. "'+s+'" not found in params'),void 0;n=g.isFunction(n)?n.call(e):n;var u=g.map(String(n).split("/"),function(e){return encodeURIComponent(e)}).join("/");return o+u}).replace(/\*/g,function(){if("undefined"==typeof e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return g.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),g.isObject(r)&&(r=g.map(g.pairs(r),function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&"),r&&r.length&&(a=a+"/?"+r)),o&&(o=encodeURI(o.replace("#","")),a=r?a+"#"+o:a+"/#"+o),l?"/":a},path:function(e,t){return this.resolve(e,t)},url:function(e,t){var n=this.path(e,t);return"/"===n[0]&&(n=n.slice(1,n.length)),h.absoluteUrl()+n},getController:function(t,n){var i,r,s,a=o.resolveValue,l=o.classify,c=o.toArray,u=function(e){var t=a(e);if("undefined"==typeof t)throw new Error('controller "'+e+'" is not defined');return t};return n=g.extend({},this.router.options,this.options,n||{},{before:c(this.options.before),after:c(this.options.after),unload:c(this.options.unload),waitOn:c(this.router.options.waitOn).concat(c(this.options.waitOn)),path:t,route:this,router:this.router,params:this.params(t)}),this.controller?(i=g.isString(this.controller)?u(this.controller):this.controller,r=new i(n)):(s=this.name,s&&(i=a(l(s+"Controller")))?r=new i(n):new e(n))}}}.call(this),function(){r=function(e){e=this.options=e||{};this.router=e.router,this.route=e.route,this.path=e.path,this.params=e.params||[],this.where=e.where||"client",this.action=e.action||this.action,this.hooks={},e.load=o.toArray(e.load),e.before=o.toArray(e.before),e.after=o.toArray(e.after),e.unload=o.toArray(e.unload)},r.prototype={constructor:r,runHooks:function(e,t){for(var n,t=(this.constructor,o.toArray(t)),i=function(t){var n=[];return t.__super__&&(n=n.concat(i(t.__super__.constructor))),t.prototype[e]?n.concat(t.prototype[e]):n},r=i(this.constructor),s=this.options[e],a=this.route?this.router.getHooks(e,this.route.name):[],l=a.concat(s).concat(r).concat(t),c=0;(n=l[c])&&!this.stopped;c++)n.call(this)},run:function(){throw new Error("not implemented")},action:function(){throw new Error("not implemented")},stop:function(){this.stopped=!0}},g.extend(r,{extend:function(e){return o.extend(this,e,function(){})}})}.call(this),function(){s=function(e){var t=this;this.configure(e),this.routes=[],this._globalHooks={},g.each(s.HOOK_TYPES,function(e){t._globalHooks[e]=[]})},s.HOOK_TYPES=["load","before","after","unload"],s.prototype={constructor:s,configure:function(e){var t=this;return this.options=this.options||{},g.extend(this.options,e),g.each(s.HOOK_TYPES,function(e){t.options[e]&&(g.each(o.toArray(t.options[e]),function(n){t.addHook(e,n)}),delete t.options[e])}),this},addHook:function(e,t,n){return n=n||{},n.only&&(n.only=o.toArray(n.only)),n.except&&(n.except=o.toArray(n.except)),this._globalHooks[e].push({options:n,hook:t}),this},load:function(e,t){return this.addHook("load",e,t)},before:function(e,t){return this.addHook("before",e,t)},after:function(e,t){return this.addHook("after",e,t)},unload:function(e,t){return this.addHook("unload",e,t)},getHooks:function(e,t){var n=[];return g.each(this._globalHooks[e],function(e){var i=e.options;i.except&&g.include(i.except,t)||(!i.only||g.include(i.only,t))&&n.push(e.hook)}),n},map:function(e){return o.assert(g.isFunction(e),"map requires a function as the first parameter"),e.call(this),this},route:function(e,n){var i;return o.assert(g.isString(e),"name is a required parameter"),i=n instanceof t?n:new t(this,e,n),this.routes[e]=i,this.routes.push(i),i},path:function(e,t,n){var i=this.routes[e];return o.warn(i,"You called Router.path for a route named "+e+" but that that route doesn't seem to exist. Are you sure you created it?"),i&&i.path(t,n)},url:function(e,t,n){var i=this.routes[e];return o.warn(i,'You called Router.url for a route named "'+e+"\" but that route doesn't seem to exist. Are you sure you created it?"),i&&i.url(t,n)},dispatch:function(e,t,n){function i(){if(o=s[l++],!o)return r.onRouteNotFound(e,t);if(o.test(e)){if(o.where!==a)return r.onUnhandled(e,t);var c=o.getController(e,t);r.run(c,n)}else i()}var o,r=this,s=r.routes,a=h.isClient?"client":"server",l=0;i()},run:function(){throw new Error("run not implemented")},onUnhandled:function(){throw new Error("onUnhandled not implemented")},onRouteNotFound:function(e){throw new Error('Oh no! No route found for path: "'+e+'"')}}}.call(this),function(){function e(e){var t=e.currentTarget,n=g.isUndefined(e.which)?e.button:e.which,o=t.href,r=t.pathname+t.search+t.hash;1===n&&(e.metaKey||e.ctrlKey||e.shiftKey||e.isDefaultPrevented()||t.target||i.isSameOrigin(o)&&(e.preventDefault(),i.set(r)))}function t(){o&&n.changed()}var n=new p.Dependency,o=!1;i={},i.origin=function(){return location.protocol+"//"+location.host},i.isSameOrigin=function(e){var t=i.origin();return 0===e.indexOf(t)},i.get=function(){return n.depend(),location},i.path=function(){return n.depend(),location.pathname+location.search+location.hash},i.set=function(e,t){t=t||{};var o=t.state||{};/^http/.test(e)?u=e:("/"!==e.charAt(0)&&(e="/"+e),u=i.origin()+e),i.isSameOrigin(u)?"server"===t.where?window.location=u:t.replaceState?i.replaceState(o,t.title,e):i.pushState(o,t.title,e):window.location=u,t.skipReactive!==!0&&n.changed()},i.pushState=function(e,t,n){o=!0,history.pushState?history.pushState(e,t,n):window.location=n},i.replaceState=function(e,t,n){o=!0,history.replaceState?history.replaceState(e,t,n):window.location=n},i.start=function(){this.isStarted||($(window).on("popstate",t),$(document).on("click","a[href]",e),this.isStarted=!0,history.replaceState&&history.replaceState({initial:!0},null,location.pathname+location.search))},i.stop=function(){$(window).off("popstate",t),$(window).off("click","a[href]",e),this.isStarted=!1},i.start()}.call(this),function(){var e="__main__",t="__defaultLayout__",n=function(e,t){if(g.isFunction(e))return e;if(v[e])return v[e];if(t)return t;throw new Error('Oops, no template found named "'+e+'"')},i=function(e){if(g.isFunction(e))return!0;if(!v[e])throw new Error('Uh oh, no template found named "'+e+'"')},o=function(e){this._dep=new p.Dependency,this._value=e||null};o.prototype={set:function(e){m.equals(e,this._value)||(this._value=e,this._dep.changed())},get:function(){return this._dep.depend(),this._value},equals:function(e){return this._dep.depend(),m.equals(this._value,e)}},a=function(){this.yieldsToTemplates=new f,this.layout=new o,this.data=new o({}),this.layout.set(t),this._yields={}},a.prototype={constructor:a,setLayout:function(e){var n=this;e=e||t,i(e),p.nonreactive(function(){var t=n.layout.get();t!==e&&(n._yields={})}),this.layout.set(e)},setTemplate:function(t,n){var i=this;n=n||e,h.defer(function(){p.afterFlush(function(){var t,o=i._yields[n];if(!o)if(t=n==e?"Sorry, couldn't find the main yield. Did you define it in one of the rendered templates like this: {{yield}}?":"Sorry, couldn't find a yield named \""+n+'". Did you define it in one of the rendered templates like this: {{yield "'+n+'"}}?',console&&console.warn)console.warn(t);else{if(!console||!console.error)throw new Error(t);console.error(t)}})}),this.yieldsToTemplates.set(n,t)},clearYield:function(e){this.yieldsToTemplates.set(e,null)},setData:function(e){this.data.set(e)},getData:function(){return this.data.get()},helpers:function(){var e=this;return{yield:function(t){var n;return arguments.length<2&&(t=null),n=e._renderTemplate(t),new y.SafeString(n)}}},_renderTemplate:function(t){var i=this;return t=t||e,this._yields[t]=!0,b.isolate(function(){var e=n(i.yieldsToTemplates.get(t),function(){return""}),o=i.getData(),r=i.helpers(),s=g.extend({},o,r);return e(s)})},renderLayout:function(){var e=this,t=b.isolate(function(){var t=n(e.layout.get()),i=e.data.get(),o=e.helpers(),r=g.extend({},i,o);return t(r)});return t},clearUnusedYields:function(e){var t=this,n=g.keys(this.yieldsToTemplates.keys);e=g.filter(e,function(e){return!!e});var i=g.difference(n,e);g.each(i,function(e){t.clearYield(e)})}}}.call(this),function(){if(l=o.extend(s,{constructor:function(){var e=this;l.__super__.constructor.apply(this,arguments),this.isRendered=!1,this._page=new a,this._currentController=null,this._controllerDep=new p.Dependency,this._hasJustReloaded=!1,h.startup(function(){setTimeout(function(){e.options.autoRender!==!1&&e.autoRender(),e.options.autoStart!==!1&&e.start()})})},current:function(e){return e&&e.reactive===!1?this._currentController:(this._controllerDep.depend(),this._currentController)},setLayout:function(e){this._page.setLayout(e)},setTemplate:function(e,t){this._page.setTemplate(e,t)},clearUnusedYields:function(e){this._page.clearUnusedYields(e)},setData:function(e){this._page.setData(e)},getData:function(){return this._page.getData()},run:function(e,t){var n=this,i=h.isClient?"client":"server";if(o.assert(e,"run requires a controller"),e.where!=i)return n.onUnhandled(e.path,e.options),void 0;var r=function(){p.autorun(function(t){n._routeComputation=t,n._hasJustReloaded||e.runHooks("load"),n._hasJustReloaded=!1,p.autorun(function(){e.run()})})};this._currentController&&this._currentController.runHooks("unload"),this._currentController=e,this._routeComputation?(this._routeComputation.stop(),this._routeComputation.onInvalidate(r)):r(),e==this._currentController&&(t&&t(e),this._controllerDep.changed())},go:function(e,t,n){var r,s,a,l=/^\/|http/,c=function(){n=n||{},i.set(s,{replaceState:n.replaceState,state:n.state,skipReactive:!0})};l.test(e)?(s=e,n=t,this.dispatch(s,n,c)):(r=this.routes[e],o.assert(r,"No route found named "+e),s=r.path(t,n),a=r.getController(s,n),this.run(a,c))},render:function(){return this.isRendered=!0,this._page.renderLayout()},autoRender:function(){var e=this,t=b.render(function(){return e.render()});document.body.appendChild(t)},start:function(){var e=this;e.isStarted||(e.isStarted=!0,p.autorun(function(t){e._locationComputation=t,e.dispatch(i.path(),{state:history.state})}))},stop:function(){this.isStarted=!1,this._locationComputation&&this._locationComputation.stop()},onUnhandled:function(e){this.stop(),window.location=e},onRouteNotFound:function(e){if(history&&!history.state.initial)this.stop(),window.location=e;else{if(!this.options.notFoundTemplate)throw new Error('Oh no! No route found for path: "'+e+'"');this.setLayout(this.options.layoutTemplate),this.setTemplate(this.options.notFoundTemplate)}}}),n=new l,h._reload){h._reload.onMigrate("iron-router",function(){return[!0,!0]});var e=h._reload.migrationData("iron-router");n._hasJustReloaded=e}}.call(this),function(){v.__define__("__defaultLayout__",Package.handlebars.Handlebars.json_ast_to_func([["{",[[0,"yield"]]]]))}.call(this),function(){d=function(){this._dep=new p.Dependency,this.clear()},d.prototype={get:function(e){return this._list[e]},clear:function(){this._list=[]},append:function(e){var t=this;e=o.toArray(e),g.each(e,function(e){t.push(e)})},push:function(e){if(e){var t=this._list.push(e);return t}},ready:function(){return g.all(this._list,function(e){return e.ready()})}};var t=function(){var e=this,t=g.isFunction(e.data)?e.data.call(e):e.data;t!==!1&&e.setData(t)},n=function(){var e=this,t=e.getData();null!==t&&"undefined"!=typeof t||!e.notFoundTemplate||(e.render(e.notFoundTemplate),this.renderYields(),e.stop())},i=function(){this.ready()||this.loadingTemplate&&(this.render(this.loadingTemplate),this.renderYields(),this.stop())},s=function(){this.router&&this.router.clearUnusedYields(this._renderedYields)};e=o.extend(r,{constructor:function(){e.__super__.constructor.apply(this,arguments);var t=this,n=function(e){return o.pick(t.options[e],t[e])};this.loadingTemplate=n("loadingTemplate"),this.notFoundTemplate=n("notFoundTemplate"),this.data=n("data"),this.template=n("template")||this.route&&this.route.name,this.yieldTemplates=n("yieldTemplates"),this.layoutTemplate=n("layoutTemplate"),this.waitOn=[].concat(o.toArray(this.options.waitOn)).concat(o.toArray(this.waitOn)),this._waitList=new d},ready:function(){return this._waitList.ready()},redirect:function(){return this.stop(),this.router&&this.router.go.apply(this.router,arguments)},yieldTemplates:null,layoutTemplate:null,template:null,loadingTemplate:null,notFoundTemplate:null,data:{},getData:function(){return this.router&&this.router.getData()},setData:function(e){this.router&&this.router.setData(e)},waitOn:null,subscribe:function(){var e=this,t=function(){var t=!1;return{wait:function(){t||(e._waitList.push(this),t=!0)}}}(),n=h.subscribe.apply(this,arguments);return g.extend(n,t)},render:function(e,t){var n,e,i=this,o=function(e){i._renderedYields&&(e=e||"__main__",i._renderedYields.push(e))};0==arguments.length?(this.router&&this.router.setTemplate(this.template),o(),this.renderYields()):(t=t||{},n=t.to,this.router&&this.router.setTemplate(e,n),o(n))},renderYields:function(){var e=this;g.each(this.yieldTemplates,function(t,n){e.render(n,t)})},setLayout:function(e){this.router&&this.router.setLayout(e)},run:function(){var e=this,r=(g.toArray(arguments),g.isFunction(this.action)?this.action:this[this.action]);
o.assert(r,"You don't have an action named \""+this.action+'" defined on your RouteController'),this.stopped=!1,this._renderedYields=[],this._waitList.clear();var a=g.flatten(g.map(this.waitOn,function(t){return g.isFunction(t)?t.call(e):t}));return this._waitList.append(a),this.setLayout(this.layoutTemplate),this.runHooks("before",[i,t,n]),this.stopped?(this.isFirstRun=!1,void 0):(r.call(this),this.runHooks("after",[s]),this.isFirstRun=!1,void 0)},wait:function(e){e=g.isFunction(e)?e.call(this):e,this._waitList.append(e)},action:function(){this.render()}})}.call(this),function(){y&&(y.registerHelper("pathFor",function(e,t,i){2==arguments.length&&(i=t,t=this);var o=i.hash.hash,r=g.omit(i.hash,"hash");return n.path(e,t,{query:r,hash:o})}),y.registerHelper("urlFor",function(e,t,i){2==arguments.length&&(i=t,t=this);var o=i.hash.hash,r=g.omit(i.hash,"hash");return n.url(e,t,{query:r,hash:o})}),y.registerHelper("renderRouter",function(){return new y.SafeString(n.render())}),y.registerHelper("currentRouteController",function(){return n.current()}),y.registerHelper("link",function(e){var t=e.hash||{},i=t.route,o=t.params||this,r=t.query,s=t.hash,a=t["class"]||"",l=n.path(i,o,{query:r,hash:s}),c='<a href="'+l+'" class="'+a+'">';return c+=e.fn(this),c+="</a>",new y.SafeString(c)}))}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron-router"]={RouteController:e,Route:t,Router:n,IronLocation:i,Utils:o,IronRouteController:r,IronRouter:s,PageManager:a,ClientRouter:l}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.startup={}}(),function(){Package.meteor.Meteor;(function(){!function(){function e(t,n){if("function"==typeof t)return e("*",t);if("function"==typeof n)for(var o=new i(t),r=1;r<arguments.length;++r)e.callbacks.push(o.middleware(arguments[r]));else"string"==typeof t?e.show(t,n):e.start(t)}function t(t){p.pathname+p.search!=t.canonicalPath&&(e.stop(),t.unhandled=!0,window.location=t.canonicalPath)}function n(e,t){"/"==e[0]&&0!=e.indexOf(f)&&(e=f+e);var n=e.indexOf("?");this.canonicalPath=e,this.path=e.replace(f,"")||"/",this.title=document.title,this.state=t||{},this.state.path=e,this.querystring=~n?e.slice(n+1):"",this.pathname=~n?e.slice(0,n):e,this.params=[]}function i(e,t){t=t||{},this.path=e,this.method="GET",this.regexp=o(e,this.keys=[],t.sensitive,t.strict)}function o(e,t,n,i){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(i?"":"/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,i,o,r,s){return t.push({name:o,optional:!!s}),n=n||"",""+(s?"":n)+"(?:"+(s?n:"")+(i||"")+(r||i&&"([^/.]+?)"||"([^/]+?)")+")"+(s||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",n?"":"i"))}function r(t){if(t.state){var n=t.state.path;e.replace(n,t.state)}}function s(t){if(a(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var n=t.target||t.srcElement;n&&"A"!=n.nodeName;)n=n.parentNode;if(n&&"A"==n.nodeName){var i=n.href,o=n.pathname+n.search;if("/"!==o[0]&&(o="/"+o),!n.hash&&"#"!=n.getAttribute("href")&&l(i)){var r=o;o=o.replace(f,""),f&&r==o||(t.preventDefault?t.preventDefault():t.returnValue=!1,e.show(r))}}}}function a(e){return e=e||window.event,null==e.which?0==e.button:1==e.which}function l(e){var t=p.protocol+"//"+p.hostname;return p.port&&(t+=":"+p.port),0==e.indexOf(t)}function c(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function u(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}var d,h=!0,f="",p=history.location||window.location;e.callbacks=[],e.base=function(e){return 0==arguments.length?f:(f=e,void 0)},e.start=function(t){t=t||{},d||(d=!0,!1===t.dispatch&&(h=!1),!1!==t.popstate&&c(window,"popstate",r),!1!==t.click&&c(document,"click",s),h&&e.replace(p.pathname+p.search,null,!0,h))},e.stop=function(){d=!1,u(document,"click",s),u(window,"popstate",r)},e.show=function(t,i,o){var r=new n(t,i);return!1!==o&&e.dispatch(r),r.unhandled||r.pushState(),r},e.replace=function(t,i,o,r){var s=new n(t,i);return s.init=o,null==r&&(r=!0),r&&e.dispatch(s),s.save(),s},e.dispatch=function(n){function i(){var r=e.callbacks[o++];return r?(r(n,i),void 0):t(n)}var o=0;i()},e.Context=n,n.prototype.pushState=function(){history.pushState(this.state,this.title,this.canonicalPath)},n.prototype.save=function(){history.replaceState(this.state,this.title,this.canonicalPath)},e.Route=i,i.prototype.middleware=function(e){var t=this;return function(n,i){return t.match(n.path,n.params)?e(n,i):(i(),void 0)}},i.prototype.match=function(e,t){var n=this.keys,i=e.indexOf("?"),o=~i?e.slice(0,i):e,r=this.regexp.exec(o);if(!r)return!1;for(var s=1,a=r.length;a>s;++s){var l=n[s-1],c="string"==typeof r[s]?decodeURIComponent(r[s]):r[s];l?t[l.name]=void 0!==t[l.name]?t[l.name]:c:t.push(c)}return!0},"undefined"==typeof module?window.page=e:module.exports=e}()}).call(this),"undefined"==typeof Package&&(Package={}),Package["page-js-ie-support"]={}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.deps.Deps,i=Package.templating.Template,o=Package.handlebars.Handlebars,r=Package.underscore._;Package.spark.Spark}(function(){!function(){var i=function(){this._page=null,this._autorunHandle=null,this._filters={},this._activeFilters=[],this._pageDeps=new n.Dependency,this.namedRoutes={}};i.prototype._setPageFn=function(t,i){var o,r=this;r._autorunHandle&&r._autorunHandle.stop(),r._autorunHandle=n.autorun(function(){if(o=r.beforeRouting(i),void 0==o||o!==!1){var n=[];for(e in i.params)n.push(i.params[e]);var s=r._page;r._page=r._applyFilters(t.apply(i,n)),s!==r._page&&r._pageDeps.changed()}})},i.prototype.add=function(e,t){var n=this;r.isObject(e)&&!r.isRegExp(e)?r.each(e,function(e,t){n.add(t,e)}):((!r.isObject(t)||r.isFunction(t))&&(t={to:t}),!t.as&&r.isString(t.to)&&(t.as=t.to),t.as&&n._setUpNamedRoute(t.as,e),page(e,r.bind(n._setPageFn,n,function(){return t.and&&t.and.apply(this,arguments),r.isFunction(t.to)?t.to.apply(this,arguments):t.to})))},i.prototype._setUpNamedRoute=function(e,n){var i=this,s=e+"Path",a=e+"Url";if(!i.namedRoutes[e]){var l=new t.Router.Route(n);i.namedRoutes[e]=l,i[s]=r.bind(l.pathWithContext,l),i[a]=function(){var e=i[s].apply(i,arguments);return t.absoluteUrl(e.substring(1))},"undefined"!=typeof o&&(o.registerHelper(s,r.bind(i[s],i)),o.registerHelper(a,r.bind(i[a],i)))}},i.prototype.page=function(){return n.depend(this._pageDeps),this._page},i.prototype.to=function(e){if("/"!==e[0]){var t=this.namedRoutes[e];if(!t)throw"That named route does not exist!";var n=Array.prototype.slice.call(arguments,1);e=t.pathWithContext.apply(t,n)}page(e)},i.prototype.filters=function(e){r.extend(this._filters,e)},i.prototype.filter=function(e,t){var n=this;return r.isObject(e)?r.each(e,function(e,t){n.filter(t,e)}):(t=t||{},t.name=e,t.only&&!r.isArray(t.only)&&(t.only=[t.only]),t.except&&!r.isArray(t.except)&&(t.except=[t.except]),n._activeFilters.push(t),void 0)},i.prototype.resetFilters=function(){this._activeFilters=[]},i.prototype._applyFilters=function(e){var t=this;return r.reduce(t._activeFilters,function(e,n){return t._applyFilter(e,n)},e)},i.prototype._applyFilter=function(e,t){var n=!0;return t.only?n=r.include(t.only,e):t.except&&(n=!r.include(t.except,e)),n?this._filters[t.name](e):e},i.prototype.beforeRouting=function(){},t.Router=new i,t.startup(function(){page()})}()}).call(this),function(){"undefined"!=typeof o&&(o.registerHelper("renderPage",function(e){return r.isString(e)||(e=t.Router.page()),i[e]?new o.SafeString(i[e](this)):void 0}),o.registerHelper("currentPage",function(){return t.Router.page()}))}.call(this),function(){!function(){function e(e,t,n,i){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(i?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,i,o,r,s){return t.push({name:o,optional:!!s}),n=n||"",""+(s?"":n)+"(?:"+(s?n:"")+(i||"")+(r||i&&"([^/.]+?)"||"([^/]+?)")+")"+(s||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",n?"":"i"))}t.Router.Route=function(t,n,i){i=i||{},this.path=t,this.method=n,this.regexp=e(t,this.keys=[],i.sensitive,i.strict)},t.Router.Route.prototype.match=function(e,t,n){var i,o,r,s;if(this.method&&this.method.toUpperCase()!==t)return!1;if(i=this.keys,o=e.indexOf("?"),r=~o?e.slice(0,o):e,s=this.regexp.exec(r),!s)return!1;for(var a=1,l=s.length;l>a;++a){var c=i[a-1],u="string"==typeof s[a]?decodeURIComponent(s[a]):s[a];c?n[c.name]=void 0!==n[c.name]?n[c.name]:u:n.push(u)}return!0},t.Router.Route.prototype.pathWithContext=function(e){var t,n=this,i=n.path,o=arguments;t=n.regexp.exec(n.path).slice(1),e=e||{};var s=function(t,n){var s,a=new RegExp(t,"g"),l=t.replace(":","");s=r.isObject(e)?e[l]:o[n],i=i.replace(a,s||"")};return r.each(t,s),i}}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.router={}}(),function(){{var e,t,n=Package.meteor.Meteor;Package.ejson.EJSON}(function(){e=function(e){var t=this;if(t.debug=e&&"undefined"!=typeof e.debug?e.debug:!1,t.plugins={loaded:!0},"undefined"!=typeof e&&"undefined"!=typeof e.plugins)for(var n in e.plugins)e.plugins[n]===!0&&(t.plugins[n]=!1);return t.url="file://",t.handshakeActivated=!1,t.messageQueue=[],t.invokes={},t.invokeCounter=0,t.eventCallbacks={},t.oneTimeEvents={deviceready:!0},t._ready=!1,t._readyDeps=new Deps.Dependency,t.isReady=function(){return t._readyDeps.depend(),t._ready},t.setReady=function(e){e!==t._ready&&(t._ready=e,t._readyDeps.changed())},t.addEventListener=function(e,n){if("function"!=typeof n)throw new Error("ERROR: Cordova.addEventListener expects callback as function");return"undefined"==typeof t.eventCallbacks[e]&&(t.eventCallbacks[e]=[],t.send({eventId:e})),t.eventCallbacks[e].push(n)},t.addInvokingCallback=function(e,n){return"undefined"==typeof t.invokes[e]&&(t.invokes[e]=[]),t.invokes[e].push(n)-1},t.call=function(e,n,i){if(i||"function"!=typeof n||(i=n,n=[]),i=i?i:function(){},"function"!=typeof i)throw new Error("MeteorCordova expects callback as a function");var o=t.invokeCounter++,r=[];n=n&&n.length?n:[],t.addInvokingCallback(o,i);for(var s=0;s<n.length;s++){var a=n[s];if("function"==typeof a){var l=t.addInvokingCallback(o,a);r.push({funcId:l})}else r.push({value:a})}t.send({invokeId:o,command:e,args:r})},t.send=function(e){if("undefined"!=typeof window&&window.parent&&t.handshakeActivated){try{JSON.stringify(e)}catch(n){throw new Error("Cant send type of message, Error: "+n)}window.parent.postMessage(e,t.url)}else t.messageQueue.push(e)},t.connection=function(e){if("undefined"!=typeof e.handshake){if(t.handshakeActivated=!0,t.send({handshake:e.handshake}),"undefined"!=typeof t.messageQueue)for(var n=0;n<t.messageQueue.length;n++)t.send(t.messageQueue[n]);t.messageQueue=[]}if("undefined"!=typeof e.eventId){var i=t.eventCallbacks[e.eventId];if("undefined"!=typeof i){for(var n=0;n<i.length;n++)try{i[n].apply(window,[e.payload])}catch(o){}t.oneTimeEvents[e.eventId]&&delete t.eventCallbacks[e.eventId]}}if("undefined"!=typeof e.invokeId&&"undefined"!=typeof e.funcId&&"undefined"!=typeof e.args){var r=t.invokes[e.invokeId];if("undefined"==typeof r)return;var s=r[e.funcId];if("undefined"==typeof s)return;var a=0,l=!1,c={remove:function(){a=e.funcId},removeAll:function(){l=!0}};if("function"!=typeof s)throw new Error("ERROR: Execute client callback "+e.invokeId+" funcId: "+e.funcId+" not a function");var u=[];for(var d in e.args)u.push(e.args[d]);try{s.apply(c,u)}catch(o){throw new Error("ERROR: Execute client callback "+e.invokeId+" funcId: "+e.funcId+" Error: "+o)}(e.funcId===a||l)&&(1===Object.keys(r).length||l?delete t.invokes[e.invokeId]:delete t.invokes[e.invokeId][e.funcId])}if(e.error)throw new Error("Client got error back "+e.error)},t.messageEventHandler=function(e){e.origin===t.url&&t.connection(e&&e.data)},"undefined"!=typeof window.addEventListener&&window.addEventListener("message",t.messageEventHandler,!1),t.addEventListener("deviceready",function(){t.setReady(!0);for(var e in t.plugins)t.plugins.hasOwnProperty(e)&&(t.plugins[e]=!0)}),t}}).call(this),function(){"undefined"==typeof e&&alert("wrong load order?");var i=function(){try{window.AudioContext=window.AudioContext||window.webkitAudioContext,t=new AudioContext}catch(e){return function(){}}return function(e,i,o){var r=t.createOscillator();r.type=i%4||0,r.connect(t.destination),r.noteOn(0),n.setTimeout(function(){r.noteOff(0),"function"==typeof o&&o()},e)}}();e.prototype.alert=function(e,t,n,i){var o=this;if(console.log(typeof t),"function"!=typeof t)throw new Error('Function "alert" expects a callback function');o.plugins.notification||o.plugins.dialogs?o.call("navigator.notification.alert",[e,t,n,i]):(window.alert(e),t())},e.prototype.confirm=function(e,t,n,i){var o=this;if("function"!=typeof t)throw new Error('Function "confirm" expects a callback function');o.plugins.notification||o.plugins.dialogs?o.call("navigator.notification.confirm",[e,t,n,i]):t(window.confirm(e)?1:2)},e.prototype.prompt=function(e,t,n,i,o){var r=this;if("function"!=typeof t)throw new Error('Function "prompt" expects a callback function');if(r.plugins.notification||r.plugins.dialogs)r.call("navigator.notification.prompt",[e,t,n,i,o]);else{var s=window.prompt(e,o);t({input1:s,buttonIndex:null===s||""===s?2:1})}},e.prototype.beep=function(e){var t=this;if(e=e||1,t.plugins.notification||t.plugins.dialogs)t.call("navigator.notification.beep",[e]);else{var n=function(e){i(100,3,function(){e>1&&n(e-1)})};n(e)}},e.prototype.vibrate=function(e){var t=this;t.plugins.notification||t.plugins.vibration?t.call("navigator.notification.vibrate",[e]):i(e,0)},e.prototype.close=function(){var e=this;e.call("navigator.app.exitApp")}}.call(this),"undefined"==typeof Package&&(Package={}),Package.cordova={Cordova:e}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["phonegap-push"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.collectionapi={}}(),function(){var e=(Package.meteor.Meteor,Package.underscore._),t=Package.ejson.EJSON;(function(){t.minify=function(n){var i={"false":0,"true":1,"null":2},o=[!1,!0,null],r=[0],s=function(e){return"undefined"==typeof i[e]&&(i[e]=o.push(e)-1),i[e]},a=function(e){var t=String(e);return"undefined"!=typeof i[t]?i[t]:null},l=function(e){for(var t=null,n=1;n<r.length;n++){for(var i=r[n],o=Math.min(i.length,e.length),s=!0,a=0;o>a;a++)if(i[a]!==e[a]){s=!1;break}if(s&&(t=n,e.length>o&&(r[n]=e)),null!==t)break}return null===t&&(t=r.push(e)-1),t},c=function(t){var n=!e.isArray(t),i=[],o=[];if(e.each(t,function(e,t){var r=n?s(t):0;if(null!==e&&"object"==typeof e)n&&o.push(r),i.push(c(e));else{var l=a(e);null===l?(o.push(r),i.push(e)):(o.push(-r),i.push(l))}}),n){var r=l(o);i.unshift(r)}else i.unshift(0);return i};if("object"!=typeof n)return t.stringify(n);var u=c(t.toJSONValue(n));return o.shift(),o.shift(),o.shift(),JSON.stringify([o,r,u])},t.maxify=function(n){var i=JSON.parse(String(n));if(null===i||3!==i.length)return t.fromJSONValue(i);var o=i[0],r=i[1],s=i[2];o.unshift(!1,!0,null);var a=function(t){var n=t.shift(),i=n?r[n]:null,s=null===i?[]:{};if(null===i)for(var l=0;l<t.length;l++)e.isArray(t[l])?s.push(a(t[l])):s.push(t[l]);else for(var l=0;l<t.length;l++){var c=i[l],u=o[Math.abs(c)];if(e.isArray(t[l]))s[u]=a(t[l]);else{var d=t[l];0>c&&(d=o[d]),s[u]=d}}return s};return t.fromJSONValue(a(s))}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ejson-minimax"]={}}(),function(){{var e,t,n;Package.meteor.Meteor}(function(){var t=function(e){for(var t in e)this[t]=e[t];this.setLocale(this.locale)};t.localeCache={},t.prototype={defaultLocale:"en",directory:"/locales",extension:".min.json",getLocale:function(){return this.locale},setLocale:function(e){e||(e=$("html").attr("lang")),e||(e=this.defaultLocale),this.locale=e,e in t.localeCache||this.getLocaleFileFromServer()},getLocaleFileFromServer:function(){e=null,$.ajax({url:this.directory+"/"+this.locale+this.extension,async:!1,success:function(t){e=t}}),t.localeCache[this.locale]=e},__:function(){var e=t.localeCache[this.locale][arguments[0]];return arguments.length>1&&(e=vsprintf(e,Array.prototype.slice.call(arguments,1))),e},__n:function(e,n){var i=t.localeCache[this.locale][e];return n=parseInt(n,10),i=0===n?i.zero:n>1?i.other:i.one,i=vsprintf(i,[n]),arguments.length>2&&(i=vsprintf(i,Array.prototype.slice.call(arguments,2))),i}}}).call(this),function(){!function(e){var i=Array.prototype.slice,o={dict:null,load:function(t){null!==this.dict?e.extend(this.dict,t):this.dict=t},_:function(e){return t=this.dict,t&&t.hasOwnProperty(e)&&(e=t[e]),n=i.call(arguments),n[0]=e,this.printf.apply(this,n)},printf:function(t,n){return arguments.length<2?t:(n=e.isArray(n)?n:i.call(arguments,1),t.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(e,t,i){return i?t+n[parseInt(i)-1]:t+n.shift()}).replace(/%%s/g,"%s"))}};e.fn._t=function(){return e(this).html(o._.apply(o,arguments))},e.i18n=o}(jQuery)}.call(this),function(){var e=function(){function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var i=function(){return i.cache.hasOwnProperty(arguments[0])||(i.cache[arguments[0]]=i.parse(arguments[0])),i.format.call(null,i.cache[arguments[0]],arguments)};return i.format=function(i,o){var r,s,a,l,c,u,d,h=1,f=i.length,p="",g=[];for(s=0;f>s;s++)if(p=t(i[s]),"string"===p)g.push(i[s]);else if("array"===p){if(l=i[s],l[2])for(r=o[h],a=0;a<l[2].length;a++){if(!r.hasOwnProperty(l[2][a]))throw e('[sprintf] property "%s" does not exist',l[2][a]);r=r[l[2][a]]}else r=l[1]?o[l[1]]:o[h++];if(/[^s]/.test(l[8])&&"number"!=t(r))throw e("[sprintf] expecting number but found %s",t(r));switch(l[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=l[7]?r.toExponential(l[7]):r.toExponential();break;case"f":r=l[7]?parseFloat(r).toFixed(l[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&l[7]?r.substring(0,l[7]):r;break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}r=/[def]/.test(l[8])&&l[3]&&r>=0?"+"+r:r,u=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",d=l[6]-String(r).length,c=l[6]?n(u,d):"",g.push(l[5]?r+c:c+r)}return g.join("")},i.cache={},i.parse=function(e){for(var t=e,n=[],i=[],o=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){o|=1;var r=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(r.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))r.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";r.push(a[1])}n[2]=r}else o|=2;if(3===o)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}t=t.substring(n[0].length)}return i},i}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.language={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}(),function(){Package.meteor.Meteor,Package["accounts-base"].Accounts;"undefined"==typeof Package&&(Package={}),Package["user-status"]={}}(),function(){Package.meteor.Meteor;(function(){!function(e,t){"use strict";function n(){if(!i.READY){i.event.determineEventTypes();for(var e in i.gestures)i.gestures.hasOwnProperty(e)&&i.detection.register(i.gestures[e]);i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect),i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect),i.READY=!0}}var i=function(e,t){return new i.Instance(e,t||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in e,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.DIRECTION_DOWN="down",i.DIRECTION_LEFT="left",i.DIRECTION_UP="up",i.DIRECTION_RIGHT="right",i.POINTER_MOUSE="mouse",i.POINTER_TOUCH="touch",i.POINTER_PEN="pen",i.EVENT_START="start",i.EVENT_MOVE="move",i.EVENT_END="end",i.DOCUMENT=document,i.plugins={},i.READY=!1,i.Instance=function(e,t){var o=this;return n(),this.element=e,this.enabled=!0,this.options=i.utils.extend(i.utils.extend({},i.defaults),t||{}),this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),i.event.onTouch(e,i.EVENT_START,function(e){o.enabled&&i.detection.startDetect(o,e)}),this},i.Instance.prototype={on:function(e,t){for(var n=e.split(" "),i=0;n.length>i;i++)this.element.addEventListener(n[i],t,!1);return this},off:function(e,t){for(var n=e.split(" "),i=0;n.length>i;i++)this.element.removeEventListener(n[i],t,!1);return this},trigger:function(e,t){var n=i.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var o=this.element;return i.utils.hasParent(t.target,o)&&(o=t.target),o.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var o=null,r=!1,s=!1;i.event={bindDom:function(e,t,n){for(var i=t.split(" "),o=0;i.length>o;o++)e.addEventListener(i[o],n,!1)},onTouch:function(e,t,n){var a=this;this.bindDom(e,i.EVENT_TYPES[t],function(l){var c=l.type.toLowerCase();if(!c.match(/mouse/)||!s){(c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&1===l.which)&&(r=!0),c.match(/touch|pointer/)&&(s=!0);var u=0;r&&(i.HAS_POINTEREVENTS&&t!=i.EVENT_END?u=i.PointerEvent.updatePointer(t,l):c.match(/touch/)?u=l.touches.length:s||(u=c.match(/up/)?0:1),u>0&&t==i.EVENT_END?t=i.EVENT_MOVE:u||(t=i.EVENT_END),u||null===o?o=l:l=o,n.call(i.detection,a.collectEventData(e,t,l)),i.HAS_POINTEREVENTS&&t==i.EVENT_END&&(u=i.PointerEvent.updatePointer(t,l))),u||(o=null,r=!1,s=!1,i.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[i.EVENT_START]=e[0],i.EVENT_TYPES[i.EVENT_MOVE]=e[1],i.EVENT_TYPES[i.EVENT_END]=e[2]},getTouchList:function(e){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,n){var o=this.getTouchList(n,t),r=i.POINTER_TOUCH;return(n.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,n))&&(r=i.POINTER_MOUSE),{center:i.utils.getCenter(o),timeStamp:(new Date).getTime(),target:n.target,touches:o,eventType:t,pointerType:r,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}},i.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==i.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n={};return n[i.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==i.POINTER_MOUSE,n[i.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==i.POINTER_TOUCH,n[i.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==i.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},i.utils={extend:function(e,n,i){for(var o in n)e[o]!==t&&i||(e[o]=n[o]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],i=0,o=e.length;o>i;i++)t.push(e[i].pageX),n.push(e[i].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),o=Math.abs(e.pageY-t.pageY);return n>=o?e.pageX-t.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:e.pageY-t.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==i.DIRECTION_UP||e==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,i=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var o=0;i.length>o;o++)for(var r in t)t.hasOwnProperty(r)&&(n=r,i[o]&&(n=i[o]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[r]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:i.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,o=this.gestures.length;o>n;n++){var r=this.gestures[n];if(!this.stopped&&t[r.name]!==!1&&r.handler.call(r,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==i.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=i.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var n=0,o=e.touches.length;o>n;n++)t.touches.push(i.utils.extend({},e.touches[n]))}var r=e.timeStamp-t.timeStamp,s=e.center.pageX-t.center.pageX,a=e.center.pageY-t.center.pageY,l=i.utils.getVelocity(r,s,a);return i.utils.extend(e,{deltaTime:r,deltaX:s,deltaY:a,velocityX:l.x,velocityY:l.y,distance:i.utils.getDistance(t.center,e.center),angle:i.utils.getAngle(t.center,e.center),direction:i.utils.getDirection(t.center,e.center),scale:i.utils.getScale(t.touches,e.touches),rotation:i.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),i.utils.extend(i.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},i.gestures=i.gestures||{},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case i.EVENT_START:clearTimeout(this.timer),i.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==i.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case i.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==i.EVENT_END){var n=i.detection.previous,o=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),o=!0),(!o||t.options.tap_always)&&(i.detection.current.name="tap",t.trigger(i.detection.current.name,e))}}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==i.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(n.options.drag_max_touches>0&&e.touches.length>n.options.drag_max_touches))switch(e.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(e.distance<n.options.drag_min_distance&&i.detection.current.name!=this.name)return;i.detection.current.name=this.name,(i.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var o=i.detection.current.lastEvent.direction;e.drag_locked_to_axis&&o!==e.direction&&(e.direction=i.utils.isVertical(o)?0>e.deltaY?i.DIRECTION_UP:i.DIRECTION_DOWN:0>e.deltaX?i.DIRECTION_LEFT:i.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),n.trigger(this.name+e.direction,e),(n.options.drag_block_vertical&&i.utils.isVertical(e.direction)||n.options.drag_block_horizontal&&!i.utils.isVertical(e.direction))&&e.preventDefault();break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(n.options.transform_always_block&&e.preventDefault(),e.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var o=Math.abs(1-e.scale),r=Math.abs(e.rotation);if(n.options.transform_min_scale>o&&n.options.transform_min_rotation>r)return;i.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),r>n.options.transform_min_rotation&&n.trigger("rotate",e),o>n.options.transform_min_scale&&(n.trigger("pinch",e),n.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,n){return n.options.prevent_mouseevents&&e.pointerType==i.POINTER_MOUSE?(e.stopDetect(),t):(n.options.prevent_default&&e.preventDefault(),e.eventType==i.EVENT_START&&n.trigger(this.name,e),t)}},i.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==i.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=i:(e.Hammer=i,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return i}))}(this),function(e,t){"use strict";e!==t&&(Hammer.event.bindDom=function(n,i,o){e(n).on(i,function(e){var n=e.originalEvent||e;n.pageX===t&&(n.pageX=e.pageX,n.pageY=e.pageY),n.target||(n.target=e.target),n.which===t&&(n.which=n.button),n.preventDefault||(n.preventDefault=e.preventDefault),n.stopPropagation||(n.stopPropagation=e.stopPropagation),o.call(this,n)})},Hammer.Instance.prototype.on=function(t,n){return e(this.element).on(t,n)},Hammer.Instance.prototype.off=function(t,n){return e(this.element).off(t,n)},Hammer.Instance.prototype.trigger=function(t,n){var i=e(this.element);
return i.has(n.target).length&&(i=e(n.target)),i.trigger({type:t,gesture:n})},e.fn.hammer=function(t){return this.each(function(){var n=e(this),i=n.data("hammer");i?i&&t&&Hammer.utils.extend(i.options,t):n.data("hammer",new Hammer(this,t||{}))})})}(window.jQuery||window.Zepto)}).call(this),function(){jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,o){return jQuery.easing[jQuery.easing.def](e,t,n,i,o)},easeInQuad:function(e,t,n,i,o){return i*(t/=o)*t+n},easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n},easeInOutQuad:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,o){return i*(t/=o)*t*t+n},easeOutCubic:function(e,t,n,i,o){return i*((t=t/o-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,o){return i*(t/=o)*t*t*t+n},easeOutQuart:function(e,t,n,i,o){return-i*((t=t/o-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,o){return i*(t/=o)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,o){return i*((t=t/o-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,o){return-i*Math.cos(t/o*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,o){return i*Math.sin(t/o*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,o){return-i/2*(Math.cos(Math.PI*t/o)-1)+n},easeInExpo:function(e,t,n,i,o){return 0==t?n:i*Math.pow(2,10*(t/o-1))+n},easeOutExpo:function(e,t,n,i,o){return t==o?n+i:i*(-Math.pow(2,-10*t/o)+1)+n},easeInOutExpo:function(e,t,n,i,o){return 0==t?n:t==o?n+i:(t/=o/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,i,o){return-i*(Math.sqrt(1-(t/=o)*t)-1)+n},easeOutCirc:function(e,t,n,i,o){return i*Math.sqrt(1-(t=t/o-1)*t)+n},easeInOutCirc:function(e,t,n,i,o){return(t/=o/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,o){var r=1.70158,s=0,a=i;if(0==t)return n;if(1==(t/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-r)*Math.PI/s))+n},easeOutElastic:function(e,t,n,i,o){var r=1.70158,s=0,a=i;if(0==t)return n;if(1==(t/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*t)*Math.sin(2*(t*o-r)*Math.PI/s)+i+n},easeInOutElastic:function(e,t,n,i,o){var r=1.70158,s=0,a=i;if(0==t)return n;if(2==(t/=o/2))return n+i;if(s||(s=.3*o*1.5),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return 1>t?-.5*a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-r)*Math.PI/s)+n:a*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*o-r)*Math.PI/s)*.5+i+n},easeInBack:function(e,t,n,i,o,r){return void 0==r&&(r=1.70158),i*(t/=o)*t*((r+1)*t-r)+n},easeOutBack:function(e,t,n,i,o,r){return void 0==r&&(r=1.70158),i*((t=t/o-1)*t*((r+1)*t+r)+1)+n},easeInOutBack:function(e,t,n,i,o,r){return void 0==r&&(r=1.70158),(t/=o/2)<1?i/2*t*t*(((r*=1.525)+1)*t-r)+n:i/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+n},easeInBounce:function(e,t,n,i,o){return i-jQuery.easing.easeOutBounce(e,o-t,0,i,o)+n},easeOutBounce:function(e,t,n,i,o){return(t/=o)<1/2.75?7.5625*i*t*t+n:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,o){return o/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,i,o)+n:.5*jQuery.easing.easeOutBounce(e,2*t-o,0,i,o)+.5*i+n}})}.call(this),function(){!function(e,t){"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e)}(this,function(e){function t(e){this._targetElement=e,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0}}function n(e){var t=[],n=this;if(this._options.steps)for(var o=[],l=0,u=this._options.steps.length;u>l;l++){var d=i(this._options.steps[l]);d.step=t.length+1,"string"==typeof d.element&&(d.element=document.querySelector(d.element)),t.push(d)}else{var o=e.querySelectorAll("*[data-intro]");if(o.length<1)return!1;for(var l=0,h=o.length;h>l;l++){var f=o[l],g=parseInt(f.getAttribute("data-step"),10);g>0&&(t[g-1]={element:f,intro:f.getAttribute("data-intro"),step:parseInt(f.getAttribute("data-step"),10),tooltipClass:f.getAttribute("data-tooltipClass"),position:f.getAttribute("data-position")||this._options.tooltipPosition})}for(var m=0,l=0,h=o.length;h>l;l++){var f=o[l];if(null==f.getAttribute("data-step")){for(;;){if("undefined"==typeof t[m])break;m++}t[m]={element:f,intro:f.getAttribute("data-intro"),step:m+1,tooltipClass:f.getAttribute("data-tooltipClass"),position:f.getAttribute("data-position")||this._options.tooltipPosition}}}}for(var v=[],y=0;y<t.length;y++)t[y]&&v.push(t[y]);if(t=v,t.sort(function(e,t){return e.step-t.step}),n._introItems=t,p.call(n,e)){r.call(n);{e.querySelector(".introjs-skipbutton"),e.querySelector(".introjs-nextbutton")}n._onKeyDown=function(t){27===t.keyCode&&1==n._options.exitOnEsc?(a.call(n,e),void 0!=n._introExitCallback&&n._introExitCallback.call(n)):37===t.keyCode?s.call(n):(39===t.keyCode||13===t.keyCode)&&(r.call(n),t.preventDefault?t.preventDefault():t.returnValue=!1)},n._onResize=function(){c.call(n,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",n._onKeyDown,!0),window.addEventListener("resize",n._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",n._onKeyDown),document.attachEvent("onresize",n._onResize))}return!1}function i(e){if(null==e||"object"!=typeof e||e.hasOwnProperty("nodeName")===!0)return e;var t={};for(var n in e)t[n]=i(e[n]);return t}function o(e){this._currentStep=e-2,"undefined"!=typeof this._introItems&&r.call(this)}function r(){if("undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),a.call(this,this._targetElement),void 0;var e=this._introItems[this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,e.element),u.call(this,e)}function s(){if(0===this._currentStep)return!1;var e=this._introItems[--this._currentStep];"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,e.element),u.call(this,e)}function a(e){var t=e.querySelector(".introjs-overlay");if(null!=t){t.style.opacity=0,setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},500);var n=e.querySelector(".introjs-helperLayer");n&&n.parentNode.removeChild(n);var i=document.querySelector(".introjs-showElement");i&&(i.className=i.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var o=document.querySelectorAll(".introjs-fixParent");if(o&&o.length>0)for(var r=o.length-1;r>=0;r--)o[r].className=o[r].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function l(e,t,n){if(t.style.top=null,t.style.right=null,t.style.bottom=null,t.style.left=null,this._introItems[this._currentStep]){var i="",o=this._introItems[this._currentStep];i="string"==typeof o.tooltipClass?o.tooltipClass:this._options.tooltipClass,t.className=("introjs-tooltip "+i).replace(/^\s+|\s+$/g,"");var i=this._options.tooltipClass,r=this._introItems[this._currentStep].position;switch(r){case"top":t.style.left="15px",t.style.top="-"+(g(t).height+10)+"px",n.className="introjs-arrow bottom";break;case"right":t.style.left=g(e).width+20+"px",n.className="introjs-arrow left";break;case"left":1==this._options.showStepNumbers&&(t.style.top="15px"),t.style.right=g(e).width+20+"px",n.className="introjs-arrow right";break;case"bottom":default:t.style.bottom="-"+(g(t).height+10)+"px",n.className="introjs-arrow top"}}}function c(e){if(e){if(!this._introItems[this._currentStep])return;var t=g(this._introItems[this._currentStep].element);e.setAttribute("style","width: "+(t.width+10)+"px; height:"+(t.height+10)+"px; top:"+(t.top-5)+"px;left: "+(t.left-5)+"px;")}}function u(e){if(e.element=e.scriptElement?e.scriptElement():$(e.selector)[0],e.self=this,e.scriptCondition&&e.scriptCondition(this._currentStep),null!=e.element){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,e.element);{var t=this,n=document.querySelector(".introjs-helperLayer");g(e.element)}if(null!=n){var i=n.querySelector(".introjs-helperNumberLayer"),o=n.querySelector(".introjs-tooltiptext"),u=n.querySelector(".introjs-arrow"),p=n.querySelector(".introjs-tooltip"),m=n.querySelector(".introjs-skipbutton"),v=n.querySelector(".introjs-prevbutton"),y=n.querySelector(".introjs-nextbutton");p.style.opacity=0,c.call(t,n);var b=document.querySelectorAll(".introjs-fixParent");if(b&&b.length>0)for(var w=b.length-1;w>=0;w--)b[w].className=b[w].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var _=document.querySelector(".introjs-showElement");_.className=_.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),t._lastShowElementTimer&&clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=setTimeout(function(){null!=i&&(i.innerHTML=e.step),o.innerHTML=e.intro,l.call(t,e.element,p,u),n.querySelector(".introjs-bullets li > a.active").className="",n.querySelector('.introjs-bullets li > a[data-stepnumber="'+e.step+'"]').className="active",p.style.opacity=1},350)}else{var C=document.createElement("div"),E=document.createElement("div"),A=document.createElement("div"),F=document.createElement("div"),k=document.createElement("div"),x=document.createElement("div");C.className="introjs-helperLayer",c.call(t,C),this._targetElement.appendChild(C),E.className="introjs-arrow",F.className="introjs-tooltiptext",F.innerHTML=e.intro,k.className="introjs-bullets",this._options.showBullets===!1&&(k.style.display="none");for(var S=document.createElement("ul"),w=0,D=this._introItems.length;D>w;w++){var B=document.createElement("li"),T=document.createElement("a");T.onclick=function(){t.goToStep(this.getAttribute("data-stepnumber"))},0===w&&(T.className="active"),T.href="javascript:void(0);",T.innerHTML="&nbsp;",T.setAttribute("data-stepnumber",this._introItems[w].step),B.appendChild(T),S.appendChild(B)}if(k.appendChild(S),x.className="introjs-tooltipbuttons",this._options.showButtons===!1&&(x.style.display="none"),A.className="introjs-tooltip",A.appendChild(F),A.appendChild(k),1==this._options.showStepNumbers){var L=document.createElement("span");L.className="introjs-helperNumberLayer",L.innerHTML=e.step,C.appendChild(L)}A.appendChild(E),C.appendChild(A);var y=document.createElement("a");y.onclick=function(){t._introItems.length-1!=t._currentStep&&r.call(t)},y.href="javascript:void(0);",y.innerHTML=this._options.nextLabel;var v=document.createElement("a");v.onclick=function(){0!=t._currentStep&&s.call(t)},v.href="javascript:void(0);",v.innerHTML=this._options.prevLabel;var m=document.createElement("a");m.className="introjs-button introjs-skipbutton",m.href="javascript:void(0);",m.innerHTML=this._options.skipLabel,m.onclick=function(){t._introItems.length-1==t._currentStep&&"function"==typeof t._introCompleteCallback&&t._introCompleteCallback.call(t),t._introItems.length-1!=t._currentStep&&"function"==typeof t._introExitCallback&&t._introExitCallback.call(t),a.call(t,t._targetElement)},x.appendChild(m),this._introItems.length>1&&(x.appendChild(v),x.appendChild(y)),A.appendChild(x),l.call(t,e.element,A,E)}0==this._currentStep&&this._introItems.length>1?(v.className="introjs-button introjs-prevbutton introjs-disabled",y.className="introjs-button introjs-nextbutton",m.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(m.innerHTML=this._options.doneLabel,v.className="introjs-button introjs-prevbutton",y.className="introjs-button introjs-nextbutton introjs-disabled"):(v.className="introjs-button introjs-prevbutton",y.className="introjs-button introjs-nextbutton",m.innerHTML=this._options.skipLabel),y.focus(),e.element.className+=" introjs-showElement";var M=d(e.element,"position");"absolute"!==M&&"relative"!==M&&(e.element.className+=" introjs-relativePosition");for(var P=e.element.parentNode;null!=P&&"body"!==P.tagName.toLowerCase();){var R=d(P,"z-index"),I=parseFloat(d(P,"opacity"));(/[0-9]+/.test(R)||1>I)&&(P.className+=" introjs-fixParent"),P=P.parentNode}if(!f(e.element)&&this._options.scrollToElement===!0){var O=e.element.getBoundingClientRect(),N=h().height,j=O.bottom-(O.bottom-O.top),H=O.bottom-N;0>j||e.element.clientHeight>N?window.scrollBy(0,j-30):window.scrollBy(0,H+100)}"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,e.element)}}function d(e,t){var n="";return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function h(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function f(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom+80<=window.innerHeight&&t.right<=window.innerWidth}function p(e){var t=document.createElement("div"),n="",i=this;if(t.className="introjs-overlay","body"===e.tagName.toLowerCase())n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",t.setAttribute("style",n);else{var o=g(e);o&&(n+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",t.setAttribute("style",n))}return e.appendChild(t),t.onclick=function(){1==i._options.exitOnOverlayClick&&(a.call(i,e),void 0!=i._introExitCallback&&i._introExitCallback.call(i))},setTimeout(function(){n+="opacity: .8;",t.setAttribute("style",n)},10),!0}function g(e){var t={};t.width=e.offsetWidth,t.height=e.offsetHeight;for(var n=0,i=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return t.top=i,t.left=n,t}function m(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n}var v="0.7.0",y=function(e){if("object"==typeof e)return new t(e);if("string"==typeof e){var n=document.querySelector(e);if(n)return new t(n);throw new Error("There is no element with given selector.")}return new t(document.body)};return y.version=v,y.fn=t.prototype={clone:function(){return new t(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){return this._options=m(this._options,e),this},start:function(){return n.call(this,this._targetElement),this},goToStep:function(e){return o.call(this,e),this},nextStep:function(){return r.call(this),this},previousStep:function(){return s.call(this),this},exit:function(){a.call(this,this._targetElement)},refresh:function(){return c.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},onchange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},onafterchange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},oncomplete:function(e){if("function"!=typeof e)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},onexit:function(e){if("function"!=typeof e)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this}},e.introJs=y,y})}.call(this),function(){!function(e){"use strict";var t,n={selector:"",dataattr:"src",background:!1,each:null,eacherror:null,callback:null,timeout:5e3},i=function(t,i,l){var c,u=a.getInstance(),d=e(i),h=e.extend({},n,l||{}),f="_"+(""+(new Date).valueOf()).slice(-7),p=0;return""===h.selector&&d.data(h.dataattr)?(c=d,p=1):(c=d.find([h.selector,"[data-",h.dataattr,"]"].join("")),p=c.length),d.data(f,{each:h.each,eacherror:h.eacherror,callback:h.callback,isLoading:!0,loadedImageCounter:0,length:p}),0===p?r(i,f):(c.each(function(e,t){u.add(s(t,i,f,h.background,h.dataattr,h.timeout))}),d.on("loadImage."+f,o),u.run()),i},o=function(t,n,i,o){var s=t.currentTarget,a=e(s).data(t.namespace);a.isLoading&&(o?"function"==typeof a.eacherror?a.eacherror(n):null!==n.parentNode&&n.parentNode.removeChild(n):"function"==typeof a.each&&a.each(n,i),++a.loadedImageCounter,a.loadedImageCounter>=a.length&&r(s,t.namespace))},r=function(t,n){var i=e(t),r=i.data(),s=r[n].callback;i.off("loadImage."+n,o),delete r[n],"function"==typeof s&&setTimeout(function(){s(t)},2*e.imageloader.queueInterval)},s=function(t,n,i,o,r,s){var a=e(t),l=a.data(r),c=!1,u=function(o,s){a.removeAttr(["data-",r].join("")),e(n).triggerHandler("loadImage."+i,[t,s,o&&"error"===o.type])};return function(){var t,n=e("<img />");n.bind("error",function(n){c=!0,clearTimeout(t),e(this).unbind("error").unbind("load"),u(n)}).bind("load",function(i){c=!0,clearTimeout(t),e(this).unbind("error").unbind("load"),o?a.css("background-image",["url(",l,")"].join("")):a.attr("src",l),u(i,n[0])}).attr("src",l),t=setTimeout(function(){c===!1&&n.trigger("error")},s)}},a={getInstance:function(){return t instanceof l==!1&&(t=new l),t}},l=function(){this.index=0,this.queue=[],this.isRunning=!1};l.prototype.add=function(e){if("function"!=typeof e)throw new Error("you can only pass function.");this.queue.push(e)},l.prototype.run=function(t){var n=e.proxy(this.run,this);t=t||!1,(!this.isRunning||t)&&(this.isRunning=!0,this.queue[this.index++](),this.index<this.queue.length?setTimeout(function(){n(!0)},e.imageloader.queueInterval):this.isRunning=!1)},e.imageloader={queueInterval:17},e.fn.imageloader=function(e){return this.each(function(t,n){i(t,n,e)})}}(jQuery)}.call(this),function(){function e(t){"use strict";var n,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return e.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return e.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return e.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return e.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return e.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return e.prototype.onTouchCancel.apply(i,arguments)},e.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(e){n(e)},!1),t.onclick=null))}e.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,e.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),e.prototype.deviceIsIOS4=e.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),e.prototype.deviceIsIOSWithBadTarget=e.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),e.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){"use strict";var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){"use strict";return this.deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){"use strict";var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){"use strict";var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){"use strict";var t,n,i,o,r,s=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(r=e.changedTouches[0],s=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=s.tagName.toLowerCase(),"label"===i){if(t=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=t}}else if(this.needsFocus(s))return e.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,e.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(o=s.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(s)||(e.preventDefault(),this.sendClick(s,e)),!1)},e.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},e.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(t){"use strict";var n,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!e.prototype.deviceIsAndroid)return!0;if(n=document.querySelector("meta[name=viewport]")){if(-1!==n.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},e.attach=function(t){"use strict";return new e(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.youtap={}}(),function(){Package.meteor.Meteor;(function(){!function(e,t,n,i){e.fn.accordion=function(t){var n,o=e(this),r=(new Date).getTime(),s=[],a=arguments[0],l="string"==typeof a,c=[].slice.call(arguments,1);return o.each(function(){var u,d=e.isPlainObject(t)?e.extend(!0,{},e.fn.accordion.settings,t):e.extend({},e.fn.accordion.settings),h=d.className,f=d.namespace,p=d.selector,g=d.error,m="."+f,v="module-"+f,y=o.selector||"",b=e(this),w=b.find(p.title),_=b.find(p.content),C=this,E=b.data(v);u={initialize:function(){u.debug("Initializing accordion with bound events",b),w.on("click"+m,u.event.click),u.instantiate()},instantiate:function(){E=u,b.data(v,u)},destroy:function(){u.debug("Destroying previous accordion for",b),b.removeData(v),w.off(m)},event:{click:function(){u.verbose("Title clicked",this);var t=e(this),n=w.index(t);u.toggle(n)},resetStyle:function(){u.verbose("Resetting styles on element",this),e(this).attr("style","").removeAttr("style").children().attr("style","").removeAttr("style")}},toggle:function(e){u.debug("Toggling content content at index",e);var t=w.eq(e),n=t.next(_),i=n.is(":visible");i?d.collapsible?u.close(e):u.debug("Cannot close accordion content collapsing is disabled"):u.open(e)},open:function(t){var n=w.eq(t),i=n.next(_),o=n.siblings(p.title).filter("."+h.active),r=o.next(w),s=o.size()>0;i.is(":animated")||(u.debug("Opening accordion content",n),d.exclusive&&s&&(o.removeClass(h.active),r.stop().children().animate({opacity:0},d.duration,u.event.resetStyle).end().slideUp(d.duration,d.easing,function(){r.removeClass(h.active).attr("style","").removeAttr("style").children().attr("style","").removeAttr("style")})),n.addClass(h.active),i.stop().children().attr("style","").removeAttr("style").end().slideDown(d.duration,d.easing,function(){i.addClass(h.active).attr("style","").removeAttr("style"),e.proxy(d.onOpen,i)(),e.proxy(d.onChange,i)()}))},close:function(t){var n=w.eq(t),i=n.next(_);u.debug("Closing accordion content",i),n.removeClass(h.active),i.removeClass(h.active).show().stop().children().animate({opacity:0},d.duration,u.event.resetStyle).end().slideUp(d.duration,d.easing,function(){i.attr("style","").removeAttr("style"),e.proxy(d.onClose,i)(),e.proxy(d.onChange,i)()})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){return u.debug("Changing internal",t,n),n===i?u[t]:(e.isPlainObject(t)?e.extend(!0,u,t):u[t]=n,void 0)},debug:function(){d.debug&&(d.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,d.name+":"),u.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,d.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Element:C,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,100)},display:function(){var t=d.name+":",n=0;r=!1,clearTimeout(u.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",y&&(t+=" '"+y+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,o,r){var s,a,l;return o=o||c,r=C||r,"string"==typeof t&&E!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(E[r])&&n!=s)E=E[r];else{if(E[r]!==i)return a=E[r],!1;if(!e.isPlainObject(E[o])||n==s)return E[o]!==i?(a=E[o],!1):(u.error(g.method,t),!1);E=E[o]}})),e.isFunction(a)?l=a.apply(r,o):a!==i&&(l=a),e.isArray(n)?n.push(l):n!==i?n=[n,l]:l!==i&&(n=l),a}},l?(E===i&&u.initialize(),u.invoke(a)):(E!==i&&u.destroy(),u.initialize())}),n!==i?n:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!0,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,duration:500,easing:"easeInOutQuint",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active"},selector:{title:".title",content:".content"}},e.extend(e.easing,{easeInOutQuint:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n}})}(jQuery,window,document)}).call(this),function(){!function(e,t,n,i){e.api=e.fn.api=function(n){var o,r,s=e.extend(!0,{},e.api.settings,n),a="function"!=typeof this?this:e("<div/>"),l=s.stateContext?e(s.stateContext):e(a),c="object"==typeof this?e(a):l,u=this,d=(new Date).getTime(),h=[],f=c.selector||"",p=s.namespace+"-module",g=s.className,m=s.metadata,v=s.error,y=c.data(p),b=arguments[0],w=y!==i&&"string"==typeof b,_=[].slice.call(arguments,1);return o={initialize:function(){var n,r,a,u,d,h,f=(new Date).getTime(),p={},y={};return s.serializeForm&&e(this).toJSON()!==i&&(p=o.get.formData(),o.debug("Adding form data to API Request",p),e.extend(!0,s.data,p)),n=e.proxy(s.beforeSend,c)(s),n===i||n?(u=o.get.url(o.get.templateURL()))?(a=e.Deferred().always(function(){s.stateContext&&l.removeClass(g.loading),e.proxy(s.complete,c)()}).done(function(t){o.debug("API request successful"),"json"==s.dataType?t.error!==i?e.proxy(s.failure,l)(t.error,s,c):e.isArray(t.errors)?e.proxy(s.failure,l)(t.errors[0],s,c):e.proxy(s.success,l)(t,s,c):e.proxy(s.success,l)(t,s,c)
}).fail(function(t,n,r){var a,c=s.error[n]!==i?s.error[n]:r;if(t!==i)if(t.readyState!==i&&4==t.readyState){if(200!=t.status&&r!==i&&""!==r)o.error(u.statusMessage+r);else if("error"==n&&"json"==s.dataType)try{a=e.parseJSON(t.responseText),a&&a.error!==i&&(c=a.error)}catch(u){o.error(u.JSONParse)}l.removeClass(g.loading).addClass(g.error),s.errorLength>0&&setTimeout(function(){l.removeClass(g.error)},s.errorLength),o.debug("API Request error:",c),e.proxy(s.failure,l)(c,s,this)}else o.debug("Request Aborted (Most likely caused by page change)")}),e.extend(!0,y,s,{success:function(){},failure:function(){},complete:function(){},type:s.method||s.type,data:d,url:u,beforeSend:s.beforeXHR}),s.stateContext&&l.addClass(g.loading),s.progress&&(o.verbose("Adding progress events"),e.extend(!0,y,{xhr:function(){var n=new t.XMLHttpRequest;return n.upload.addEventListener("progress",function(t){var n;t.lengthComputable&&(n=Math.round(t.loaded/t.total*1e4)/100+"%",e.proxy(s.progress,l)(n,t))},!1),n.addEventListener("progress",function(t){var n;t.lengthComputable&&(n=Math.round(t.loaded/t.total*1e4)/100+"%",e.proxy(s.progress,l)(n,t))},!1),n}})),o.verbose("Creating AJAX request with settings: ",y),h=e.ajax(y).always(function(){r=s.loadingLength-((new Date).getTime()-f),s.loadingDelay=0>r?0:r}).done(function(e){var t=this;setTimeout(function(){a.resolveWith(t,[e])},s.loadingDelay)}).fail(function(e,t,n){var i=this;"abort"!=t?setTimeout(function(){a.rejectWith(i,[e,t,n])},s.loadingDelay):l.removeClass(g.error).removeClass(g.loading)}),s.stateContext&&c.data(m.promise,a).data(m.xhr,h),void 0):(o.error(v.missingURL),o.reset(),void 0):(o.error(v.beforeSend),o.reset(),void 0)},get:{formData:function(){return c.closest("form").toJSON()},templateURL:function(){var e,t=c.data(s.metadata.action)||s.action||!1;return t&&(o.debug("Creating url for: ",t),s.api[t]!==i?e=s.api[t]:o.error(v.missingAction)),s.url&&(e=s.url,o.debug("Getting url",e)),e},url:function(t,n){var r;return t&&(r=t.match(s.regExpTemplate),n=n||s.urlData,r&&(o.debug("Looking for URL variables",r),e.each(r,function(s,a){var l=a.substr(2,a.length-3),u=e.isPlainObject(n)&&n[l]!==i?n[l]:c.data(l)!==i?c.data(l):n[l];if(o.verbose("Looking for variable",l,c,c.data(l),n[l]),u===!1)o.debug("Removing variable from URL",r),t=t.replace("/"+a,"");else{if(u===i||!u)return o.error(v.missingParameter+l),t=!1,!1;t=t.replace(a,u)}}))),t}},reset:function(){c.data(m.promise,!1).data(m.xhr,!1),l.removeClass(g.error).removeClass(g.loading)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,s,t);else{if(n===i)return s[t];s[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},debug:function(){s.debug&&(s.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,s.name+":"),o.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,s.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;s.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,h.push({Element:u,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,100)},display:function(){var t=s.name+":",n=0;d=!1,clearTimeout(o.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",f&&(t+=" '"+f+"'"),(console.group!==i||console.table!==i)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,s){var a,l,c;return n=n||_,s=u||s,"string"==typeof t&&y!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var s=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(y[r])&&n!=a)y=y[r];else{if(!e.isPlainObject(y[s])||n==a)return y[r]!==i?(l=y[r],!1):y[s]!==i?(l=y[s],!1):(o.error(v.method,t),!1);y=y[s]}})),e.isFunction(l)?c=l.apply(s,n):l!==i&&(c=l),e.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),l}},w?(y===i&&o.initialize(),o.invoke(b)):(y!==i&&o.destroy(),o.initialize()),r!==i?r:this},e.fn.apiButton=function(t){return e(this).each(function(){var n,i=e(this),o=e(this).selector||"",r=e.isFunction(t)?e.extend(!0,{},e.api.settings,e.fn.apiButton.settings,{stateContext:this,success:t}):e.extend(!0,{},e.api.settings,e.fn.apiButton.settings,{stateContext:this},t);n={initialize:function(){r.context&&""!==o?e(r.context).on(o,"click."+r.namespace,n.click):i.on("click."+r.namespace,n.click)},click:function(){r.filter&&0!==e(this).filter(r.filter).size()||e.proxy(e.api,this)(r)}},n.initialize()}),this},e.api.settings={name:"API",namespace:"api",debug:!0,verbose:!0,performance:!0,api:{},beforeSend:function(e){return e},beforeXHR:function(){},success:function(){},complete:function(){},failure:function(){},progress:!1,error:{missingAction:"API action used but no url was defined",missingURL:"URL not specified for the API action",missingParameter:"Missing an essential URL parameter: ",timeout:"Your request timed out",error:"There was an error with your request",parseError:"There was an error parsing your request",JSONParse:"JSON could not be parsed during error handling",statusMessage:"Server gave an error: ",beforeSend:"The before send function has aborted the request",exitConditions:"API Request Aborted. Exit conditions met"},className:{loading:"loading",error:"error"},metadata:{action:"action",promise:"promise",xhr:"xhr"},regExpTemplate:/\{\$([A-z]+)\}/g,action:!1,url:!1,urlData:!1,serializeForm:!1,stateContext:!1,method:"get",data:{},dataType:"json",cache:!0,loadingLength:200,errorLength:2e3},e.fn.apiButton.settings={filter:".disabled, .loading",context:!1,stateContext:!1}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.colorize=function(t){var n=e.extend(!0,{},e.fn.colorize.settings,t),o=arguments||!1;return e(this).each(function(t){var r,s,a,l,c,u,d,h,f=e(this),p=e("<canvas />")[0],g=e("<canvas />")[0],m=e("<canvas />")[0],v=new Image,y=n.colors,b=(n.paths,n.namespace),w=n.error,_=f.data("module-"+b);return h={checkPreconditions:function(){return h.debug("Checking pre-conditions"),!e.isPlainObject(y)||e.isEmptyObject(y)?(h.error(w.undefinedColors),!1):!0},async:function(e){n.async?setTimeout(e,0):e()},getMetadata:function(){h.debug("Grabbing metadata"),l=f.data("image")||n.image||i,c=f.data("name")||n.name||t,u=n.width||f.width(),d=n.height||f.height(),(0===u||0===d)&&h.error(w.undefinedSize)},initialize:function(){h.debug("Initializing with colors",y),h.checkPreconditions()&&h.async(function(){h.getMetadata(),h.canvas.create(),h.draw.image(function(){h.draw.colors(),h.canvas.merge()}),f.data("module-"+b,h)})},redraw:function(){h.debug("Redrawing image"),h.async(function(){h.canvas.clear(),h.draw.colors(),h.canvas.merge()})},change:{color:function(e,t){return h.debug("Changing color",e),y[e]===i?(h.error(w.missingColor),!1):(y[e]=t,h.redraw(),void 0)}},canvas:{create:function(){h.debug("Creating canvases"),p.width=u,p.height=d,g.width=u,g.height=d,m.width=u,m.height=d,r=p.getContext("2d"),s=g.getContext("2d"),a=m.getContext("2d"),f.append(p),r=f.children("canvas")[0].getContext("2d")},clear:function(){h.debug("Clearing canvas"),a.fillStyle="#FFFFFF",a.fillRect(0,0,u,d)},merge:function(){return e.isFunction(r.blendOnto)?(r.putImageData(s.getImageData(0,0,u,d),0,0),a.blendOnto(r,"multiply"),void 0):(h.error(w.missingPlugin),void 0)}},draw:{image:function(e){h.debug("Drawing image"),e=e||function(){},l?(v.src=l,v.onload=function(){s.drawImage(v,0,0),e()}):(h.error(w.noImage),e())},colors:function(){h.debug("Drawing color overlays",y),e.each(y,function(e,t){n.onDraw(a,c,e,t)})}},debug:function(e,t){n.debug&&(t!==i?console.info(n.name+": "+e,t):console.info(n.name+": "+e))},error:function(e){console.warn(n.name+": "+e)},invoke:function(t,o,r){var s;return r=r||Array.prototype.slice.call(arguments,2),"string"==typeof t&&_!==i&&(t=t.split("."),e.each(t,function(t,i){return e.isPlainObject(_[i])?(_=_[i],!0):e.isFunction(_[i])?(s=_[i],!0):(h.error(n.error.method),!1)})),e.isFunction(s)?s.apply(o,r):!1}},_!==i&&o?("invoke"==o[0]&&(o=Array.prototype.slice.call(o,1)),h.invoke(o[0],this,Array.prototype.slice.call(o,1))):(h.initialize(),void 0)}),this},e.fn.colorize.settings={name:"Image Colorizer",debug:!0,namespace:"colorize",onDraw:function(){},async:!0,colors:{},metadata:{image:"image",name:"name"},error:{noImage:"No tracing image specified",undefinedColors:"No default colors specified.",missingColor:"Attempted to change color that does not exist",missingPlugin:"Blend onto plug-in must be included",undefinedHeight:"The width or height of image canvas could not be automatically determined. Please specify a height."}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.form=function(t,o){var r,s=e(this),a=e.extend(!0,{},e.fn.form.settings,o),l=e.extend({},e.fn.form.settings.defaults,t),c=a.namespace,u=a.metadata,d=a.selector,h=a.className,f=a.error,p="."+c,g="module-"+c,m=s.selector||"",v=(new Date).getTime(),y=[],b=arguments[0],w="string"==typeof b,_=[].slice.call(arguments,1);return s.each(function(){var t,o=e(this),c=e(this).find(d.field),C=e(this).find(d.group),E=e(this).find(d.message),A=(e(this).find(d.prompt),e(this).find(d.submit)),F=[],k=this,x=o.data(g);t={initialize:function(){t.verbose("Initializing form validation",o,l,a),a.keyboardShortcuts&&c.on("keydown"+p,t.event.field.keydown),o.on("submit"+p,t.validate.form),c.on("blur"+p,t.event.field.blur),A.on("click"+p,t.submit),c.on(t.get.changeEvent()+p,t.event.field.change),t.instantiate()},instantiate:function(){t.verbose("Storing instance of module",t),x=t,o.data(g,t)},destroy:function(){t.verbose("Destroying previous module",x),o.off(p).removeData(g)},refresh:function(){t.verbose("Refreshing selector cache"),c=o.find(d.field)},submit:function(){t.verbose("Submitting form",o),o.submit()},event:{field:{keydown:function(n){var i=e(this),o=n.which,r={enter:13,escape:27};return o==r.escape&&(t.verbose("Escape key pressed blurring field"),i.blur()),!n.ctrlKey&&o==r.enter&&i.is(d.input)?(t.debug("Enter key pressed, submitting form"),A.addClass(h.down),i.one("keyup"+p,t.event.field.keyup),n.preventDefault(),!1):void 0},keyup:function(){t.verbose("Doing keyboard shortcut form submit"),A.removeClass(h.down),t.submit()},blur:function(){var n=e(this),i=n.closest(C);i.hasClass(h.error)?(t.debug("Revalidating field",n,t.get.validation(n)),t.validate.field(t.get.validation(n))):("blur"==a.on||"change"==a.on)&&t.validate.field(t.get.validation(n))},change:function(){var n=e(this),i=n.closest(C);("change"==a.on||i.hasClass(h.error)&&a.revalidate)&&(clearTimeout(t.timer),t.timer=setTimeout(function(){t.debug("Revalidating field",n,t.get.validation(n)),t.validate.field(t.get.validation(n))},a.delay))}}},get:{changeEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},field:function(n){return t.verbose("Finding field with identifier",n),c.filter("#"+n).size()>0?c.filter("#"+n):c.filter('[name="'+n+'"]').size()>0?c.filter('[name="'+n+'"]'):c.filter("[data-"+u.validate+'="'+n+'"]').size()>0?c.filter("[data-"+u.validate+'="'+n+'"]'):e("<input/>")},validation:function(n){var i;return e.each(l,function(e,o){t.get.field(o.identifier).get(0)==n.get(0)&&(i=o)}),i||!1}},has:{field:function(e){return t.verbose("Checking for existence of a field with identifier",e),c.filter("#"+e).size()>0?!0:c.filter('[name="'+e+'"]').size()>0?!0:c.filter("[data-"+u.validate+'="'+e+'"]').size()>0?!0:!1}},add:{prompt:function(n,r){var s=t.get.field(n.identifier),l=s.closest(C),c=l.find(d.prompt),u=0!==c.size();t.verbose("Adding inline error",n),l.addClass(h.error),a.inline&&(u||(c=a.templates.prompt(r),c.appendTo(l)),c.html(r[0]),u||(a.transition&&e.fn.transition!==i&&o.transition("is supported")?(t.verbose("Displaying error with css transition",a.transition),c.transition(a.transition+" in",a.duration)):(t.verbose("Displaying error with fallback javascript animation"),c.fadeIn(a.duration))))},errors:function(e){t.debug("Adding form error messages",e),E.html(a.templates.error(e))}},remove:{prompt:function(n){var r=t.get.field(n.identifier),s=r.closest(C),l=s.find(d.prompt);s.removeClass(h.error),a.inline&&l.is(":visible")&&(t.verbose("Removing prompt for field",n),a.transition&&e.fn.transition!==i&&o.transition("is supported")?l.transition(a.transition+" out",a.duration,function(){l.remove()}):l.fadeOut(a.duration,function(){l.remove()}))}},validate:{form:function(n){var i=!0;return F=[],e.each(l,function(e,n){t.validate.field(n)||(i=!1)}),i?(t.debug("Form has no validation errors, submitting"),o.removeClass(h.error).addClass(h.success),e.proxy(a.onSuccess,this)(n),void 0):(t.debug("Form has errors"),o.addClass(h.error),a.inline||t.add.errors(F),e.proxy(a.onFailure,this)(F))},field:function(n){var o=t.get.field(n.identifier),r=!0,s=[];return n.rules!==i&&e.each(n.rules,function(e,i){t.has.field(n.identifier)&&!t.validate.rule(n,i)&&(t.debug("Field is invalid",n.identifier,i.type),s.push(i.prompt),r=!1)}),r?(t.remove.prompt(n,s),e.proxy(a.onValid,o)(),!0):(F=F.concat(s),t.add.prompt(n,s),e.proxy(a.onInvalid,o)(s),!1)},rule:function(n,r){var s,l,c=t.get.field(n.identifier),u=r.type,d=c.val()+"",h=/\[(.*?)\]/i,f=h.exec(u),p=!0;return f!==i&&null!==f?(s=""+f[1],l=u.replace(f[0],""),p=e.proxy(a.rules[l],o)(d,s)):p=e.proxy(a.rules[u],c)(d),p}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},debug:function(){a.debug&&(a.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,a.name+":"),t.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,a.name+":"),t.error.apply(console,arguments)},performance:{log:function(e){var n,i,o;a.performance&&(n=(new Date).getTime(),o=v||n,i=n-o,v=n,y.push({Element:k,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,100)},display:function(){var n=a.name+":",o=0;v=!1,clearTimeout(t.performance.timer),e.each(y,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",m&&(n+=" '"+m+"'"),s.size()>1&&(n+=" ("+s.size()+")"),(console.group!==i||console.table!==i)&&y.length>0&&(console.groupCollapsed(n),console.table?console.table(y):e.each(y,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),y=[]}},invoke:function(n,o,s){var a,l,c;return o=o||_,s=k||s,"string"==typeof n&&x!==i&&(n=n.split(/[\. ]/),a=n.length-1,e.each(n,function(o,r){var s=o!=a?r+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(x[s])&&o!=a)x=x[s];else{if(x[s]!==i)return l=x[s],!1;if(!e.isPlainObject(x[r])||o==a)return x[r]!==i?(l=x[r],!1):(t.error(f.method,n),!1);x=x[r]}})),e.isFunction(l)?c=l.apply(s,o):l!==i&&(c=l),e.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),l}},w?(x===i&&t.initialize(),t.invoke(b)):(x!==i&&t.destroy(),t.initialize())}),r!==i?r:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!0,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:150,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{validate:"validate"},selector:{message:".error.message",field:"input, textarea, select",group:".field",input:"input",prompt:".prompt",submit:".submit"},className:{error:"error",success:"success",down:"down",label:"ui label prompt"},error:{method:"The method you called is not defined."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui red pointing prompt label").html(t[0])}},rules:{checked:function(){return e(this).filter(":checked").size()>0},empty:function(e){return!(e===i||""===e)},email:function(e){var t=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return t.test(e)},length:function(e,t){return e!==i?e.length>=t:!1},not:function(e,t){return e!=t},contains:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(t)},is:function(e,t){return e==t},maxLength:function(e,t){return e!==i?e.length<=t:!1},match:function(t,n){var o,r=e(this);return r.find("#"+n).size()>0?o=r.find("#"+n).val():r.find("[name="+n+"]").size()>0?o=r.find("[name="+n+"]").val():r.find('[data-validate="'+n+'"]').size()>0&&(o=r.find('[data-validate="'+n+'"]').val()),o!==i?t.toString()==o.toString():!1},url:function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)}}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.state=function(t){var n,o=e(this),r=e.extend(!0,{},e.fn.state.settings,t),s=o.selector||"",a=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1),h=r.error,f=r.metadata,p=r.className,g=r.namespace,m=r.states,v=r.text,y="."+g,b=g+"-module";return o.each(function(){var g,w=e(this),_=this,C=w.data(b);g={initialize:function(){g.verbose("Initializing module"),r.automatic&&g.add.defaults(),r.context&&""!==s?(g.allows("hover")&&e(_,r.context).on(s,"mouseenter"+y,g.enable.hover).on(s,"mouseleave"+y,g.disable.hover),g.allows("down")&&e(_,r.context).on(s,"mousedown"+y,g.enable.down).on(s,"mouseup"+y,g.disable.down),g.allows("focus")&&e(_,r.context).on(s,"focus"+y,g.enable.focus).on(s,"blur"+y,g.disable.focus),e(r.context).on(s,"mouseenter"+y,g.change.text).on(s,"mouseleave"+y,g.reset.text).on(s,"click"+y,g.toggle.state)):(g.allows("hover")&&w.on("mouseenter"+y,g.enable.hover).on("mouseleave"+y,g.disable.hover),g.allows("down")&&w.on("mousedown"+y,g.enable.down).on("mouseup"+y,g.disable.down),g.allows("focus")&&w.on("focus"+y,g.enable.focus).on("blur"+y,g.disable.focus),w.on("mouseenter"+y,g.change.text).on("mouseleave"+y,g.reset.text).on("click"+y,g.toggle.state)),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),C=g,w.data(b,g)},destroy:function(){g.verbose("Destroying previous module",C),w.off(y).removeData(b)},refresh:function(){g.verbose("Refreshing selector cache"),w=e(_)},add:{defaults:function(){var n=t&&e.isPlainObject(t.states)?t.states:{};e.each(r.defaults,function(t,o){g.is[t]!==i&&g.is[t]()&&(g.verbose("Adding default states",t,_),e.extend(r.states,o,n))})}},is:{active:function(){return w.hasClass(p.active)},loading:function(){return w.hasClass(p.loading)},inactive:function(){return!w.hasClass(p.active)},enabled:function(){return!w.is(r.filter.active)},disabled:function(){return w.is(r.filter.active)},textEnabled:function(){return!w.is(r.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")}},allow:function(e){g.debug("Now allowing state",e),m[e]=!0},disallow:function(e){g.debug("No longer allowing",e),m[e]=!1},allows:function(e){return m[e]||!1},enable:{state:function(e){g.allows(e)&&w.addClass(p[e])},focus:function(){w.addClass(p.focus)},hover:function(){w.addClass(p.hover)},down:function(){w.addClass(p.down)}},disable:{state:function(e){g.allows(e)&&w.removeClass(p[e])},focus:function(){w.removeClass(p.focus)},hover:function(){w.removeClass(p.hover)},down:function(){w.removeClass(p.down)}},toggle:{state:function(){var e=w.data(f.promise);g.allows("active")&&g.is.enabled()&&(g.refresh(),e!==i?g.listenTo(e):g.change.state())}},listenTo:function(t){g.debug("API request detected, waiting for state signal",t),t?(v.loading&&g.update.text(v.loading),e.when(t).then(function(){"resolved"==t.state()?(g.debug("API request succeeded"),r.activateTest=function(){return!0},r.deactivateTest=function(){return!0}):(g.debug("API request failed"),r.activateTest=function(){return!1},r.deactivateTest=function(){return!1}),g.change.state()})):(r.activateTest=function(){return!1},r.deactivateTest=function(){return!1})},change:{state:function(){g.debug("Determining state change direction"),g.is.inactive()?g.activate():g.deactivate(),r.sync&&g.sync(),e.proxy(r.onChange,_)()},text:function(){g.is.textEnabled()&&(g.is.active()?v.hover?(g.verbose("Changing text to hover text",v.hover),g.update.text(v.hover)):v.disable&&(g.verbose("Changing text to disable text",v.disable),g.update.text(v.disable)):v.hover?(g.verbose("Changing text to hover text",v.disable),g.update.text(v.hover)):v.enable&&(g.verbose("Changing text to enable text",v.enable),g.update.text(v.enable)))}},activate:function(){e.proxy(r.activateTest,_)()&&(g.debug("Setting state to active"),w.addClass(p.active),g.update.text(v.active)),e.proxy(r.onActivate,_)()},deactivate:function(){e.proxy(r.deactivateTest,_)()&&(g.debug("Setting state to inactive"),w.removeClass(p.active),g.update.text(v.inactive)),e.proxy(r.onDeactivate,_)()},sync:function(){g.verbose("Syncing other buttons to current state"),g.is.active()?o.not(w).state("activate"):o.not(w).state("deactivate")},get:{text:function(){return r.selector.text?w.find(r.selector.text).text():w.html()},textFor:function(e){return v[e]||!1}},flash:{text:function(e,t){var n=g.get.text();g.debug("Flashing text message",e,t),e=e||r.text.flash,t=t||r.flashDuration,g.update.text(e),setTimeout(function(){g.update.text(n)},t)}},reset:{text:function(){var e=v.active||w.data(f.storedText),t=v.inactive||w.data(f.storedText);g.is.textEnabled()&&(g.is.active()&&e?(g.verbose("Resetting active text",e),g.update.text(e)):t&&(g.verbose("Resetting inactive text",e),g.update.text(t)))}},update:{text:function(e){var t=g.get.text();e&&e!==t?(g.debug("Updating text",e),r.selector.text?w.data(f.storedText,e).find(r.selector.text).text(e):w.data(f.storedText,e).html(e)):g.debug("Text is already sane, ignoring update",e)}},setting:function(t,n){return g.debug("Changing setting",t,n),n===i?r[t]:(e.isPlainObject(t)?e.extend(!0,r,t):r[t]=n,void 0)},internal:function(t,n){return g.debug("Changing internal",t,n),n===i?g[t]:(e.isPlainObject(t)?e.extend(!0,g,t):g[t]=n,void 0)},debug:function(){r.debug&&(r.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,r.name+":"),g.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,r.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;r.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,l.push({Element:_,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=r.name+":",n=0;a=!1,clearTimeout(g.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),o.size()>1&&(t+=" ("+o.size()+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,o,r){var s,a,l;return o=o||d,r=_||r,"string"==typeof t&&C!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(C[r])&&n!=s)C=C[r];else{if(C[r]!==i)return a=C[r],!1;if(!e.isPlainObject(C[o])||n==s)return C[o]!==i?(a=C[o],!1):(g.error(h.method,t),!1);C=C[o]}})),e.isFunction(a)?l=a.apply(r,o):a!==i&&(l=a),e.isArray(n)?n.push(l):n!==i?n=[n,l]:l!==i&&(n=l),a}},u?(C===i&&g.initialize(),g.invoke(c)):(C!==i&&g.destroy(),g.initialize())}),n!==i?n:this},e.fn.state.settings={name:"State",debug:!0,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:3e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{focus:"focus",hover:"hover",down:"down",active:"active",loading:"loading"},selector:{text:!1},defaults:{input:{hover:!0,focus:!0,down:!0,loading:!1,active:!1},button:{hover:!0,focus:!1,down:!0,active:!0,loading:!0}},states:{hover:!0,focus:!0,down:!0,loading:!1,active:!1},text:{flash:!1,hover:!1,active:!1,inactive:!1,enable:!1,disable:!1}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.chatroom=function(t){var n,o=e(this),r=o.selector||"",s=(new Date).getTime(),a=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return e(this).each(function(){var n,o,d,h,f,p,g,m=e.extend(!0,{},e.fn.chatroom.settings,t),v=m.className,y=m.namespace,b=m.selector,w=m.error,_=e(this),C=_.find(b.expandButton),E=_.find(b.userListButton),A=_.find(b.userList),F=(_.find(b.room),_.find(b.userCount)),k=_.find(b.log),x=(_.find(b.message),_.find(b.messageInput)),S=_.find(b.messageButton),D=_.data("module"),B=this,T="",$={};g={width:{log:k.width(),userList:A.outerWidth()},initialize:function(){return Pusher===i&&g.error(w.pusher),m.key===i||m.channelName===i?(g.error(w.key),!1):m.endpoint.message||m.endpoint.authentication?(p=new Pusher(m.key),Pusher.channel_auth_endpoint=m.endpoint.authentication,n=p.subscribe(m.channelName),n.bind("pusher:subscription_succeeded",g.user.list.create),n.bind("pusher:subscription_error",g.error),n.bind("pusher:member_added",g.user.joined),n.bind("pusher:member_removed",g.user.left),n.bind("update_messages",g.message.receive),e.each(m.customEvents,function(e,t){n.bind(e,t)}),E.on("click."+y,g.event.toggleUserList),C.on("click."+y,g.event.toggleExpand),x.on("keydown."+y,g.event.input.keydown).on("keyup."+y,g.event.input.keyup),S.on("mouseenter."+y,g.event.hover).on("mouseleave."+y,g.event.hover).on("click."+y,g.event.submit),k.animate({scrollTop:k.prop("scrollHeight")},400),_.data("module",g).addClass(v.loading),void 0):(g.error(w.endpoint),!1)},refresh:function(){E.removeClass(v.active),g.width={log:k.width(),userList:A.outerWidth()},E.hasClass(v.active)&&g.user.list.hide(),_.data("module",g)},user:{updateCount:function(){m.userCount&&($=_.data("users"),h=0,e.each($,function(){h++}),F.html(m.templates.userCount(h)))},joined:function(t){$=_.data("users"),"anonymous"!=t.id&&$[t.id]===i&&($[t.id]=t.info,m.randomColor&&t.info.color===i&&(t.info.color=m.templates.color(t.id)),T=m.templates.userList(t.info),t.info.isAdmin?e(T).prependTo(A):e(T).appendTo(A),m.partingMessages&&(k.append(m.templates.joined(t.info)),g.message.scroll.test()),g.user.updateCount())},left:function(e){$=_.data("users"),e!==i&&"anonymous"!==e.id&&(delete $[e.id],_.data("users",$),A.find("[data-id="+e.id+"]").remove(),m.partingMessages&&(k.append(m.templates.left(e.info)),g.message.scroll.test()),g.user.updateCount())},list:{create:function(t){$={},t.each(function(e){"anonymous"!==e.id&&"undefined"!==e.id&&(m.randomColor&&e.info.color===i&&(e.info.color=m.templates.color(e.id)),T=e.info.isAdmin?m.templates.userList(e.info)+T:T+m.templates.userList(e.info),$[e.id]=e.info)}),_.data("users",$).data("user",$[t.me.id]).removeClass(v.loading),A.html(T),g.user.updateCount(),e.proxy(m.onJoin,A.children())()},show:function(){k.animate({width:g.width.log-g.width.userList},{duration:m.speed,easing:m.easing,complete:g.message.scroll.move})},hide:function(){k.stop().animate({width:g.width.log},{duration:m.speed,easing:m.easing,complete:g.message.scroll.move})}}},message:{scroll:{test:function(){f=k.prop("scrollHeight")-k.height(),Math.abs(k.scrollTop()-f)<m.scrollArea&&g.message.scroll.move()},move:function(){f=k.prop("scrollHeight")-k.height(),k.scrollTop(f)}},send:function(t){g.utils.emptyString(t)||e.api({url:m.endpoint.message,method:"POST",data:{message:{content:t,timestamp:(new Date).getTime()}}})},receive:function(e){d=e.data,$=_.data("users"),o=_.data("user"),$[d.userID]!==i&&(o===i||o.id!=d.userID)&&(d.user=$[d.userID],g.message.display(d))},display:function(t){k.append(m.templates.message(t)),g.message.scroll.test(),e.proxy(m.onMessage,k.children().last())()}},expand:function(){_.addClass(v.expand),e.proxy(m.onExpand,_)(),g.refresh()},contract:function(){_.removeClass(v.expand),e.proxy(m.onContract,_)(),g.refresh()},event:{input:{keydown:function(e){13==e.which&&S.addClass(v.down)},keyup:function(e){13==e.which&&(S.removeClass(v.down),g.event.submit())}},submit:function(){var e=x.val(),t=_.data("user");t===i||g.utils.emptyString(e)||(g.message.send(e),g.message.display({user:t,text:e}),g.message.scroll.move(),x.val(""))},toggleExpand:function(){_.hasClass(v.expand)?(C.removeClass(v.active),g.contract()):(C.addClass(v.active),g.expand())},toggleUserList:function(){k.is(":animated")||(E.hasClass(v.active)?(E.removeClass("active"),g.user.list.hide()):(E.addClass(v.active),g.user.list.show()))}},utils:{emptyString:function(e){return"string"==typeof e?-1==e.search(/\S/):!1}},setting:function(t,n){return n===i?m[t]:(e.isPlainObject(t)?e.extend(!0,m,t):m[t]=n,void 0)},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){m.debug&&(m.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,m.name+":"),g.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,m.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,a.push({Element:B,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,100)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(g.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,o){var r,s;return n=n||u,o=B||o,"string"==typeof t&&D!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){e.isPlainObject(D[o])&&n!=r?D=D[o]:D[o]!==i?s=D[o]:g.error(w.method,t)})),e.isFunction(s)?s.apply(o,n):s||!1}},c?(D===i&&g.initialize(),g.invoke(l)):(D!==i&&g.destroy(),g.initialize())}),n?n:this},e.fn.chatroom.settings={name:"Chat",debug:!1,namespace:"chat",channel:"present-chat",onJoin:function(){},onMessage:function(){},onExpand:function(){},onContract:function(){},customEvents:{},partingMessages:!1,userCount:!0,randomColor:!0,speed:300,easing:"easeOutQuint",scrollArea:9999,endpoint:{message:!1,authentication:!1},error:{method:"The method you called is not defined",endpoint:"Please define a message and authentication endpoint.",key:"You must specify a pusher key and channel.",pusher:"You must include the Pusher library."},className:{expand:"expand",active:"active",hover:"hover",down:"down",loading:"loading"},selector:{userCount:".actions .message",userListButton:".actions .list.button",expandButton:".actions .expand.button",room:".room",userList:".room .list",log:".room .log",message:".room .log .message",author:".room log .message .author",messageInput:".talk input",messageButton:".talk .send.button"},templates:{userCount:function(e){return e+" users in chat"
},color:function(){var e=["#000000","#333333","#666666","#999999","#CC9999","#CC6666","#CC3333","#993333","#663333","#CC6633","#CC9966","#CC9933","#999966","#CCCC66","#99CC66","#669933","#669966","#33A3CC","#336633","#33CCCC","#339999","#336666","#336699","#6666CC","#9966CC","#333399","#663366","#996699","#993366","#CC6699"];return e[Math.floor(Math.random()*e.length)]},message:function(e){var t="";return e.user.isAdmin?(e.user.color="#55356A",t+='<div class="admin message">',t+='<span class="quirky ui flag team"></span>'):t+='<div class="message">',t+="<p>",t+=e.user.color!==i?'<span class="author" style="color: '+e.user.color+';">'+e.user.name+"</span>: ":'<span class="author">'+e.user.name+"</span>: ",t+=""+e.text+" </p></div>"},joined:function(e){return typeof e.name!==i?'<div class="status">'+e.name+" has joined the chat.</div>":!1},left:function(e){return typeof e.name!==i?'<div class="status">'+e.name+" has left the chat.</div>":!1},userList:function(e){var t="";return e.isAdmin&&(e.color="#55356A"),t+='<div class="user" data-id="'+e.id+'"> <div class="image">   <img src="'+e.avatarURL+'"> </div>',t+=e.color!==i?' <p><a href="/users/'+e.id+'" target="_blank" style="color: '+e.color+';">'+e.name+"</a></p>":' <p><a href="/users/'+e.id+'" target="_blank">'+e.name+"</a></p>",t+="</div>"}}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.checkbox=function(t){var n,o=e(this),r=o.selector||"",s=(new Date).getTime(),a=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return o.each(function(){var o,d=e.extend(!0,{},e.fn.checkbox.settings,t),h=d.className,f=d.namespace,p=d.error,g="."+f,m="module-"+f,v=e(this),y=e(this).next(d.selector.label).first(),b=e(this).find(d.selector.input),w=v.selector||"",_=v.data(m),C=this;o={initialize:function(){o.verbose("Initializing checkbox",d),d.context&&""!==w?(o.verbose("Adding delegated events"),e(C,d.context).on(w,"click"+g,o.toggle).on(w+" + "+d.selector.label,"click"+g,o.toggle)):(v.on("click"+g,o.toggle).data(m,o),y.on("click"+g,o.toggle)),o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o),_=o,v.data(m,o)},destroy:function(){o.verbose("Destroying previous module"),v.off(g).removeData(m)},is:{radio:function(){return v.hasClass(h.radio)},enabled:function(){return b.prop("checked")!==i&&b.prop("checked")},disabled:function(){return!o.is.enabled()}},can:{disable:function(){return"boolean"==typeof d.required?d.required:!o.is.radio()}},enable:function(){o.debug("Enabling checkbox",b),b.prop("checked",!0),e.proxy(d.onChange,b.get())(),e.proxy(d.onEnable,b.get())()},disable:function(){o.debug("Disabling checkbox"),b.prop("checked",!1),e.proxy(d.onChange,b.get())(),e.proxy(d.onDisable,b.get())()},toggle:function(){o.verbose("Determining new checkbox state"),o.is.disabled()?o.enable():o.is.enabled()&&o.can.disable()&&o.disable()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},debug:function(){d.debug&&(d.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,d.name+":"),o.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,d.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,a.push({Element:C,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,100)},display:function(){var t=d.name+":",n=0;s=!1,clearTimeout(o.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,r,s){var a,l,c;return r=r||u,s=C||s,"string"==typeof t&&_!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var s=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(_[s])&&n!=a)_=_[s];else{if(_[s]!==i)return l=_[s],!1;if(!e.isPlainObject(_[r])||n==a)return _[r]!==i?(l=_[r],!1):(o.error(p.method,t),!1);_=_[r]}})),e.isFunction(l)?c=l.apply(s,r):l!==i&&(c=l),e.isArray(n)?n.push(c):n!==i?n=[n,c]:c!==i&&(n=c),l}},c?(_===i&&o.initialize(),o.invoke(l)):(_!==i&&o.destroy(),o.initialize())}),n!==i?n:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",verbose:!0,debug:!0,performance:!0,context:!1,required:"auto",onChange:function(){},onEnable:function(){},onDisable:function(){},error:{method:"The method you called is not defined."},selector:{input:"input[type=checkbox], input[type=radio]",label:"label"},className:{radio:"radio"}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.dimmer=function(t){var o,r=e(this),s=(new Date).getTime(),a=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return r.each(function(){var d,h,f,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),g=p.selector,m=p.namespace,v=p.className,y=p.error,b="."+m,w="module-"+m,_=r.selector||"",C="ontouchstart"in n.documentElement?"touchstart":"click",E=e(this),A=this,F=E.data(w);f={preinitialize:function(){f.is.dimmer()?(h=E.parent(),d=E):(h=E,d=f.has.dimmer()?h.children(g.dimmer).first():f.create())},initialize:function(){f.debug("Initializing dimmer",p),"hover"==p.on?h.on("mouseenter"+b,f.show).on("mouseleave"+b,f.hide):"click"==p.on&&h.on(C+b,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",h),f.set.pageDimmer()),p.closable&&(f.verbose("Adding dimmer close event",d),d.on(C+b,f.event.click)),f.set.dimmable(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),F=f,E.data(w,F)},destroy:function(){f.verbose("Destroying previous module",d),E.removeData(w),h.off(b),d.off(b)},event:{click:function(t){f.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).size()||e(t.target).is(g.content))&&(f.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t).detach();f.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&d.append(n)},create:function(){return e(p.template.dimmer()).appendTo(h)},animate:{show:function(t){t=e.isFunction(t)?t:function(){},f.set.dimmed(),p.useCSS&&e.fn.transition!==i&&E.transition("is supported")?d.transition({animation:p.transition+" in",queue:!0,duration:f.get.duration(),complete:function(){f.set.active(),t()}}):(f.verbose("Showing dimmer animation with javascript"),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),1,function(){d.removeAttr("style"),f.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&e.fn.transition!==i&&E.transition("is supported")?(f.verbose("Hiding dimmer with css"),d.transition({animation:p.transition+" out",duration:f.get.duration(),queue:!0,complete:function(){f.remove.dimmed(),f.remove.active(),t()}})):(f.verbose("Hiding dimmer with javascript"),d.stop().fadeOut(f.get.duration(),function(){d.removeAttr("style"),f.remove.dimmed(),f.remove.active(),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof p.duration?f.is.active()?p.duration.hide:p.duration.show:p.duration}},has:{dimmer:function(){return E.children(g.dimmer).size()>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.transition)},dimmer:function(){return E.is(g.dimmer)},dimmable:function(){return E.is(g.dimmable)},dimmed:function(){return h.hasClass(v.dimmed)},disabled:function(){return h.hasClass(v.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return h.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{active:function(){f.set.dimmed(),d.removeClass(v.transition).addClass(v.active)},dimmable:function(){h.addClass(v.dimmable)},dimmed:function(){h.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)}},remove:{active:function(){d.removeClass(v.transition).removeClass(v.active)},dimmed:function(){h.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)}},show:function(t){t=e.isFunction(t)?t:function(){},f.debug("Showing dimmer",d,p),!f.is.active()&&f.is.enabled()?(f.animate.show(t),e.proxy(p.onShow,A)(),e.proxy(p.onChange,A)()):f.debug("Dimmer is already shown or disabled")},hide:function(t){t=e.isFunction(t)?t:function(){},f.is.active()||f.is.animating()?(f.debug("Hiding dimmer",d),f.animate.hide(t),e.proxy(p.onHide,A)(),e.proxy(p.onChange,A)()):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",d),f.is.dimmed()?f.hide():f.show()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){p.debug&&(p.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,p.name+":"),f.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,p.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,a.push({Element:A,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,100)},display:function(){var t=p.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",_&&(t+=" '"+_+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==i||console.table!==i)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,r){var s,a,l;return n=n||u,r=A||r,"string"==typeof t&&F!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(F[r])&&n!=s)F=F[r];else{if(!e.isPlainObject(F[o])||n==s)return F[o]!==i?(a=F[o],!1):F[r]!==i?(a=F[r],!1):(f.error(y.method,t),!1);F=F[o]}})),e.isFunction(a)?l=a.apply(r,n):a!==i&&(l=a),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),a}},f.preinitialize(),c?(F===i&&f.initialize(),f.invoke(l)):(F!==i&&f.destroy(),f.initialize())}),o!==i?o:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!0,verbose:!0,performance:!0,transition:"fade",useCSS:!0,on:!1,closable:!0,duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".ui.dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}},className:{active:"active",dimmable:"ui dimmable",dimmed:"dimmed",disabled:"disabled",pageDimmer:"page",hide:"hide",show:"show",transition:"transition"}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.dropdown=function(t){var o,r=e(this),s=e(n),a=r.selector||"",l="ontouchstart"in n.documentElement,c=(new Date).getTime(),u=[],d=arguments[0],h="string"==typeof d,f=[].slice.call(arguments,1);return r.each(function(){var n,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dropdown.settings,t):e.extend({},e.fn.dropdown.settings),g=p.className,m=p.metadata,v=p.namespace,y=p.selector,b=p.error,w="."+v,_="module-"+v,C=e(this),E=C.find(y.item),A=C.find(y.text),F=C.find(y.input),k=C.children(y.menu),x=this,S=C.data(_);n={initialize:function(){n.debug("Initializing dropdown",p),n.set.selected(),l&&n.bind.touchEvents(),n.bind.mouseEvents(),n.instantiate()},instantiate:function(){n.verbose("Storing instance of dropdown",n),S=n,C.data(_,n)},destroy:function(){n.verbose("Destroying previous dropdown for",C),E.off(w),C.off(w).removeData(_)},bind:{touchEvents:function(){n.debug("Touch device detected binding touch events"),C.on("touchstart"+w,n.event.test.toggle),E.on("touchstart"+w,n.event.item.mouseenter).on("touchstart"+w,n.event.item.click)},mouseEvents:function(){n.verbose("Mouse detected binding mouse events"),"click"==p.on?C.on("click"+w,n.event.test.toggle):"hover"==p.on?C.on("mouseenter"+w,n.delay.show).on("mouseleave"+w,n.delay.hide):C.on(p.on+w,n.toggle),E.on("mouseenter"+w,n.event.item.mouseenter).on("mouseleave"+w,n.event.item.mouseleave).on("click"+w,n.event.item.click)},intent:function(){n.verbose("Binding hide intent event to document"),l&&s.on("touchstart"+w,n.event.test.touch).on("touchmove"+w,n.event.test.touch),s.on("click"+w,n.event.test.hide)}},unbind:{intent:function(){n.verbose("Removing hide intent event from document"),l&&s.off("touchstart"+w),s.off("click"+w)}},event:{test:{toggle:function(e){n.determine.intent(e,n.toggle)&&e.preventDefault()},touch:function(e){n.determine.intent(e,function(){"touchstart"==e.type?n.timer=setTimeout(n.hide,p.delay.touch):"touchmove"==e.type&&clearTimeout(n.timer)}),e.stopPropagation()},hide:function(e){n.determine.intent(e,n.hide)}},item:{mouseenter:function(t){var i=e(this).find(y.menu),o=e(this).siblings(y.item).children(y.menu);i.size()>0&&(clearTimeout(n.itemTimer),n.itemTimer=setTimeout(function(){n.animate.hide(!1,o),n.verbose("Showing sub-menu",i),n.animate.show(!1,i)},2*p.delay.show),t.preventDefault())},mouseleave:function(){var t=e(this).find(y.menu);t.size()>0&&(clearTimeout(n.itemTimer),n.itemTimer=setTimeout(function(){n.verbose("Hiding sub-menu",t),n.animate.hide(!1,t)},p.delay.hide))},click:function(){var t=e(this),o=t.data(m.text)!==i?t.data(m.text):t.text(),r=t.data(m.value)!==i?t.data(m.value):o.toLowerCase();0===t.find(y.menu).size()&&(n.determine.selectAction(o,r),e.proxy(p.onChange,x)(r,o))}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,i){n.verbose("Determining action",p.action),e.isFunction(n.action[p.action])?(n.verbose("Triggering preset action",p.action,t,i),n.action[p.action](t,i)):e.isFunction(p.action)?(n.verbose("Triggering user action",p.action,t,i),p.action(t,i)):n.error(b.action,p.action)},intent:function(t,i){return n.debug("Determining whether event occurred in dropdown",t.target),i=i||function(){},0===e(t.target).closest(k).size()?(n.verbose("Triggering event",i),i(),!0):(n.verbose("Event occurred in dropdown, canceling callback"),!1)}},action:{nothing:function(){},hide:function(){n.hide()},activate:function(e,t){t=t!==i?t:e,n.set.selected(t),n.set.value(t),n.hide()},auto:function(e,t){t=t!==i?t:e,n.set.selected(t),n.set.value(t),n.hide()},changeText:function(e,t){t=t!==i?t:e,n.set.selected(t),n.hide()},updateForm:function(e,t){t=t!==i?t:e,n.set.selected(t),n.set.value(t),n.hide()}},get:{text:function(){return A.text()},value:function(){return F.size()>0?F.val():C.data(m.value)},item:function(t){var o;return t=t!==i?t:n.get.value()!==i?n.get.value():n.get.text(),t!==i?E.each(function(){var n=e(this),r=n.data(m.text)!==i?n.data(m.text):n.text(),s=n.data(m.value)!==i?n.data(m.value):r.toLowerCase();return s==t||r==t?(o=e(this),!1):void 0}):t=n.get.text(),o||!1}},set:{text:function(e){n.debug("Changing text",e,A),A.removeClass(g.placeholder),A.text(e)},value:function(e){n.debug("Adding selected value to hidden input",e,F),F.size()>0?F.val(e):C.data(m.value,e)},active:function(){C.addClass(g.active)},visible:function(){C.addClass(g.visible)},selected:function(e){var t,o=n.get.item(e);o&&(n.debug("Setting selected menu item to",o),t=o.data(m.text)!==i?o.data(m.text):o.text(),E.removeClass(g.active),o.addClass(g.active),n.set.text(t))}},remove:{active:function(){C.removeClass(g.active)},visible:function(){C.removeClass(g.visible)}},is:{selection:function(){return C.hasClass(g.selection)},animated:function(e){return e?e.is(":animated")||e.transition("is animating"):k.is(":animated")||k.transition("is animating")},visible:function(e){return e?e.is(":visible"):k.is(":visible")},hidden:function(e){return e?e.is(":not(:visible)"):k.is(":not(:visible)")}},can:{click:function(){return l||"click"==p.on},show:function(){return!C.hasClass(g.disabled)}},animate:{show:function(t,o){var r=o||k;t=t||function(){},n.is.hidden(r)&&(n.verbose("Doing menu show animation",r),"none"==p.transition?t():e.fn.transition!==i&&C.transition("is supported")?r.transition({animation:p.transition+" in",duration:p.duration,complete:t,queue:!1}):"slide down"==p.transition?r.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},p.duration,"easeOutQuad",n.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){e.proxy(n.event.resetStyle,this)(),t()}):"fade"==p.transition?r.hide().clearQueue().fadeIn(p.duration,function(){e.proxy(n.event.resetStyle,this)(),t()}):n.error(b.transition,p.transition))},hide:function(t,o){var r=o||k;t=t||function(){},n.is.visible(r)&&(n.verbose("Doing menu hide animation",r),e.fn.transition!==i&&C.transition("is supported")?r.transition({animation:p.transition+" out",duration:p.duration,complete:t,queue:!1}):"none"==p.transition?t():"slide down"==p.transition?r.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",n.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){e.proxy(n.event.resetStyle,this)(),t()}):"fade"==p.transition?r.show().clearQueue().fadeOut(150,function(){e.proxy(n.event.resetStyle,this)(),t()}):n.error(b.transition))}},show:function(){n.debug("Checking if dropdown can show"),n.is.hidden()&&(n.hideOthers(),n.set.active(),n.animate.show(function(){n.can.click()&&n.bind.intent(),n.set.visible()}),e.proxy(p.onShow,x)())},hide:function(){!n.is.animated()&&n.is.visible()&&(n.debug("Hiding dropdown"),n.can.click()&&n.unbind.intent(),n.remove.active(),n.animate.hide(n.remove.visible),e.proxy(p.onHide,x)())},delay:{show:function(){n.verbose("Delaying show event to ensure user intent"),clearTimeout(n.timer),n.timer=setTimeout(n.show,p.delay.show)},hide:function(){n.verbose("Delaying hide event to ensure user intent"),clearTimeout(n.timer),n.timer=setTimeout(n.hide,p.delay.hide)}},hideOthers:function(){n.verbose("Finding other dropdowns to hide"),r.not(C).has(y.menu+":visible").dropdown("hide")},toggle:function(){n.verbose("Toggling menu visibility"),n.is.hidden()?n.show():n.hide()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){p.debug&&(p.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,p.name+":"),n.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,p.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;p.performance&&(t=(new Date).getTime(),o=c||t,i=t-o,c=t,u.push({Element:x,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=p.name+":",o=0;c=!1,clearTimeout(n.performance.timer),e.each(u,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,r,s){var a,l,c;return r=r||f,s=x||s,"string"==typeof t&&S!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(o,r){var s=o!=a?r+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(S[s])&&o!=a)S=S[s];else{if(S[s]!==i)return l=S[s],!1;if(!e.isPlainObject(S[r])||o==a)return S[r]!==i?(l=S[r],!1):(n.error(b.method,t),!1);S=S[r]}})),e.isFunction(l)?c=l.apply(s,r):l!==i&&(c=l),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),l}},h?(S===i&&n.initialize(),n.invoke(d)):(S!==i&&n.destroy(),n.initialize())}),o?o:this},e.fn.dropdown.settings={name:"Dropdown",namespace:"dropdown",verbose:!0,debug:!0,performance:!0,on:"click",action:"activate",delay:{show:200,hide:300,touch:50},transition:"slide down",duration:250,onChange:function(){},onShow:function(){},onHide:function(){},error:{action:"You called a dropdown action that was not defined",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{text:"text",value:"value"},selector:{menu:".menu",item:".menu > .item",text:"> .text",input:'> input[type="hidden"]'},className:{active:"active",placeholder:"default",disabled:"disabled",visible:"visible",selection:"selection"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.modal=function(o){var r,s=e(this),a=e(t),l=e(n),c=(new Date).getTime(),u=[],d=arguments[0],h="string"==typeof d,f=[].slice.call(arguments,1);return s.each(function(){var p,g,m,v,y,b,w=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),_=w.selector,C=w.className,E=w.namespace,A=w.error,F="."+E,k="module-"+E,x=s.selector||"",S=e(this),D=e(w.context),B=S.find(_.close),T=this,$=S.data(k);b={initialize:function(){return b.verbose("Initializing dimmer",D),typeof e.fn.dimmer===i?(b.error(A.dimmer),void 0):(v=D.dimmer({closable:!1,useCSS:b.is.modernBrowser(),show:.9*w.duration,hide:1.1*w.duration}).dimmer("add content",S),y=v.dimmer("get dimmer"),g=S.siblings(_.modal),p=g.add(S),b.verbose("Attaching close events",B),B.on("click"+F,b.event.close),a.on("resize"+F,function(){b.event.debounce(b.refresh,50)}),b.instantiate(),void 0)},instantiate:function(){b.verbose("Storing instance of modal"),$=b,S.data(k,$)},destroy:function(){b.verbose("Destroying previous modal"),S.removeData(k).off(F),B.off(F),D.dimmer("destroy")},refresh:function(){b.remove.scrolling(),b.cacheSizes(),b.set.type(),b.set.position()},attachEvents:function(t,n){var i=e(t);n=e.isFunction(b[n])?b[n]:b.toggle,i.size()>0?(b.debug("Attaching modal events to element",t,n),i.off(F).on("click"+F,n)):b.error(A.notFound)},event:{close:function(){b.verbose("Closing element pressed"),e(this).is(_.approve)?e.proxy(w.onApprove,T)()!==!1?b.hide():b.verbose("Approve callback returned false cancelling hide"):e(this).is(_.deny)?e.proxy(w.onDeny,T)()!==!1?b.hide():b.verbose("Deny callback returned false cancelling hide"):b.hide()},click:function(t){0===e(t.target).closest(_.modal).size()&&(b.debug("Dimmer clicked, hiding all modals"),b.hideAll(),t.stopImmediatePropagation())},debounce:function(e,t){clearTimeout(b.timer),b.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(w.closable?(b.debug("Escape key pressed hiding modal"),b.hide()):b.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){v.dimmer("is active")&&b.refresh()}},toggle:function(){b.is.active()?b.hide():b.show()},show:function(t){t=e.isFunction(t)?t:function(){},b.showDimmer(),b.showModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},b.is.active()?b.debug("Modal is already visible"):(b.cacheSizes(),b.set.position(),b.set.type(),g.filter(":visible").size()>0?(b.debug("Other modals visible, queueing show animation"),b.hideOthers(b.showModal)):(w.transition&&e.fn.transition!==i&&S.transition("is supported")?(b.debug("Showing modal with css animations"),S.transition(w.transition+" in",w.duration,function(){b.set.active(),t()})):(b.debug("Showing modal with javascript"),S.fadeIn(w.duration,w.easing,function(){b.set.active(),t()})),e.proxy(w.onShow,T)()))},showDimmer:function(){v.dimmer("is active")?b.debug("Dimmer already visible"):(b.debug("Showing dimmer"),v.dimmer("show"))},hide:function(t){t=e.isFunction(t)?t:function(){},b.hideDimmer(),b.hideModal(t)},hideDimmer:function(){v.dimmer("is active")?(b.debug("Hiding dimmer"),w.closable&&y.off("click"+F),v.dimmer("hide")):b.debug("Dimmer is not visible cannot hide")},hideModal:function(t){t=e.isFunction(t)?t:function(){},b.is.active()&&(b.debug("Hiding modal"),b.remove.keyboardShortcuts(),w.transition&&e.fn.transition!==i&&S.transition("is supported")?S.transition(w.transition+" out",w.duration,function(){b.remove.active(),b.restore.focus(),t()}):S.fadeOut(w.duration,w.easing,function(){b.remove.active(),b.restore.focus(),t()}),e.proxy(w.onHide,T)())},hideAll:function(t){t=e.isFunction(t)?t:function(){},p.is(":visible")&&(b.debug("Hiding all visible modals"),b.hideDimmer(),p.filter(":visible").modal("hide modal",t))},hideOthers:function(t){t=e.isFunction(t)?t:function(){},g.is(":visible")&&(b.debug("Hiding other modals"),g.filter(":visible").modal("hide modal",t))},add:{keyboardShortcuts:function(){b.verbose("Adding keyboard shortcuts"),l.on("keyup"+F,b.event.keyboard)}},save:{focus:function(){m=e(n.activeElement).blur()}},restore:{focus:function(){m&&m.size()>0&&m.focus()}},remove:{active:function(){S.removeClass(C.active)},keyboardShortcuts:function(){b.verbose("Removing keyboard shortcuts"),l.off("keyup"+F)},scrolling:function(){v.removeClass(C.scrolling),S.removeClass(C.scrolling)}},cacheSizes:function(){b.cache={height:S.outerHeight()+w.offset,contextHeight:"body"==w.context?e(t).height():v.height()},b.debug("Caching modal and container sizes",b.cache)},can:{fit:function(){return b.cache.height<b.cache.contextHeight}},is:{active:function(){return S.hasClass(C.active)},modernBrowser:function(){return"Microsoft Internet Explorer"!==navigator.appName}},set:{active:function(){b.add.keyboardShortcuts(),b.save.focus(),S.addClass(C.active),w.closable&&y.off("click"+F).on("click"+F,b.event.click)},scrolling:function(){v.addClass(C.scrolling),S.addClass(C.scrolling)},type:function(){b.can.fit()?(b.verbose("Modal fits on screen"),b.remove.scrolling()):(b.verbose("Modal cannot fit on screen setting to scrolling"),b.set.scrolling())},position:function(){b.verbose("Centering modal on page",b.cache,b.cache.height/2),b.can.fit()?S.css({top:"",marginTop:-(b.cache.height/2)}):S.css({marginTop:"1em",top:l.scrollTop()})}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){w.debug&&(w.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,w.name+":"),b.debug.apply(console,arguments)))},verbose:function(){w.verbose&&w.debug&&(w.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,w.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;w.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,u.push({Element:T,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,100)},display:function(){var t=w.name+":",n=0;c=!1,clearTimeout(b.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",x&&(t+=" '"+x+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var s,a,l;return n=n||f,o=T||o,"string"==typeof t&&$!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject($[r])&&n!=s)$=$[r];else{if($[r]!==i)return a=$[r],!1;if(!e.isPlainObject($[o])||n==s)return $[o]!==i?(a=$[o],!1):(b.error(A.method,t),!1);$=$[o]}})),e.isFunction(a)?l=a.apply(o,n):a!==i&&(l=a),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),a}},h?($===i&&b.initialize(),b.invoke(d)):($!==i&&b.destroy(),b.initialize())}),r!==i?r:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!0,verbose:!0,performance:!0,closable:!0,context:"body",duration:500,easing:"easeOutExpo",offset:0,transition:"scale",onShow:function(){},onHide:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve",deny:".actions .negative, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined."},className:{active:"active",scrolling:"scrolling"}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.nag=function(n){var o,r=e(this),s=r.selector||"",a=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return e(this).each(function(){var h,f,p,g,m,v,y,b,w,_=e.extend(!0,{},e.fn.nag.settings,n),C=_.className,E=_.selector,A=_.error,F=_.namespace,k="."+F,x=F+"-module",S=e(this),D=S.find(E.close),B=e(_.context),T=this,$=S.data(x),L=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};w={initialize:function(){w.verbose("Initializing element"),h=S.offset(),f=S.outerHeight(),p=B.outerWidth(),g=B.outerHeight(),m=B.offset(),S.data(x,w),D.on("click"+k,w.dismiss),_.context==t&&"fixed"==_.position&&S.addClass(C.fixed),_.sticky&&(w.verbose("Adding scroll events"),"absolute"==_.position?B.on("scroll"+k,w.event.scroll).on("resize"+k,w.event.scroll):e(t).on("scroll"+k,w.event.scroll).on("resize"+k,w.event.scroll),e.proxy(w.event.scroll,this)()),_.displayTime>0&&setTimeout(w.hide,_.displayTime),w.should.show()?S.is(":visible")||w.show():w.hide()},destroy:function(){w.verbose("Destroying instance"),S.removeData(x).off(k),_.sticky&&B.off(k)},refresh:function(){w.debug("Refreshing cached calculations"),h=S.offset(),f=S.outerHeight(),p=B.outerWidth(),g=B.outerHeight(),m=B.offset()},show:function(){w.debug("Showing nag",_.animation.show),"fade"==_.animation.show?S.fadeIn(_.duration,_.easing):S.slideDown(_.duration,_.easing)},hide:function(){w.debug("Showing nag",_.animation.hide),"fade"==_.animation.show?S.fadeIn(_.duration,_.easing):S.slideUp(_.duration,_.easing)},onHide:function(){w.debug("Removing nag",_.animation.hide),S.remove(),_.onHide&&_.onHide()},stick:function(){if(w.refresh(),"fixed"==_.position){var n=e(t).prop("pageYOffset")||e(t).scrollTop(),i=S.hasClass(C.bottom)?m.top+(g-f)-n:m.top-n;S.css({position:"fixed",top:i,left:m.left,width:p-_.scrollBarWidth})}else S.css({top:y})},unStick:function(){S.css({top:""})},dismiss:function(e){_.storageMethod&&w.storage.set(_.storedKey,_.storedValue),w.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return _.persist?(w.debug("Persistent nag is set, can show nag"),!0):w.storage.get(_.storedKey)!=_.storedValue?(w.debug("Stored value is not set, can show nag",w.storage.get(_.storedKey)),!0):(w.debug("Stored value is set, cannot show nag",w.storage.get(_.storedKey)),!1)},stick:function(){return v=B.prop("pageYOffset")||B.scrollTop(),y=S.hasClass(C.bottom)?g-S.outerHeight()+v:v,y>h.top?!0:"fixed"==_.position?!0:!1
}},storage:{set:function(n,o){w.debug("Setting stored value",n,o,_.storageMethod),"local"==_.storageMethod&&t.store!==i?t.store.set(n,o):e.cookie!==i?e.cookie(n,o):w.error(A.noStorage)},get:function(n){return w.debug("Getting stored value",n,_.storageMethod),"local"==_.storageMethod&&t.store!==i?t.store.get(n):e.cookie!==i?e.cookie(n):(w.error(A.noStorage),void 0)}},event:{scroll:function(){b!==i&&clearTimeout(b),b=setTimeout(function(){w.should.stick()?L(w.stick):w.unStick()},_.lag)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(n===i)return _[t];_[t]=n}},internal:function(t,n){return w.debug("Changing internal",t,n),n===i?w[t]:(e.isPlainObject(t)?e.extend(!0,w,t):w[t]=n,void 0)},debug:function(){_.debug&&(_.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,_.name+":"),w.debug.apply(console,arguments)))},verbose:function(){_.verbose&&_.debug&&(_.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,_.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,_.name+":"),w.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;_.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,l.push({Element:T,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,100)},display:function(){var t=_.name+":",n=0;a=!1,clearTimeout(w.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var s,a,l;return n=n||d,r=T||r,"string"==typeof t&&$!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject($[r])&&n!=s)$=$[r];else{if($[r]!==i)return a=$[r],!1;if(!e.isPlainObject($[o])||n==s)return $[o]!==i?(a=$[o],!1):(w.error(A.method,t),!1);$=$[o]}})),e.isFunction(a)?l=a.apply(r,n):a!==i&&(l=a),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),a}},u?($===i&&w.initialize(),w.invoke(c)):($!==i&&w.destroy(),w.initialize())}),o!==i?o:this},e.fn.nag.settings={name:"Nag",verbose:!0,debug:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},position:"fixed",scrollBarWidth:18,storageMethod:"cookie",storedKey:"nag",storedValue:"dismiss",sticky:!1,lag:0,context:t,error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".icon.close"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.popup=function(o){var r,s=e(this),a=e(n),l=s.selector||"",c=(new Date).getTime(),u=[],d=arguments[0],h="string"==typeof d,f=[].slice.call(arguments,1);return s.each(function(){var n,s=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),p=s.selector,g=s.className,m=s.error,v=s.metadata,y=s.namespace,b="."+s.namespace,w="module-"+y,_=e(this),C=e(s.context),E=s.target?e(s.target):_,A=e(t),F=s.inline?E.offsetParent():A,k=s.inline?E.next(s.selector.popup):A.children(s.selector.popup).last(),x=0,S=this,D=_.data(w);n={initialize:function(){n.debug("Initializing module",_),"click"==s.on?_.on("click",n.toggle):_.on(n.get.startEvent()+b,n.event.start).on(n.get.endEvent()+b,n.event.end),s.target&&n.debug("Target set to element",E),A.on("resize"+b,n.event.resize),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),D=n,_.data(w,D)},refresh:function(){s.inline?(k=E.next(p.popup),F=E.offsetParent()):k=A.children(p.popup).last()},destroy:function(){n.debug("Destroying previous module"),A.off(b),k.remove(),_.off(b).removeData(w)},event:{start:function(){n.timer=setTimeout(function(){n.is.hidden()&&n.show()},s.delay)},end:function(){clearTimeout(n.timer),n.is.visible()&&n.hide()},resize:function(){n.is.visible()&&n.set.position()}},create:function(){n.debug("Creating pop-up html");var t=_.data(v.html)||s.html,i=_.data(v.variation)||s.variation,o=_.data(v.title)||s.title,r=_.data(v.content)||_.attr("title")||s.content;t||r||o?(t||(t=s.template({title:o,content:r})),k=e("<div/>").addClass(g.popup).addClass(i).html(t),s.inline?(n.verbose("Inserting popup element inline",k),k.insertAfter(_)):(n.verbose("Appending popup element to body",k),k.appendTo(C)),e.proxy(s.onCreate,k)()):n.error(m.content)},toggle:function(){n.debug("Toggling pop-up"),n.is.hidden()?(n.hideAll(),n.show()):n.hide()},show:function(e){e=e||function(){},n.debug("Showing pop-up",s.transition),s.preserve||n.refresh(),n.exists()||n.create(),n.set.position(),n.animate.show(e)},hide:function(e){e=e||function(){},_.removeClass(g.visible),n.unbind.close(),n.is.visible()&&n.animate.hide(e)},hideAll:function(){e(p.popup).filter(":visible").popup("hide")},hideGracefully:function(t){0===e(t.target).closest(p.popup).size()&&n.hide()},exists:function(){return s.inline?0!==k.size():k.parent(C).size()},remove:function(){n.debug("Removing popup"),k.remove()},animate:{show:function(t){t=t||function(){},_.addClass(g.visible),s.transition&&e.fn.transition!==i&&_.transition("is supported")?k.transition(s.transition+" in",s.duration,function(){n.bind.close(),e.proxy(t,S)()}):k.stop().fadeIn(s.duration,s.easing,function(){n.bind.close(),e.proxy(t,S)()}),e.proxy(s.onShow,S)()},hide:function(t){t=t||function(){},n.debug("Hiding pop-up"),s.transition&&e.fn.transition!==i&&_.transition("is supported")?k.transition(s.transition+" out",s.duration,function(){n.reset(),t()}):k.stop().fadeOut(s.duration,s.easing,function(){n.reset(),t()}),e.proxy(s.onHide,S)()}},get:{startEvent:function(){return"hover"==s.on?"mouseenter":"focus"==s.on?"focus":void 0},endEvent:function(){return"hover"==s.on?"mouseleave":"focus"==s.on?"blur":void 0},offstagePosition:function(){var i={top:e(t).scrollTop(),bottom:e(t).scrollTop()+e(t).height(),left:0,right:e(t).width()},o={width:k.width(),height:k.outerHeight(),position:k.offset()},r={},s=[];return o.position&&(r={top:o.position.top<i.top,bottom:o.position.top+o.height>i.bottom,right:o.position.left+o.width>i.right,left:o.position.left<i.left}),n.verbose("Checking if outside viewable area",o.position),e.each(r,function(e,t){t&&s.push(e)}),s.length>0?s.join(" "):!1},nextPosition:function(e){switch(e){case"top left":e="bottom left";break;case"bottom left":e="top right";break;case"top right":e="bottom right";break;case"bottom right":e="top center";break;case"top center":e="bottom center";break;case"bottom center":e="right center";break;case"right center":e="left center";break;case"left center":e="top center"}return e}},set:{position:function(i,o){var r,a,l=(e(t).width(),e(t).height(),E.outerWidth()),c=E.outerHeight(),u=k.width(),d=k.outerHeight(),h=F.outerWidth(),f=F.outerHeight(),p=s.distanceAway,y=s.inline?E.position():E.offset();switch(i=i||_.data(v.position)||s.position,o=o||_.data(v.offset)||s.offset,s.inline&&("left center"==i||"right center"==i?(o+=parseInt(t.getComputedStyle(S).getPropertyValue("margin-top"),10),p+=-parseInt(t.getComputedStyle(S).getPropertyValue("margin-left"),10)):(o+=parseInt(t.getComputedStyle(S).getPropertyValue("margin-left"),10),p+=parseInt(t.getComputedStyle(S).getPropertyValue("margin-top"),10))),n.debug("Calculating offset for position",i),i){case"top left":r={bottom:f-y.top+p,right:h-y.left-o,top:"auto",left:"auto"};break;case"top center":r={bottom:f-y.top+p,left:y.left+l/2-u/2+o,top:"auto",right:"auto"};break;case"top right":r={top:"auto",bottom:f-y.top+p,left:y.left+l+o,right:"auto"};break;case"left center":r={top:y.top+c/2-d/2+o,right:h-y.left+p,left:"auto",bottom:"auto"};break;case"right center":r={top:y.top+c/2-d/2+o,left:y.left+l+p,bottom:"auto",right:"auto"};break;case"bottom left":r={top:y.top+c+p,right:h-y.left-o,left:"auto",bottom:"auto"};break;case"bottom center":r={top:y.top+c+p,left:y.left+l/2-u/2+o,bottom:"auto",right:"auto"};break;case"bottom right":r={top:y.top+c+p,left:y.left+l+o,bottom:"auto",right:"auto"}}return k.css(r).removeClass(g.position).addClass(i).addClass(g.loading),a=n.get.offstagePosition(),a?(n.debug("Element is outside boundaries",a),x<s.maxSearchDepth?(i=n.get.nextPosition(i),x++,n.debug("Trying new position",i),n.set.position(i)):(n.error(m.recursion),x=0,n.reset(),!1)):(n.debug("Position is on stage",i),x=0,!0)}},bind:{close:function(){"click"==s.on&&s.closable&&(n.verbose("Binding popup close event to document"),a.on("click"+b,n.hideGracefully))}},unbind:{close:function(){"click"==s.on&&s.closable&&(n.verbose("Removing close event from document"),a.off("click"+b))}},is:{visible:function(){return k.is(":visible")},hidden:function(){return!n.is.visible()}},reset:function(){k.attr("style","").removeAttr("style"),s.preserve||n.remove()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,s,t);else{if(n===i)return s[t];s[t]=n}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},debug:function(){s.debug&&(s.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,s.name+":"),n.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,s.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;s.performance&&(t=(new Date).getTime(),o=c||t,i=t-o,c=t,u.push({Element:S,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,100)},display:function(){var t=s.name+":",o=0;c=!1,clearTimeout(n.performance.timer),e.each(u,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,o,s){var a,l,c;return o=o||f,s=S||s,"string"==typeof t&&D!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(o,r){var s=o!=a?r+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(D[r])&&o!=a)D=D[r];else{if(!e.isPlainObject(D[s])||o==a)return D[r]!==i?(l=D[r],!1):D[s]!==i?(l=D[s],!1):(n.error(m.method,t),!1);D=D[s]}})),e.isFunction(l)?c=l.apply(s,o):l!==i&&(c=l),e.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),l}},h?(D===i&&n.initialize(),n.invoke(d)):(D!==i&&n.destroy(),n.initialize())}),r!==i?r:this},e.fn.popup.settings={name:"Popup",debug:!0,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onShow:function(){},onHide:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",target:!1,closable:!0,context:"body",position:"top center",delay:150,inline:!1,preserve:!1,duration:250,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:10,error:{content:"Your popup has no content specified",method:"The method you called is not defined.",recursion:"Popup attempted to reposition element to fit, but could not find an adequate position."},metadata:{content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},template:function(e){var t="";return typeof e!==i&&(typeof e.title!==i&&e.title&&(t+='<div class="header">'+e.title+'</div class="header">'),typeof e.content!==i&&e.content&&(t+='<div class="content">'+e.content+"</div>")),t}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.rating=function(t){var n,o=e(this),r=o.selector||"",s=(new Date).getTime(),a=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return o.each(function(){var d,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),f=h.namespace,p=h.className,g=h.metadata,m=h.selector,v=h.error,y="."+f,b="module-"+f,w=this,_=e(this).data(b),C=e(this),E=C.find(m.icon);d={initialize:function(){d.verbose("Initializing rating module",h),h.interactive?d.enable():d.disable(),h.initialRating&&(d.debug("Setting initial rating"),d.setRating(h.initialRating)),C.data(g.rating)&&(d.debug("Rating found in metadata"),d.setRating(C.data(g.rating))),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",h),_=d,C.data(b,d)},destroy:function(){d.verbose("Destroying previous instance",_),C.removeData(b),E.off(y)},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(p.hover),C.addClass(p.hover),t.addClass(p.hover).prevAll().addClass(p.hover)},mouseleave:function(){C.removeClass(p.hover),E.removeClass(p.hover)},click:function(){var t=e(this),n=d.getRating(),i=E.index(t)+1;h.clearable&&n==i?d.clearRating():d.setRating(i)}},clearRating:function(){d.debug("Clearing current rating"),d.setRating(0)},getRating:function(){var e=E.filter("."+p.active).size();return d.verbose("Current rating retrieved",e),e},enable:function(){d.debug("Setting rating to interactive mode"),E.on("mouseenter"+y,d.event.mouseenter).on("mouseleave"+y,d.event.mouseleave).on("click"+y,d.event.click),C.removeClass(p.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),E.off(y),C.addClass(p.disabled)},setRating:function(t){var n=t-1>=0?t-1:0,i=E.eq(n);C.removeClass(p.hover),E.removeClass(p.hover).removeClass(p.active),t>0&&(d.verbose("Setting current rating to",t),i.addClass(p.active).prevAll().addClass(p.active)),e.proxy(h.onRate,w)(t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},debug:function(){h.debug&&(h.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,h.name+":"),d.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,h.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,a.push({Element:w,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(d.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),o.size()>1&&(t+=" ("+o.size()+")"),(console.group!==i||console.table!==i)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,o,r){var s,a,l;return o=o||u,r=w||r,"string"==typeof t&&_!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(_[r])&&n!=s)_=_[r];else{if(_[r]!==i)return a=_[r],!1;if(!e.isPlainObject(_[o])||n==s)return _[o]!==i?(a=_[o],!1):(d.error(v.method,t),!1);_=_[o]}})),e.isFunction(a)?l=a.apply(r,o):a!==i&&(l=a),e.isArray(n)?n.push(l):n!==i?n=[n,l]:l!==i&&(n=l),a}},c?(_===i&&d.initialize(),d.invoke(l)):(_!==i&&d.destroy(),d.initialize())}),n!==i?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",verbose:!0,debug:!0,performance:!0,initialRating:0,interactive:!0,clearable:!1,onRate:function(){},error:{method:"The method you called is not defined"},metadata:{rating:"rating"},className:{active:"active",disabled:"disabled",hover:"hover",loading:"loading"},selector:{icon:".icon"}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.search=function(n,o){var r,s=e(this),a=s.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1);return e(this).each(function(){var f,p=e.extend(!0,{},e.fn.search.settings,o),g=p.className,m=p.selector,v=p.error,y=p.namespace,b="."+y,w=y+"-module",_=e(this),C=_.find(m.prompt),E=_.find(m.searchButton),A=_.find(m.results),F=(_.find(m.result),_.find(m.category),this),k=_.data(w);f={initialize:function(){f.verbose("Initializing module");var e=C[0],t=e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup";C.on("focus"+b,f.event.focus).on("blur"+b,f.event.blur).on("keydown"+b,f.handleKeyboard),p.automatic&&C.on(t+b,f.search.throttle),E.on("click"+b,f.search.query),A.on("click"+b,m.result,f.results.select),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),k=f,_.data(w,f)},destroy:function(){f.verbose("Destroying instance"),_.removeData(w)},event:{focus:function(){_.addClass(g.focus),f.results.show()},blur:function(){f.search.cancel(),_.removeClass(g.focus),f.results.hide()}},handleKeyboard:function(t){var n,i=_.find(m.result),o=_.find(m.category),r=t.which,s={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40},a=g.active,l=i.index(i.filter("."+a)),c=i.size();if(r==s.escape&&(f.verbose("Escape key pressed, blurring search field"),C.trigger("blur")),A.filter(":visible").size()>0)if(r==s.enter){if(f.verbose("Enter key pressed, selecting active result"),i.filter("."+a).exists())return e.proxy(f.results.select,i.filter("."+a))(),t.preventDefault(),!1}else r==s.upArrow?(f.verbose("Up key pressed, changing active result"),n=0>l-1?l:l-1,o.removeClass(a),i.removeClass(a).eq(n).addClass(a).closest(o).addClass(a),t.preventDefault()):r==s.downArrow&&(f.verbose("Down key pressed, changing active result"),n=l+1>=c?l:l+1,o.removeClass(a),i.removeClass(a).eq(n).addClass(a).closest(o).addClass(a),t.preventDefault());else r==s.enter&&(f.verbose("Enter key pressed, executing query"),f.search.query(),E.addClass(g.down),C.one("keyup",function(){E.removeClass(g.down)}))},search:{cancel:function(){var e=_.data("xhr")||!1;e&&"resolved"!=e.state()&&(f.debug("Cancelling last search"),e.abort())},throttle:function(){var e=C.val(),t=e.length;clearTimeout(f.timer),t>=p.minCharacters?f.timer=setTimeout(f.search.query,p.searchThrottle):f.results.hide()},query:function(){var t=C.val(),i=f.search.cache.read(t);i?(f.debug("Reading result for '"+t+"' from cache"),f.results.add(i)):(f.debug("Querying for '"+t+"'"),"object"==typeof n?f.search.local(t):f.search.remote(t),e.proxy(p.onSearchQuery,_)(t))},local:function(t){var i,o=[],r=[],s=e.isArray(p.searchFields)?p.searchFields:[p.searchFields],a=new RegExp("(?:s|^)"+t,"i"),l=new RegExp(t,"i");_.addClass(g.loading),e.each(s,function(t,i){e.each(n,function(t,n){"string"==typeof n[i]&&-1==e.inArray(n,o)&&-1==e.inArray(n,r)&&(a.test(n[i])?o.push(n):l.test(n[i])&&r.push(n))})}),i=f.results.generate({results:e.merge(o,r)}),_.removeClass(g.loading),f.search.cache.write(t,i),f.results.add(i)},remote:function(t){var i,o={stateContext:_,url:n,urlData:{query:t},success:function(e){i=f.results.generate(e),f.search.cache.write(t,i),f.results.add(i)},failure:f.error};f.search.cancel(),f.debug("Executing search"),e.extend(!0,o,p.apiSettings),e.api(o)},cache:{read:function(e){var t=_.data("cache");return p.cache&&"object"==typeof t&&t[e]!==i?t[e]:!1},write:function(e,t){var n=_.data("cache")!==i?_.data("cache"):{};n[e]=t,_.data("cache",n)}}},results:{generate:function(t){f.debug("Generating html from response",t);var n=p.templates[p.type],i="";return e.isPlainObject(t.results)&&!e.isEmptyObject(t.results)||e.isArray(t.results)&&t.results.length>0?(p.maxResults>0&&(t.results=e.makeArray(t.results).slice(0,p.maxResults)),t.results.length>0&&(e.isFunction(n)?i=n(t):f.error(v.noTemplate,!1))):i=f.message(v.noResults,"empty"),e.proxy(p.onResults,_)(t),i},add:function(t){("default"==p.onResultsAdd||"default"==e.proxy(p.onResultsAdd,A)(t))&&A.html(t),f.results.show()},show:function(){0===A.filter(":visible").size()&&C.filter(":focus").size()>0&&""!==A.html()&&(A.stop().fadeIn(200),e.proxy(p.onResultsOpen,A)())},hide:function(){A.filter(":visible").size()>0&&(A.stop().fadeOut(200),e.proxy(p.onResultsClose,A)())},select:function(n){f.debug("Search result selected");var i=e(this),o=i.find(".title"),r=o.html();if("default"==p.onSelect||"default"==e.proxy(p.onSelect,this)(n)){var s=i.find("a[href]").eq(0),a=s.attr("href")||!1,l=s.attr("target")||!1;f.results.hide(),C.val(r),a&&("_blank"==l||n.ctrlKey?t.open(a):t.location.href=a)}}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){p.debug&&(p.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,p.name+":"),f.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,p.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Element:F,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,100)},display:function(){var t=p.name+":",n=0;l=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),s.size()>1&&(t+=" ("+s.size()+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var s,a,l;return n=n||h,o=F||o,"string"==typeof t&&k!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(k[r])&&n!=s)k=k[r];else{if(k[r]!==i)return a=k[r],!1;if(!e.isPlainObject(k[o])||n==s)return k[o]!==i?(a=k[o],!1):(f.error(v.method,t),!1);k=k[o]}})),e.isFunction(a)?l=a.apply(o,n):a!==i&&(l=a),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),a}},d?(k===i&&f.initialize(),f.invoke(u)):(k!==i&&f.destroy(),f.initialize())}),r!==i?r:this},e.fn.search.settings={name:"Search Module",namespace:"search",debug:!0,verbose:!0,performance:!0,onSelect:"default",onResultsAdd:"default",onSearchQuery:function(){},onResults:function(){},onResultsOpen:function(){},onResultsClose:function(){},automatic:"true",type:"simple",minCharacters:3,searchThrottle:300,maxResults:7,cache:!0,searchFields:["title","description"],apiSettings:{},className:{active:"active",down:"down",focus:"focus",empty:"empty",loading:"loading"},error:{noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",method:"The method you called is not defined."},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result"},templates:{message:function(e,t){var n="";return e!==i&&t!==i&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},categories:function(t){var n="";return t.results!==i?(e.each(t.results,function(t,o){o.results!==i&&o.results.length>0&&(n+='<div class="category"><div class="name">'+o.name+"</div>",e.each(o.results,function(e,t){n+='<div class="result">',n+='<a href="'+t.url+'"></a>',t.image!==i&&(n+='<div class="image"> <img src="'+t.image+'"></div>'),n+='<div class="info">',t.price!==i&&(n+='<div class="price">'+t.price+"</div>"),t.title!==i&&(n+='<div class="title">'+t.title+"</div>"),t.description!==i&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></div>"}),n+="</div>")}),t.resultPage&&(n+='<a href="'+t.resultPage.url+'" class="all">'+t.resultPage.text+"</a>"),n):!1},simple:function(t){var n="";return t.results!==i?(e.each(t.results,function(e,t){n+='<a class="result" href="'+t.url+'">',t.image!==i&&(n+='<div class="image"> <img src="'+t.image+'"></div>'),n+='<div class="info">',t.price!==i&&(n+='<div class="price">'+t.price+"</div>"),t.title!==i&&(n+='<div class="title">'+t.title+"</div>"),t.description!==i&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></a>"}),t.resultPage&&(n+='<a href="'+t.resultPage.url+'" class="all">'+t.resultPage.text+"</a>"),n):!1}}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.shape=function(t){var o,r=e(this),s=e("body"),a=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return r.each(function(){var h,f,p,g=r.selector||"",m=e.extend(!0,{},e.fn.shape.settings,t),v=m.namespace,y=m.selector,b=m.error,w=m.className,_="."+v,C="module-"+v,E=e(this),A=E.find(y.sides),F=E.find(y.side),k=!1,x=this,S=E.data(C);p={initialize:function(){p.verbose("Initializing module for",x),p.set.defaultSide(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),S=p,E.data(C,S)},destroy:function(){p.verbose("Destroying previous module for",x),E.removeData(C).off(_)},refresh:function(){p.verbose("Refreshing selector cache for",x),E=e(x),A=e(this).find(y.shape),F=e(this).find(y.side)},repaint:function(){p.verbose("Forcing repaint event");{var e=A.get(0)||n.createElement("div");e.offsetWidth}},animate:function(t,n){p.verbose("Animating box with properties",t),n=n||function(e){p.verbose("Executing animation callback"),e!==i&&e.stopPropagation(),p.reset(),p.set.active()},e.proxy(m.beforeChange,f[0])(),p.get.transitionEvent()?(p.verbose("Starting CSS animation"),E.addClass(w.animating),p.repaint(),E.addClass(w.animating),h.addClass(w.hidden),A.css(t).one(p.get.transitionEvent(),n),p.set.duration(m.duration)):n()},queue:function(e){p.debug("Queueing animation of",e),A.one(p.get.transitionEvent(),function(){p.debug("Executing queued animation"),setTimeout(function(){E.shape(e)},0)})},reset:function(){p.verbose("Animating states reset"),E.removeClass(w.animating).attr("style","").removeAttr("style"),A.attr("style","").removeAttr("style"),F.attr("style","").removeAttr("style").removeClass(w.hidden),f.removeClass(w.animating).attr("style","").removeAttr("style")},is:{animating:function(){return E.hasClass(w.animating)}},set:{defaultSide:function(){h=E.find("."+m.className.active),f=h.next(y.side).size()>0?h.next(y.side):E.find(y.side).first(),k=!1,p.verbose("Active side set to",h),p.verbose("Next side set to",f)},duration:function(e){e=e||m.duration,e="number"==typeof e?e+"ms":e,p.verbose("Setting animation duration",e),A.add(F).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},stageSize:function(){var e=E.clone().addClass(w.loading),t=e.find("."+m.className.active),n=k?e.find(k):t.next(y.side).size()>0?t.next(y.side):e.find(y.side).first(),i={};t.removeClass(w.active),n.addClass(w.active),e.prependTo(s),i={width:n.outerWidth(),height:n.outerHeight()},e.remove(),E.css(i),p.verbose("Resizing stage to fit new content",i)},nextSide:function(e){k=e,f=E.find(e),0===f.size()&&p.error(b.side),p.verbose("Next side manually set to",f)},active:function(){p.verbose("Setting new side to active",f),F.removeClass(w.active),f.addClass(w.active),e.proxy(m.onChange,f[0])(),p.set.defaultSide()}},flip:{up:function(){p.debug("Flipping up",f),p.is.animating()?p.queue("flip up"):(p.set.stageSize(),p.stage.above(),p.animate(p.get.transform.up()))},down:function(){p.debug("Flipping down",f),p.is.animating()?p.queue("flip down"):(p.set.stageSize(),p.stage.below(),p.animate(p.get.transform.down()))},left:function(){p.debug("Flipping left",f),p.is.animating()?p.queue("flip left"):(p.set.stageSize(),p.stage.left(),p.animate(p.get.transform.left()))},right:function(){p.debug("Flipping right",f),p.is.animating()?p.queue("flip right"):(p.set.stageSize(),p.stage.right(),p.animate(p.get.transform.right()))},over:function(){p.debug("Flipping over",f),p.is.animating()?p.queue("flip over"):(p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.over()))},back:function(){p.debug("Flipping back",f),p.is.animating()?p.queue("flip back"):(p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.back()))}},get:{transform:{up:function(){var e={y:-((h.outerHeight()-f.outerHeight())/2),z:-(h.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((h.outerHeight()-f.outerHeight())/2),z:-(h.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((h.outerWidth()-f.outerWidth())/2),z:-(h.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((h.outerWidth()-f.outerWidth())/2),z:-(h.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((h.outerWidth()-f.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((h.outerWidth()-f.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]},nextSide:function(){return h.next(y.side).size()>0?h.next(y.side):E.find(y.side).first()}},stage:{above:function(){var e={origin:(h.outerHeight()-f.outerHeight())/2,depth:{active:f.outerHeight()/2,next:h.outerHeight()/2}};p.verbose("Setting the initial animation position as above",f,e),h.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(w.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(h.outerHeight()-f.outerHeight())/2,depth:{active:f.outerHeight()/2,next:h.outerHeight()/2}};p.verbose("Setting the initial animation position as below",f,e),h.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(w.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={origin:(h.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:h.outerWidth()/2}};p.verbose("Setting the initial animation position as left",f,e),h.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(w.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-90deg) translateZ("+e.depth.next+"px)"})},right:function(){var e={origin:(h.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:h.outerWidth()/2}};p.verbose("Setting the initial animation position as left",f,e),h.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(w.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(90deg) translateZ("+e.depth.next+"px)"})},behind:function(){var e={origin:(h.outerWidth()-f.outerWidth())/2,depth:{active:f.outerWidth()/2,next:h.outerWidth()/2}};
p.verbose("Setting the initial animation position as behind",f,e),h.css({transform:"rotateY(0deg)"}),f.addClass(w.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){m.debug&&(m.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,m.name+":"),p.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,m.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,l.push({Element:x,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=m.name+":",n=0;a=!1,clearTimeout(p.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",g&&(t+=" '"+g+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var s,a,l;return n=n||d,r=x||r,"string"==typeof t&&S!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(S[r])&&n!=s)S=S[r];else{if(S[r]!==i)return a=S[r],!1;if(!e.isPlainObject(S[o])||n==s)return S[o]!==i?(a=S[o],!1):(p.error(b.method,t),!1);S=S[o]}})),e.isFunction(a)?l=a.apply(r,n):a!==i&&(l=a),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),a}},u?(S===i&&p.initialize(),p.invoke(c)):(S!==i&&p.destroy(),p.initialize())}),o!==i?o:this},e.fn.shape.settings={name:"Shape",debug:!0,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},duration:700,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.sidebar=function(t){var o,r=e(this),s=e("body"),a=e("head"),l=r.selector||"",c=(new Date).getTime(),u=[],d=arguments[0],h="string"==typeof d,f=[].slice.call(arguments,1);return r.each(function(){var p,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.sidebar.settings,t):e.extend({},e.fn.sidebar.settings),m=g.selector,v=g.className,y=g.namespace,b=g.error,w="."+y,_="module-"+y,C=e(this),E=e("style[title="+y+"]"),A=this,F=C.data(_);p={initialize:function(){p.debug("Initializing sidebar",C),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),F=p,C.data(_,p)},destroy:function(){p.verbose("Destroying previous module for",C),C.off(w).removeData(_)},refresh:function(){p.verbose("Refreshing selector cache"),E=e("style[title="+y+"]")},attachEvents:function(t,n){var i=e(t);n=e.isFunction(p[n])?p[n]:p.toggle,i.size()>0?(p.debug("Attaching sidebar events to element",t,n),i.off(w).on("click"+w,n)):p.error(b.notFound)},show:function(t){t=e.isFunction(t)?t:function(){},p.debug("Showing sidebar",t),p.is.closed()?(g.overlay||(g.exclusive&&p.hideAll(),p.pushPage()),p.set.active(),t(),e.proxy(g.onChange,A)(),e.proxy(g.onShow,A)()):p.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},p.debug("Hiding sidebar",t),p.is.open()&&(g.overlay||(p.pullPage(),p.remove.pushed()),p.remove.active(),t(),e.proxy(g.onChange,A)(),e.proxy(g.onHide,A)())},hideAll:function(){e(m.sidebar).filter(":visible").sidebar("hide")},toggle:function(){p.is.closed()?p.show():p.hide()},pushPage:function(){var e=p.get.direction(),t=p.is.vertical()?C.outerHeight():C.outerWidth();g.useCSS?(p.debug("Using CSS to animate body"),p.add.bodyCSS(e,t),p.set.pushed()):p.animatePage(e,t,p.set.pushed)},pullPage:function(){var e=p.get.direction();g.useCSS?(p.debug("Resetting body position css"),p.remove.bodyCSS()):(p.debug("Resetting body position using javascript"),p.animatePage(e,0)),p.remove.pushed()},animatePage:function(e,t){var n={};n["padding-"+e]=t,p.debug("Using javascript to animate body",n),s.animate(n,g.duration,p.set.pushed)},add:{bodyCSS:function(e,t){var n;e!==v.bottom&&(n='<style title="'+y+'">body.pushed {  margin-'+e+": "+t+"px !important;}</style>"),a.append(n),p.debug("Adding body css to head",E)}},remove:{bodyCSS:function(){p.debug("Removing body css styles",E),p.refresh(),E.remove()},active:function(){C.removeClass(v.active)},pushed:function(){p.verbose("Removing body push state",p.get.direction()),s.removeClass(v[p.get.direction()]).removeClass(v.pushed)}},set:{active:function(){C.addClass(v.active)},pushed:function(){p.verbose("Adding body push state",p.get.direction()),s.addClass(v[p.get.direction()]).addClass(v.pushed)}},get:{direction:function(){return C.hasClass(v.top)?v.top:C.hasClass(v.right)?v.right:C.hasClass(v.bottom)?v.bottom:v.left},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]}},is:{open:function(){return C.is(":animated")||C.hasClass(v.active)},closed:function(){return!p.is.open()},vertical:function(){return C.hasClass(v.top)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){g.debug&&(g.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,g.name+":"),p.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,g.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,u.push({Element:A,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=g.name+":",n=0;c=!1,clearTimeout(p.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,r){var s,a,l;return n=n||f,r=A||r,"string"==typeof t&&F!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(F[r])&&n!=s)F=F[r];else{if(F[r]!==i)return a=F[r],!1;if(!e.isPlainObject(F[o])||n==s)return F[o]!==i?(a=F[o],!1):(p.error(b.method,t),!1);F=F[o]}})),e.isFunction(a)?l=a.apply(r,n):a!==i&&(l=a),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),a}},h?(F===i&&p.initialize(),p.invoke(d)):(F!==i&&p.destroy(),p.initialize())}),o!==i?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",verbose:!0,debug:!0,performance:!0,useCSS:!0,exclusive:!0,overlay:!1,duration:300,onChange:function(){},onShow:function(){},onHide:function(){},className:{active:"active",pushed:"pushed",top:"top",left:"left",right:"right",bottom:"bottom"},selector:{sidebar:".ui.sidebar"},error:{method:"The method you called is not defined.",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.tab=function(n){var o,r,s,a,l,c=e.extend(!0,{},e.fn.tab.settings,n),u=e(this),d=e(c.context).find(c.selector.tabs),h=u.selector||"",f={},p=!0,g=0,m=this,v=(new Date).getTime(),y=[],b=c.className,w=c.metadata,_=c.error,C="."+c.namespace,E="module-"+c.namespace,A=u.data(E),F=arguments[0],k=A!==i&&"string"==typeof F,x=[].slice.call(arguments,1);return a={initialize:function(){if(a.debug("Initializing Tabs",u),c.auto&&(a.verbose("Setting up automatic tab retrieval from server"),c.apiSettings={url:c.path+"/{$tab}"}),c.history){if(a.debug("Initializing page state"),e.address===i)return a.error(_.state),!1;if("html5"==c.historyType){if(a.debug("Using HTML5 to manage state"),c.path===!1)return a.error(_.path),!1;e.address.history(!0).state(c.path)}e.address.unbind("change").bind("change",a.event.history.change)}e.isWindow(m)||(a.debug("Attaching tab activation events to element",u),u.on("click"+C,a.event.click)),a.instantiate()},instantiate:function(){a.verbose("Storing instance of module",a),u.data(E,a)},destroy:function(){a.debug("Destroying tabs",u),u.removeData(E).off(C)},event:{click:function(t){var n=e(this).data(w.tab);n!==i?(c.history?(a.verbose("Updating page state",t),e.address.value(n)):(a.verbose("Changing tab without state management",t),a.changeTab(n)),t.preventDefault()):a.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||a.get.initialPath(),o=c.templates.determineTitle(n)||!1;a.debug("History change event",n,t),s=t,n!==i&&a.changeTab(n),o&&e.address.title(o)}}},refresh:function(){o&&(a.debug("Refreshing tab",o),a.changeTab(o))},cache:{read:function(e){return e!==i?f[e]:!1},add:function(e,t){e=e||o,a.debug("Adding cached content for",e),f[e]=t},remove:function(e){e=e||o,a.debug("Removing cached content for",e),delete f[e]}},set:{state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,l=i&&c.ignoreFirstLoad&&p,u=c.auto||e.isPlainObject(c.apiSettings),d=u&&!l?a.utilities.pathToArray(n):a.get.defaultPathArray(n);n=a.utilities.arrayToPath(d),a.deactivate.all(),e.each(d,function(t,i){var h,f,g,m=d.slice(0,t+1),v=a.utilities.arrayToPath(m),y=a.is.tab(v),b=t+1==d.length,w=a.get.tabElement(v);return a.verbose("Looking for tab",i),y?(a.verbose("Tab was found",i),o=v,r=a.utilities.filterArray(d,m),b?g=!0:(h=d.slice(0,t+2),f=a.utilities.arrayToPath(h),g=!a.is.tab(f),g&&a.verbose("Tab parameters found",h)),g&&u?(l?(a.debug("Ignoring remote content on first tab load",v),p=!1,a.cache.add(n,w.html()),a.activate.all(v),e.proxy(c.onTabInit,w)(v,r,s),e.proxy(c.onTabLoad,w)(v,r,s)):(a.activate.navigation(v),a.content.fetch(v,n)),!1):(a.debug("Opened local tab",v),a.activate.all(v),a.cache.read(v)||(a.cache.add(v,!0),a.debug("First time tab loaded calling tab init"),e.proxy(c.onTabInit,w)(v,r,s)),e.proxy(c.onTabLoad,w)(v,r,s),void 0)):(a.error(_.missingTab,i),!1)})},content:{fetch:function(t,n){var l,u,d=a.get.tabElement(t),h={dataType:"html",stateContext:d,success:function(i){a.cache.add(n,i),a.content.update(t,i),t==o?(a.debug("Content loaded",t),a.activate.tab(t)):a.debug("Content loaded in background",t),e.proxy(c.onTabInit,d)(t,r,s),e.proxy(c.onTabLoad,d)(t,r,s)},urlData:{tab:n}},f=d.data(w.promise)||!1,p=f&&"pending"===f.state();n=n||t,u=a.cache.read(n),c.cache&&u?(a.debug("Showing existing content",n),a.content.update(t,u),a.activate.tab(t),e.proxy(c.onTabLoad,d)(t,r,s)):p?(a.debug("Content is already loading",n),d.addClass(b.loading)):e.api!==i?(console.log(c.apiSettings),l=e.extend(!0,{headers:{"X-Remote":!0}},c.apiSettings,h),a.debug("Retrieving remote content",n,l),e.api(l)):a.error(_.api)},update:function(e,t){a.debug("Updating html for",e);var n=a.get.tabElement(e);n.html(t)}},activate:{all:function(e){a.activate.tab(e),a.activate.navigation(e)},tab:function(e){var t=a.get.tabElement(e);a.verbose("Showing tab content for",t),t.addClass(b.active)},navigation:function(e){var t=a.get.navElement(e);a.verbose("Activating tab navigation for",t,e),t.addClass(b.active)}},deactivate:{all:function(){a.deactivate.navigation(),a.deactivate.tabs()},navigation:function(){u.removeClass(b.active)},tabs:function(){d.removeClass(b.active+" "+b.loading)}},is:{tab:function(e){return e!==i?a.get.tabElement(e).size()>0:!1}},get:{initialPath:function(){return u.eq(0).data(w.tab)||d.eq(0).data(w.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return a.utilities.pathToArray(a.get.defaultPath(e))},defaultPath:function(e){var t=u.filter("[data-"+w.tab+'^="'+e+'/"]').eq(0),n=t.data(w.tab)||!1;if(n){if(a.debug("Found default tab",n),g<c.maxDepth)return g++,a.get.defaultPath(n);a.error(_.recursion)}else a.debug("No default tabs found for",e,d);return g=0,e},navElement:function(e){return e=e||o,u.filter("[data-"+w.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,r;return e=e||o,i=a.utilities.pathToArray(e),r=a.utilities.last(i),t=d.filter("[data-"+w.tab+'="'+r+'"]'),n=d.filter("[data-"+w.tab+'="'+e+'"]'),t.size()>0?t:n},tab:function(){return o}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===i&&(e=o),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join("/"):!1}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,c,t);else{if(n===i)return c[t];c[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},debug:function(){c.debug&&(c.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,c.name+":"),a.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,c.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;c.performance&&(t=(new Date).getTime(),i=v||t,n=t-i,v=t,y.push({Element:m,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,100)},display:function(){var t=c.name+":",n=0;v=!1,clearTimeout(a.performance.timer),e.each(y,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",h&&(t+=" '"+h+"'"),(console.group!==i||console.table!==i)&&y.length>0&&(console.groupCollapsed(t),console.table?console.table(y):e.each(y,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),y=[]}},invoke:function(t,n,o){var r,s,c;return n=n||x,o=m||o,"string"==typeof t&&A!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var l=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(A[o])&&n!=r)A=A[o];else{if(!e.isPlainObject(A[l])||n==r)return A[o]!==i?(s=A[o],!1):A[l]!==i?(s=A[l],!1):(a.error(_.method,t),!1);A=A[l]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(l)?l.push(c):l!==i?l=[l,c]:c!==i&&(l=c),s}},k?(A===i&&a.initialize(),a.invoke(F)):(A!==i&&a.destroy(),a.initialize()),l!==i?l:this},e.tab=function(n){e(t).tab(n)},e.fn.tab.settings={name:"Tab",verbose:!0,debug:!0,performance:!0,namespace:"tab",onTabInit:function(){},onTabLoad:function(){},templates:{determineTitle:function(){}},auto:!1,history:!0,historyType:"hash",path:!1,context:"body",maxDepth:25,ignoreFirstLoad:!1,alwaysRefresh:!1,cache:!0,apiSettings:!1,error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Tab cannot be found",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"The state library has not been initialized"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab"}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.transition=function(){{var o,r=e(this),s=r.selector||"",a=(new Date).getTime(),l=[],c=arguments,u=c[0],d=[].slice.call(arguments,1),h="string"==typeof u;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)}}return r.each(function(){var t,f,p,g,m,v,y,b,w,_,C=e(this),E=this;_={initialize:function(){t=_.get.settings.apply(E,c),_.verbose("Converted arguments into settings object",t),p=t.error,g=t.className,b=t.namespace,m=t.metadata,w="module-"+b,v=_.get.animationEvent(),y=_.get.animationName(),f=C.data(w),f===i&&_.instantiate(),h&&(h=_.invoke(u)),h===!1&&_.animate()},instantiate:function(){_.verbose("Storing instance of module",_),f=_,C.data(w,f)},destroy:function(){_.verbose("Destroying previous module for",E),C.removeData(w)},animate:function(e){return t=e||t,_.is.supported()?(_.debug("Preparing animation",t.animation),_.is.animating()?(t.queue&&_.queue(t.animation),!1):(_.save.conditions(),_.set.duration(t.duration),_.set.animating(),_.repaint(),C.addClass(g.transition).addClass(t.animation).one(v,_.complete),!_.has.direction()&&_.can.transition()&&_.set.direction(),_.has.transitionAvailable()?(_.show(),_.debug("Starting tween",t.animation,C.attr("class")),void 0):(_.restore.conditions(),_.error(p.noAnimation),!1))):(_.error(p.support),!1)},queue:function(e){_.debug("Queueing animation of",e),f.queuing=!0,C.one(v,function(){f.queuing=!1,_.animate.apply(this,t)})},complete:function(){_.verbose("CSS animation complete",t.animation),_.is.looping()||(C.hasClass(g.outward)?(_.restore.conditions(),_.hide(),e.proxy(t.onHide,this)()):C.hasClass(g.inward)?(_.restore.conditions(),_.show(),e.proxy(t.onShow,this)()):_.restore.conditions(),_.remove.animating()),e.proxy(t.complete,this)()},repaint:function(e){_.verbose("Forcing repaint event"),e=E.offsetWidth},has:{direction:function(e){return e=e||t.animation,C.hasClass(g.inward)||C.hasClass(g.outward)?!0:void 0},transitionAvailable:function(){return"none"!==C.css(y)?(_.debug("CSS definition found"),!0):(_.debug("Unable to find css definition"),!1)}},set:{animating:function(){C.addClass(g.animating)},direction:function(){C.is(":visible")?(_.debug("Automatically determining the direction of animation","Outward"),C.addClass(g.outward).removeClass(g.inward)):(_.debug("Automatically determining the direction of animation","Inward"),C.addClass(g.inward).removeClass(g.outward))},looping:function(){_.debug("Transition set to loop"),C.addClass(g.looping)},duration:function(e){e=e||t.duration,e="number"==typeof e?e+"ms":e,_.verbose("Setting animation duration",e),C.css({"-webkit-animation-duration":e,"-moz-animation-duration":e,"-ms-animation-duration":e,"-o-animation-duration":e,"animation-duration":e})}},save:{conditions:function(){_.cache={className:C.attr("class"),style:C.attr("style")},_.verbose("Saving original attributes",_.cache)}},restore:{conditions:function(){return typeof _.cache===i?(_.error(p.cache),!1):(_.cache.className?C.attr("class",_.cache.className):C.removeAttr("class"),_.cache.style?C.attr("style",_.cache.style):C.removeAttr("style"),_.is.looping()&&_.remove.looping(),_.verbose("Restoring original attributes",_.cache),void 0)}},remove:{animating:function(){C.removeClass(g.animating)},looping:function(){_.debug("Transitions are no longer looping"),C.removeClass(g.looping),_.repaint()}},get:{settings:function(t,n,i){return e.isPlainObject(t)?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend(!0,{},e.fn.transition.settings,{animation:t,complete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend(!0,{},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend(!0,{},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend(!0,{},e.fn.transition.settings,{animation:t,complete:n}):e.extend(!0,{},e.fn.transition.settings,{animation:t})},animationName:function(){var e,t=n.createElement("div"),o={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"};for(e in o)if(t.style[e]!==i)return _.verbose("Determined animation vendor name property",o[e]),o[e];return!1},animationEvent:function(){var e,t=n.createElement("div"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in o)if(t.style[e]!==i)return _.verbose("Determined animation vendor end event",o[e]),o[e];return!1}},can:{transition:function(){var t=e("<div>").addClass(C.attr("class")).appendTo(e("body")),n=t.css(y),i=t.addClass(g.inward).css(y);return n!=i?(_.debug("In/out transitions exist"),t.remove(),!0):(_.debug("Static animation found"),t.remove(),!1)}},is:{animating:function(){return C.hasClass(g.animating)},looping:function(){return C.hasClass(g.looping)},visible:function(){return C.is(":visible")},supported:function(){return y!==!1&&v!==!1}},hide:function(){_.verbose("Hiding element"),C.removeClass(g.visible).addClass(g.transition).addClass(g.hidden),_.repaint()},show:function(){_.verbose("Showing element"),C.removeClass(g.hidden).addClass(g.transition).addClass(g.visible),_.repaint()},start:function(){_.verbose("Starting animation"),C.removeClass(g.disabled)},stop:function(){_.debug("Stopping animation"),C.addClass(g.disabled)},toggle:function(){_.debug("Toggling play status"),C.toggleClass(g.disabled)},setting:function(n,o){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(n===i)return _[t];_[t]=n}},debug:function(){t.debug&&(t.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,t.name+":"),_.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),_.verbose.apply(console,arguments)))},error:function(){_.error=Function.prototype.bind.call(console.error,console,t.name+":"),_.error.apply(console,arguments)},performance:{log:function(e){var n,i,o;t.performance&&(n=(new Date).getTime(),o=a||n,i=n-o,a=n,l.push({Element:E,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,100)},display:function(){var n=t.name+":",o=0;a=!1,clearTimeout(_.performance.timer),e.each(l,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",s&&(n+=" '"+s+"'"),r.size()>1&&(n+=" ("+r.size()+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(n),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var s,a,l;return n=n||d,r=E||r,"string"==typeof t&&f!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(f[r])&&n!=s)f=f[r];else{if(f[r]!==i)return a=f[r],!1;if(!e.isPlainObject(f[o])||n==s)return f[o]!==i?(a=f[o],!1):!1;f=f[o]}})),e.isFunction(a)?l=a.apply(r,n):a!==i&&(l=a),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),a||!1}},_.initialize()}),o!==i?o:this},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",complete:function(){},onShow:function(){},onHide:function(){},animation:"fade",duration:"700ms",queue:!0,className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"ui transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document)}.call(this),function(){!function(e,t,n,i){e.fn.video=function(t){var n,o=e(this),r=o.selector||"",s=(new Date).getTime(),a=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return o.each(function(){var d,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.video.settings,t):e.extend({},e.fn.video.settings),f=h.selector,p=h.className,g=h.error,m=h.metadata,v=h.namespace,y="."+v,b="module-"+v,w=e(this),_=w.find(f.placeholder),C=w.find(f.playButton),E=w.find(f.embed),A=this,F=w.data(b);d={initialize:function(){d.debug("Initializing video"),_.on("click"+y,d.play),C.on("click"+y,d.play),d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",d),F=d,w.data(b,d)},destroy:function(){d.verbose("Destroying previous instance of video"),w.removeData(b).off(y),_.off(y),C.off(y)},change:function(e,t,n){d.debug("Changing video to ",e,t,n),w.data(m.source,e).data(m.id,t).data(m.url,n),h.onChange()},reset:function(){d.debug("Clearing video embed and showing placeholder"),w.removeClass(p.active),E.html(" "),_.show(),h.onReset()},play:function(){d.debug("Playing video");var e=w.data(m.source)||!1,t=w.data(m.url)||!1,n=w.data(m.id)||!1;E.html(d.generate.html(e,n,t)),w.addClass(p.active),h.onPlay()},generate:{html:function(e,t,n){d.debug("Generating embed html");var i,o="auto"==h.width?w.width():h.width,r="auto"==h.height?w.height():h.height;return e&&t?"vimeo"==e?i='<iframe src="http://player.vimeo.com/video/'+t+"?="+d.generate.url(e)+'" width="'+o+'" height="'+r+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==e&&(i='<iframe src="http://www.youtube.com/embed/'+t+"?="+d.generate.url(e)+'" width="'+o+'" height="'+r+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):n?i='<iframe src="'+n+'" width="'+o+'" height="'+r+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':d.error(g.noVideo),i},url:function(e){var t=h.api?1:0,n=h.autoplay?1:0,i=h.hd?1:0,o=h.showUI?1:0,r=h.showUI?0:1,s="";return"vimeo"==e&&(s="api="+t+"&amp;title="+o+"&amp;byline="+o+"&amp;portrait="+o+"&amp;autoplay="+n,h.color&&(s+="&amp;color="+h.color)),"ustream"==e?(s="autoplay="+n,h.color&&(s+="&amp;color="+h.color)):"youtube"==e&&(s="enablejsapi="+t+"&amp;autoplay="+n+"&amp;autohide="+r+"&amp;hq="+i+"&amp;modestbranding=1",h.color&&(s+="&amp;color="+h.color)),s}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},debug:function(){h.debug&&(h.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,h.name+":"),d.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,h.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,a.push({Element:A,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,100)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(d.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),o.size()>1&&(t+=" ("+o.size()+")"),(console.group!==i||console.table!==i)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,o,r){var s,a,l;return o=o||u,r=A||r,"string"==typeof t&&F!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(F[r])&&n!=s)F=F[r];else{if(F[r]!==i)return a=F[r],!1;if(!e.isPlainObject(F[o])||n==s)return F[o]!==i?(a=F[o],!1):(d.error(g.method,t),!1);F=F[o]}})),e.isFunction(a)?l=a.apply(r,o):a!==i&&(l=a),e.isArray(n)?n.push(l):n!==i?n=[n,l]:l!==i&&(n=l),a}},c?(F===i&&d.initialize(),d.invoke(l)):(F!==i&&d.destroy(),d.initialize())}),n!==i?n:this},e.fn.video.settings={name:"Video",namespace:"video",debug:!0,verbose:!0,performance:!0,metadata:{source:"source",id:"id",url:"url"},onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:!1,color:"#442359",hd:!0,showUI:!1,api:!0,error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}}}(jQuery,window,document)}.call(this),"undefined"==typeof Package&&(Package={}),Package["semantic-ui"]={}}(),function(){Package.meteor.Meteor,Package.random.Random,Package["service-configuration"].ServiceConfiguration,Package.oauth.Oauth;"undefined"==typeof Package&&(Package={}),Package.oauth1={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["handlebars-server"]={}}(),function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.random.Random,i=Package.minimongo.LocalCollection,o=(Package.minimongo.Minimongo,Package.ejson.EJSON),r=Package.deps.Deps;(function(){"use strict";var s={};s.connection=e.connection||e.default_connection,s.idParse=i&&i._idParse||e.idParse,s.subscriptionsReady=!1,s.subscriptionsReadyDeps=new r.Dependency,window.Meteor=e,window.console=window&&window.console&&window.console.log?window.console:{log:function(){}},s._isReloading=!1,s._storage=function(){var e,t,i;try{i=n.id(),(e=window.localStorage).setItem(i,i),t=e.getItem(i)!==i,e.removeItem(i),t&&(e=!1)}catch(o){}return e},s.storage=s._storage(),s._prefix="groundDB.",s._getGroundDBPrefix=function(e){return s._prefix+e},s._saveObject=function(e,t){if(s.storage&&s._isReloading===!1){var n=o.minify(t);try{s.storage.setItem(s._getGroundDBPrefix(e),n)}catch(i){a.onQuotaExceeded()}}},s._loadObject=function(e){if(s.storage){var t=s.storage.getItem(s._getGroundDBPrefix(e));return o.maxify(t)}return null},s.minify=function(e){return o.stringify(e)},s.maxify=function(e){return o.parse(e)},s.OneTimeout=function(){var t=this;t._id=null,t.oneTimeout=function(n,i){t._count++,null!==t._id&&e.clearTimeout(t._id),t._id=e.setTimeout(function(){t._id=null,n()},i)}},s._serverTimeDiff=0,s.storage&&(s._serverTimeDiff=1*s.storage.getItem(s._prefix+"timeDiff")||0,e.startup(function(){e.call("getServerTime",function(e,t){e||(s._serverTimeDiff=t-Date.now(),s.storage.setItem(s._prefix+"timeDiff",s._serverTimeDiff))})})),s._groundDatabases={};var a=function(n,i){var o;if(n===""+n||null===n||"undefined"==typeof n)o=new e.Collection(n,i);else if(n instanceof e.Collection)o=n;else{if(!(n._localCollection instanceof e.Collection))throw new Error("GroundDB got an invalid name or collection");o=n._localCollection,o.name=n.name}o.offlineDatabase=!1,o.name=o.name?o.name:o._name,null===o.name&&(o.name="string"==typeof i&&""!==i?i:"null",o.offlineDatabase=!0),s._groundDatabases[o.name]=o,o.gdbSuper={},o._connection&&o._connection._stores[o.name]&&(o.gdbSuper.storeUpdate=o._connection._stores[o.name].update,o._connection._stores[o.name].update=function(e){if("added"===e.msg){var t=s.idParse(e.id),n=o._collection.findOne(t);n&&(delete o._localOnly[t],o._collection.remove(n._id))}o.gdbSuper.storeUpdate(e)}),o._databaseLoaded=!1,o._localOnly={},o._remoteLocalOnly=function(){t.each(o._localOnly,function(e,t){e&&(o._collection.remove({_id:t}),delete o._localOnly[t])})},e.autorun(function(){a.ready()&&o._remoteLocalOnly()}),o._checkDocs=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n],r=e[o];t[o]=r}return t},o._loadDatabase=function(){a.onResumeDatabase(o.name);
var e=s._loadObject("db."+o.name);"feed"==o.name,t.each(o._checkDocs(e?e:{}),function(e){var t=o._collection.findOne({_id:e._id});t||(o._localOnly[e._id]=!0,o._collection.insert(e))}),o._databaseLoaded=!0};var l=new s.OneTimeout,c=new r.Dependency,u=function(){c.changed()};return o._saveDatabase=function(){o._databaseLoaded&&l.oneTimeout(function(){a.onCacheDatabase(o.name),s._saveObject("db."+o.name,o._collection.docs)},200)},o.find().observe({added:u,changed:u,removed:u}),e.autorun(function(){c.depend(),o._saveDatabase()}),o._loadDatabase(),o};window.GroundDB=a,a.onQuotaExceeded=function(){throw new Error("Quota exceeded!")},a.onResumeDatabase=function(){},a.onResumeMethods=function(){},a.onMethodCall=function(){},a.onCacheDatabase=function(){},a.onCacheMethods=function(){},a.onTabSync=function(){},a.ready=function(){return s.subscriptionsReadyDeps.depend(),s.subscriptionsReady},a.now=function(){return Date.now()+s._serverTimeDiff},s._methodsResumed=!1,s._getMethodsList=function(){var e=[],n={login:!0,getServerTime:!0};return t.each(s.connection._methodInvokers,function(t){n[t._message.method]||e.push({method:t._message.method,args:t._message.params,options:{wait:t._wait}})}),e},s._getMethodUpdates=function(e){var t=[];if(e&&e.length>0)for(var n=s._getMethodsList(),i=0;i<e.length;i++)if(i<n.length){if(o.stringify(n[i])!==o.stringify(e[i]))throw new Error("The method database is corrupted or out of sync")}else t.push(e[i]),a.onMethodCall(e[i]);return t},s._loadMethods=function(){var e=s._loadObject("methods");if(e=s._getMethodUpdates(e))for(;e.length>0;){var t=e.shift(),n=t.method.split("/"),i=n.length>2?n[2]:n[1],o=n.length>2?n[1]:"";n=""+n;var r=0;if(("_si_"===n||"_su_"===n||"_sr_"===n)&&(i=n,o=t.args[0],r++),""!==o&&s._groundDatabases[o]){var l=s.idParse(t.args&&t.args[r]?t.args[r]._id||t.args[r]:""),c=s._groundDatabases[o]._collection.findOne(l);c?("insert"===i&&s._groundDatabases[o]._collection.remove(l),"_su_"===i&&s._groundDatabases[o]._collection.update({_id:l},t.args[r+1]),"_sr_"===i&&s._groundDatabases[o]._collection.remove(t.args[r])):"_si_"===i&&s._groundDatabases[o]._collection.insert(t.args[r])}s.connection.apply(t.method,t.args,t.options)}s._methodsResumed=!0,a.onResumeMethods()},s._saveMethods=function(){s._methodsResumed&&(a.onCacheMethods(),s._saveObject("methods",s._getMethodsList()))},e.setInterval(function(){var t=!0;for(var n in e.default_connection._subscriptions){var i=e.default_connection._subscriptions[n];if(!i.ready){t=!1;break}}t!==s.subscriptionsReady&&(s.subscriptionsReady=t,s.subscriptionsReadyDeps.changed())},5e3),e.startup(function(){e.setTimeout(function(){s._loadMethods()},500)});var l=new s.OneTimeout;s._syncDatabase=function(e){l.oneTimeout(function(){var n=s._groundDatabases[e];if(n&&n.offlineDatabase===!0){a.onTabSync("database",e);var i=s._loadObject("db."+e);n.find().forEach(function(e){n._collection.remove(e._id),"undefined"!=typeof i[e._id]&&(n._collection.insert(i[e._id]),delete i[e._id])}),t.each(i,function(e){n._collection.insert(e)})}},150)};var c=new s.OneTimeout;s._syncMethods=function(){s._isReloading=!0,c.oneTimeout(function(){a.onTabSync("methods"),s._loadMethods(),s._isReloading=!1},150)},t.extend(s.connection,{_gdbSuper:{apply:s.connection.apply,_outstandingMethodFinished:s.connection._outstandingMethodFinished},apply:function(){var e=this;e._gdbSuper.apply.apply(e,arguments),s._saveMethods()},_outstandingMethodFinished:function(){var e=this;e._gdbSuper._outstandingMethodFinished.apply(e),s._saveMethods()}}),window.addEventListener("storage",function(e){var t=new RegExp("^"+s._prefix+"db.");e.key===s._prefix+"methods"&&s._syncMethods("mehods"),t.test(e.key)&&s._syncDatabase(e.key.replace(t,""))},!1)}).call(this),"undefined"==typeof Package&&(Package={}),Package.groundDB={}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.underscore._,i=Package.handlebars.Handlebars;Package["accounts-base"].Accounts}(function(){!function(){t.roles||(t.roles=new t.Collection("roles")),"undefined"==typeof e&&(e={});var i="Roles error: Can't mix grouped and non-grouped roles for same user";n.extend(e,{GLOBAL_GROUP:"__global_roles__",createRole:function(e){var n,i;if(e&&"string"==typeof e&&0!==e.trim().length)try{return n=t.roles.insert({name:e.trim()})}catch(o){if("MongoError"!==o.name)throw o;if(i=o.err.match(/^E11000 duplicate key error index: ([^ ]+)/),!i)throw o;if(-1!==i[1].indexOf("$name"))throw new t.Error(403,"Role already exists.");throw o}},deleteRole:function(e){if(e){var n=t.users.findOne({roles:{$in:[e]}},{fields:{_id:1}});if(n)throw new t.Error(403,"Role in use");var i=t.roles.findOne({name:e});i&&t.roles.remove({_id:i._id})}},addUsersToRoles:function(t,n,i){e._updateUserRoles(t,n,i,e._update_$addToSet_fn)},setUserRoles:function(t,n,i){e._updateUserRoles(t,n,i,e._update_$set_fn)},removeUsersFromRoles:function(e,o,r){var s;if(!e)throw new Error("Missing 'users' param");if(!o)throw new Error("Missing 'roles' param");if(r){if("string"!=typeof r)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===r[0])throw new Error("Roles error: groups can not start with '$'");r=r.replace(".","_")}n.isArray(e)||(e=[e]),n.isArray(o)||(o=[o]),e=n.reduce(e,function(e,t){var n;return"string"==typeof t?e.push(t):"object"==typeof t&&(n=t._id,"string"==typeof n&&e.push(n)),e},[]),r?(s={$pullAll:{}},s.$pullAll["roles."+r]=o):s={$pullAll:{roles:o}};try{t.isClient?n.each(e,function(e){t.users.update({_id:e},s)}):t.users.update({_id:{$in:e}},s,{multi:!0})}catch(a){var l="Cannot apply $pull/$pullAll modifier to non-array";if("MongoError"===a.name&&a.err===l)throw new Error(i);throw a}},userIsInRole:function(i,o,r){var s,a,l,c,u=!1;if(n.isArray(o)||(o=[o]),!i)return!1;if(r){if("string"!=typeof r)return!1;if("$"===r[0])return!1;r=r.replace(".","_")}if("object"==typeof i){if(a=i.roles,n.isArray(a))return n.some(o,function(e){return n.contains(a,e)});if("object"==typeof a)return u=n.isArray(a[r])&&n.some(o,function(e){return n.contains(a[r],e)}),u||(u=n.isArray(a[e.GLOBAL_GROUP])&&n.some(o,function(t){return n.contains(a[e.GLOBAL_GROUP],t)})),u;s=i._id}else"string"==typeof i&&(s=i);return s?(l={_id:s,$or:[]},c={},c["roles."+e.GLOBAL_GROUP]={$in:o},l.$or.push(c),r?(c={},c["roles."+r]={$in:o},l.$or.push(c)):l.$or.push({roles:{$in:o}}),u=t.users.findOne(l,{fields:{_id:1}}),u?!0:!1):!1},getRolesForUser:function(i,o){if(!i)return[];if(o){if("string"!=typeof o)return[];if("$"===o[0])return[];o=o.replace(".","_")}if("string"==typeof i)i=t.users.findOne({_id:i},{fields:{roles:1}});else if("object"!=typeof i)return[];return i&&i.roles?o?n.union(i.roles[o]||[],i.roles[e.GLOBAL_GROUP]||[]):n.isArray(i.roles)?i.roles:i.roles[e.GLOBAL_GROUP]||[]:[]},getAllRoles:function(){return t.roles.find({},{sort:{name:1}})},getUsersInRole:function(i,o){var r,s,a=i;if(n.isArray(a)||(a=[a]),o){if("string"!=typeof o)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===o[0])throw new Error("Roles error: groups can not start with '$'");o=o.replace(".","_")}return r={$or:[]},s={},s["roles."+e.GLOBAL_GROUP]={$in:a},r.$or.push(s),o?(s={},s["roles."+o]={$in:a},r.$or.push(s)):r.$or.push({roles:{$in:a}}),t.users.find(r)},_update_$set_fn:function(e,t){var n={};return t?(n.$set={},n.$set["roles."+t]=e):n.$set={roles:e},n},_update_$addToSet_fn:function(e,t){var n={};return t?(n.$addToSet={},n.$addToSet["roles."+t]={$each:e}):n.$addToSet={roles:{$each:e}},n},_updateUserRoles:function(o,r,s,a){if(!o)throw new Error("Missing 'users' param");if(!r)throw new Error("Missing 'roles' param");if(s){if("string"!=typeof s)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===s[0])throw new Error("Roles error: groups can not start with '$'");s=s.replace(".","_")}var l,c;n.isArray(o)||(o=[o]),n.isArray(r)||(r=[r]),r=n.reduce(r,function(e,t){return t&&"string"==typeof t&&t.trim().length>0&&e.push(t.trim()),e},[]),l=n.reduce(t.roles.find({}).fetch(),function(e,t){return e[t.name]=!0,e},{}),n.each(r,function(t){l[t]||e.createRole(t)}),o=n.reduce(o,function(e,t){var n;return"string"==typeof t?e.push(t):"object"==typeof t&&(n=t._id,"string"==typeof n&&e.push(n)),e},[]),c=a(r,s);try{t.isClient?n.each(o,function(e){t.users.update({_id:e},c)}):t.users.update({_id:{$in:o}},c,{multi:!0})}catch(u){var d="Cannot apply $addToSet modifier to non-array",h="can't append to array using string field name";if("MongoError"===u.name&&(u.err===d||u.err.substring(0,45)===h))throw new Error(i);throw u}}})}()}).call(this),function(){!function(){e._handlebarsHelpers={isInRole:function(i,o){var r,s=t.user(),a=(i||"").indexOf(",");return s?Match.test(i,String)?(r=-1!==a?n.reduce(i.split(","),function(e,t){return t&&t.trim()?(e.push(t.trim()),e):e},[]):[i],Match.test(o,String)?e.userIsInRole(s,r,o):e.userIsInRole(s,r)):!1:!1}},"undefined"!=typeof i?n.each(e._handlebarsHelpers,function(e,t){i.registerHelper(t,e)}):console.log("WARNING: Roles Handlebars helpers not registered. Handlebars not defined")}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.roles={Roles:e}}(),function(){Package.meteor.Meteor;(function(){!function(e){"use strict";var t=function(e){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid url.",number:"This value should be a valid number.",digits:"This value should be digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric.",phone:"This value should be a valid phone number."},notnull:"This value should not be null.",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",rangelength:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",rangecheck:"You must select between %s and %s choices.",equalto:"This value should be the same."},this.init(e)};t.prototype={constructor:t,validators:{notnull:function(e){return e.length>0},notblank:function(e){return"string"==typeof e&&""!==e.replace(/^\s+/g,"").replace(/\s+$/g,"")},required:function(e){if("object"==typeof e){for(var t in e)if(this.required(e[t]))return!0;return!1}return this.notnull(e)&&this.notblank(e)},type:function(e,t){var n;switch(t){case"number":n=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":n=/^\d+$/;break;case"alphanum":n=/^\w+$/;break;case"email":n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))){2,6}$/i;break;case"url":e=new RegExp("(https?|s?ftp|git)","i").test(e)?e:"http://"+e;case"urlstrict":n=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":n=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"phone":n=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return!1}return""!==e?n.test(e):!1},regexp:function(e,t,n){return new RegExp(t,n.options.regexpFlag||"").test(e)},minlength:function(e,t){return e.length>=t},maxlength:function(e,t){return e.length<=t},rangelength:function(e,t){return this.minlength(e,t[0])&&this.maxlength(e,t[1])},min:function(e,t){return Number(e)>=t},max:function(e,t){return Number(e)<=t},range:function(e,t){return e>=t[0]&&e<=t[1]},equalto:function(t,n,i){return i.options.validateIfUnchanged=!0,t===e(n).val()},remote:function(t,n,i){var o=null,r={},s={};r[i.$element.attr("name")]=t,"undefined"!=typeof i.options.remoteDatatype&&(s={dataType:i.options.remoteDatatype});var a=function(t,n){"undefined"!=typeof n&&"undefined"!=typeof i.Validator.messages.remote&&n!==i.Validator.messages.remote&&e(i.ulError+" .remote").remove(),i.updtConstraint({name:"remote",valid:t},n),i.manageValidationResult()},l=function(t){if("object"==typeof t)return t;try{t=e.parseJSON(t)}catch(n){}return t},c=function(e){return"object"==typeof e&&null!==e?"undefined"!=typeof e.error?e.error:"undefined"!=typeof e.message?e.message:null:null};return e.ajax(e.extend({},{url:n,data:r,type:i.options.remoteMethod||"GET",success:function(e){e=l(e),a(1===e||!0===e||"object"==typeof e&&null!==e&&"undefined"!=typeof e.success,c(e))},error:function(e){e=l(e),a(!1,c(e))}},s)),o},mincheck:function(e,t){return this.minlength(e,t)},maxcheck:function(e,t){return this.maxlength(e,t)},rangecheck:function(e,t){return this.rangelength(e,t)}},init:function(e){var t,n=e.validators,i=e.messages;for(t in n)this.addValidator(t,n[t]);for(t in i)this.addMessage(t,i[t])},formatMesssage:function(e,t){if("object"==typeof t){for(var n in t)e=this.formatMesssage(e,t[n]);return e}return"string"==typeof e?e.replace(new RegExp("%s","i"),t):""},addValidator:function(e,t){this.validators[e]=t},addMessage:function(e,t,n){if("undefined"!=typeof n&&!0===n)return this.messages.type[e]=t,void 0;if("type"!==e)this.messages[e]=t;else for(var i in t)this.messages.type[i]=t[i]}};var n=function(e,n,i){return this.options=n,this.Validator=new t(n),"ParsleyFieldMultiple"===i?this:(this.init(e,i||"ParsleyField"),void 0)};n.prototype={constructor:n,init:function(t,n){this.type=n,this.valid=!0,this.element=t,this.validatedOnce=!1,this.$element=e(t),this.val=this.$element.val(),this.isRequired=!1,this.constraints={},"undefined"==typeof this.isRadioOrCheckbox&&(this.isRadioOrCheckbox=!1,this.hash=this.generateHash(),this.errorClassHandler=this.options.errors.classHandler(t,this.isRadioOrCheckbox)||this.$element),this.ulErrorManagement(),this.bindHtml5Constraints(),this.addConstraints(),this.hasConstraints()&&this.bindValidationEvents()},setParent:function(t){this.$parent=e(t)},getParent:function(){return this.$parent},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.prop("required"))&&(this.options.required=!0),"undefined"!=typeof this.$element.attr("type")&&new RegExp(this.$element.attr("type"),"i").test("email url number range")&&(this.options.type=this.$element.attr("type"),new RegExp(this.options.type,"i").test("number range")&&(this.options.type="number","undefined"!=typeof this.$element.attr("min")&&this.$element.attr("min").length&&(this.options.min=this.$element.attr("min")),"undefined"!=typeof this.$element.attr("max")&&this.$element.attr("max").length&&(this.options.max=this.$element.attr("max")))),"string"==typeof this.$element.attr("pattern")&&this.$element.attr("pattern").length&&(this.options.regexp=this.$element.attr("pattern"))},addConstraints:function(){for(var e in this.options){var t={};t[e]=this.options[e],this.addConstraint(t,!0)}},addConstraint:function(e,t){for(var n in e)n=n.toLowerCase(),"function"==typeof this.Validator.validators[n]&&(this.constraints[n]={name:n,requirements:e[n],valid:null},"required"===n&&(this.isRequired=!0),this.addCustomConstraintMessage(n));"undefined"==typeof t&&this.bindValidationEvents()},updateConstraint:function(e,t){for(var n in e)this.updtConstraint({name:n,requirements:e[n],valid:null},t)},updtConstraint:function(t,n){this.constraints[t.name]=e.extend(!0,this.constraints[t.name],t),"string"==typeof n&&(this.Validator.messages[t.name]=n),this.bindValidationEvents()},removeConstraint:function(e){var e=e.toLowerCase();return delete this.constraints[e],"required"===e&&(this.isRequired=!1),this.hasConstraints()?(this.bindValidationEvents(),void 0):"ParsleyForm"==typeof this.getParent()?(this.getParent().removeItem(this.$element),void 0):(this.destroy(),void 0)},addCustomConstraintMessage:function(e){var t=e+("type"===e&&"undefined"!=typeof this.options[e]?this.options[e].charAt(0).toUpperCase()+this.options[e].substr(1):"")+"Message";"undefined"!=typeof this.options[t]&&this.Validator.addMessage("type"===e?this.options[e]:e,this.options[t],"type"===e)},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type),this.options.remote&&!new RegExp("change","i").test(this.options.trigger)&&(this.options.trigger=this.options.trigger?" change":"change");var t=(this.options.trigger?this.options.trigger:"")+(new RegExp("key","i").test(this.options.trigger)?"":" keyup");this.$element.is("select")&&(t+=new RegExp("change","i").test(t)?"":" change"),t=t.replace(/^\s+/g,"").replace(/\s+$/g,""),this.$element.on((t+" ").split(" ").join("."+this.type+" "),!1,e.proxy(this.eventValidation,this))},generateHash:function(){return"parsley-"+(Math.random()+"").substring(2)},getHash:function(){return this.hash},getVal:function(){return this.$element.data("value")||this.$element.val()},eventValidation:function(e){var t=this.getVal();return"keyup"!==e.type||/keyup/i.test(this.options.trigger)||this.validatedOnce?"change"!==e.type||/change/i.test(this.options.trigger)||this.validatedOnce?!this.isRadioOrCheckbox&&this.getLength(t)<this.options.validationMinlength&&!this.validatedOnce?!0:(this.validate(),void 0):!0:!0},getLength:function(e){return e&&e.hasOwnProperty("length")?e.length:0},isValid:function(){return this.validate(!1)},hasConstraints:function(){for(var e in this.constraints)return!0;return!1},validate:function(e){var t=this.getVal(),n=null;return this.hasConstraints()?this.options.listeners.onFieldValidate(this.element,this)||""===t&&!this.isRequired?(this.reset(),null):this.needsValidation(t)?(n=this.applyValidators(),("undefined"!=typeof e?e:this.options.showErrors)&&this.manageValidationResult(),n):this.valid:null},needsValidation:function(e){return!this.options.validateIfUnchanged&&null!==this.valid&&this.val===e&&this.validatedOnce?!1:(this.val=e,this.validatedOnce=!0)},applyValidators:function(){var e=null;for(var t in this.constraints){var n=this.Validator.validators[this.constraints[t].name](this.val,this.constraints[t].requirements,this);!1===n?(e=!1,this.constraints[t].valid=e,this.options.listeners.onFieldError(this.element,this.constraints,this)):!0===n&&(this.constraints[t].valid=!0,e=!1!==e,this.options.listeners.onFieldSuccess(this.element,this.constraints,this))}return e},manageValidationResult:function(){var t=null;for(var n in this.constraints)!1===this.constraints[n].valid?(this.manageError(this.constraints[n]),t=!1):!0===this.constraints[n].valid&&(this.removeError(this.constraints[n].name),t=!1!==t);return this.valid=t,!0===this.valid?(this.removeErrors(),this.errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass),!0):!1===this.valid?(this.errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass),!1):(this.ulError&&0===e(this.ulError).children().length&&this.removeErrors(),t)},ulErrorManagement:function(){this.ulError="#"+this.hash,this.ulTemplate=e(this.options.errors.errorsWrapper).attr("id",this.hash).addClass("parsley-error-list")},removeError:function(t){var n=this.ulError+" ."+t,i=this;this.options.animate?e(n).fadeOut(this.options.animateDuration,function(){e(this).remove(),i.ulError&&0===e(i.ulError).children().length&&i.removeErrors()}):e(n).remove()},addError:function(t){for(var n in t){var i=e(this.options.errors.errorElem).addClass(n);e(this.ulError).append(this.options.animate?e(i).html(t[n]).hide().fadeIn(this.options.animateDuration):e(i).html(t[n]))}},removeErrors:function(){this.options.animate?e(this.ulError).fadeOut(this.options.animateDuration,function(){e(this).remove()}):e(this.ulError).remove()},reset:function(){this.valid=null,this.removeErrors(),this.validatedOnce=!1,this.errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);for(var e in this.constraints)this.constraints[e].valid=null;return this},manageError:function(t){if(e(this.ulError).length||this.manageErrorContainer(),!("required"===t.name&&null!==this.getVal()&&this.getVal().length>0||this.isRequired&&"required"!==t.name&&(null===this.getVal()||0===this.getVal().length))){var n=t.name,i=!1!==this.options.errorMessage?"custom-error-message":n,o={},r=!1!==this.options.errorMessage?this.options.errorMessage:"type"===t.name?this.Validator.messages[n][t.requirements]:"undefined"==typeof this.Validator.messages[n]?this.Validator.messages.defaultMessage:this.Validator.formatMesssage(this.Validator.messages[n],t.requirements);e(this.ulError+" ."+i).length||(o[i]=r,this.addError(o))}},manageErrorContainer:function(){var t=this.options.errorContainer||this.options.errors.container(this.element,this.isRadioOrCheckbox),n=this.options.animate?this.ulTemplate.show():this.ulTemplate;return"undefined"!=typeof t?(e(t).append(n),void 0):(this.isRadioOrCheckbox?this.$element.parent().after(n):this.$element.after(n),void 0)},addListener:function(e){for(var t in e)this.options.listeners[t]=e[t]},destroy:function(){this.$element.removeClass("parsley-validated"),this.reset().$element.off("."+this.type).removeData(this.type)}};var i=function(e,n,i){this.initMultiple(e,n),this.inherit(e,n),this.Validator=new t(n),this.init(e,i||"ParsleyFieldMultiple")};i.prototype={constructor:i,initMultiple:function(t,n){this.element=t,this.$element=e(t),this.group=n.group||!1,this.hash=this.getName(),this.siblings=this.group?'[data-group="'+this.group+'"]':'input[name="'+this.$element.attr("name")+'"]',this.isRadioOrCheckbox=!0,this.isRadio=this.$element.is("input[type=radio]"),this.isCheckbox=this.$element.is("input[type=checkbox]"),this.errorClassHandler=n.errors.classHandler(t,this.isRadioOrCheckbox)||this.$element.parent()},inherit:function(e,t){var i=new n(e,t,"ParsleyFieldMultiple");for(var o in i)"undefined"==typeof this[o]&&(this[o]=i[o])},getName:function(){if(this.group)return"parsley-"+this.group;if("undefined"==typeof this.$element.attr("name"))throw"A radio / checkbox input must have a data-group attribute or a name to be Parsley validated !";return"parsley-"+this.$element.attr("name").replace(/(:|\.|\[|\])/g,"")},getVal:function(){if(this.isRadio)return e(this.siblings+":checked").val()||"";if(this.isCheckbox){var t=[];return e(this.siblings+":checked").each(function(){t.push(e(this).val())}),t}},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type);var t=this,n=(this.options.trigger?this.options.trigger:"")+(new RegExp("change","i").test(this.options.trigger)?"":" change");n=n.replace(/^\s+/g,"").replace(/\s+$/g,""),e(this.siblings).each(function(){e(this).on(n.split(" ").join("."+t.type+" "),!1,e.proxy(t.eventValidation,t))})}};var o=function(e,t,n){this.init(e,t,n||"parsleyForm")};o.prototype={constructor:o,init:function(t,n,i){this.type=i,this.items=[],this.$element=e(t),this.options=n;var o=this;this.$element.find(n.inputs).each(function(){o.addItem(this)}),this.$element.on("submit."+this.type,!1,e.proxy(this.validate,this))},addListener:function(e){for(var t in e)if(new RegExp("Field").test(t))for(var n=0;n<this.items.length;n++)this.items[n].addListener(e);else this.options.listeners[t]=e[t]},addItem:function(t){if(e(t).is(this.options.excluded))return!1;var n=e(t).parsley(this.options);n.setParent(this),this.items.push(n)},removeItem:function(t){for(var n=e(t).parsley(),i=0;i<this.items.length;i++)if(this.items[i].hash===n.hash)return this.items[i].destroy(),this.items.splice(i,1),!0;return!1},validate:function(e){var t=!0;this.focusedField=!1;for(var n=0;n<this.items.length;n++)"undefined"!=typeof this.items[n]&&!1===this.items[n].validate()&&(t=!1,(!this.focusedField&&"first"===this.options.focus||"last"===this.options.focus)&&(this.focusedField=this.items[n].$element));return this.focusedField&&!t&&this.focusedField.focus(),this.options.listeners.onFormSubmit(t,e,this),t},isValid:function(){for(var e=0;e<this.items.length;e++)if(!1===this.items[e].isValid())return!1;return!0},removeErrors:function(){for(var e=0;e<this.items.length;e++)this.items[e].parsley("reset")},destroy:function(){for(var e=0;e<this.items.length;e++)this.items[e].destroy();this.$element.off("."+this.type).removeData(this.type)},reset:function(){for(var e=0;e<this.items.length;e++)this.items[e].reset()}},e.fn.parsley=function(t,r){function s(s,l){var c=e(s).data(l);if(!c){switch(l){case"parsleyForm":c=new o(s,a,"parsleyForm");break;case"parsleyField":c=new n(s,a,"parsleyField");break;case"parsleyFieldMultiple":c=new i(s,a,"parsleyFieldMultiple");break;default:return}e(s).data(l,c)}if("string"==typeof t&&"function"==typeof c[t]){var u=c[t](r);return"undefined"!=typeof u?u:e(s)}return c}var a=e.extend(!0,{},e.fn.parsley.defaults,"undefined"!=typeof window.ParsleyConfig?window.ParsleyConfig:{},t,this.data()),l=null;return e(this).is("form")||!0===e(this).data("bind")?l=s(e(this),"parsleyForm"):e(this).is(a.inputs)&&!e(this).is(a.excluded)&&(l=s(e(this),e(this).is("input[type=radio], input[type=checkbox]")?"parsleyFieldMultiple":"parsleyField")),"function"==typeof r?r():l},e.fn.parsley.Constructor=o,e.fn.parsley.defaults={inputs:"input, textarea, select",excluded:"input[type=hidden], input[type=file], :disabled",trigger:!1,animate:!0,animateDuration:300,focus:"first",validationMinlength:3,successClass:"parsley-success",errorClass:"parsley-error",errorMessage:!1,validators:{},showErrors:!0,messages:{},validateIfUnchanged:!1,errors:{classHandler:function(){},container:function(){},errorsWrapper:"<ul></ul>",errorElem:"<li></li>"},listeners:{onFieldValidate:function(){return!1},onFormSubmit:function(){},onFieldError:function(){},onFieldSuccess:function(){}}},e(window).on("load",function(){e('[data-validate="parsley"]').each(function(){e(this).parsley()})})}(window.jQuery||window.Zepto)}).call(this),function(){window.ParsleyConfig=window.ParsleyConfig||{},function(e){window.ParsleyConfig=e.extend(!0,{},window.ParsleyConfig,{validators:{minwords:function(e,t){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,"\n"),e=e.split(" ").length,e>=t},maxwords:function(e,t){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,"\n"),e=e.split(" ").length,t>=e},rangewords:function(e,t){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,"\n"),e=e.split(" ").length,e>=t[0]&&e<=t[1]},greaterthan:function(t,n,i){return i.options.validateIfUnchanged=!0,new Number(t)>new Number(e(n).val())},lessthan:function(t,n,i){return i.options.validateIfUnchanged=!0,new Number(t)<new Number(e(n).val())},beforedate:function(t,n){return Date.parse(t)<Date.parse(e(n).val())},afterdate:function(t,n){return Date.parse(e(n).val())<Date.parse(t)},inlist:function(e,t,n){var i=n.options.inlistDelimiter||",",o=(t+"").split(new RegExp("\\s*\\"+i+"\\s*"));return-1!==o.indexOf(e.trim())},luhn:function(e){e=e.replace(/[ -]/g,"");var t,n,i,o,r,s;for(i=0,s=e.split("").reverse(),n=o=0,r=s.length;r>o;n=++o)t=s[n],t=+t,n%2?(t*=2,i+=10>t?t:t-9):i+=t;return i%10===0},americandate:function(e){if(!/^([01]?[0-9])[\.\/-]([0-3]?[0-9])[\.\/-]([0-9]{4}|[0-9]{2})$/.test(e))return!1;var t=e.split(/[.\/-]+/),n=parseInt(t[1],10),i=parseInt(t[0],10),o=parseInt(t[2],10);if(0==o||0==i||i>12)return!1;var r=[31,28,31,30,31,30,31,31,30,31,30,31];return(o%400==0||o%100!=0&&o%4==0)&&(r[1]=29),n>0&&n<=r[i-1]}},messages:{minwords:"This value should have %s words at least.",maxwords:"This value should have %s words maximum.",rangewords:"This value should have between %s and %s words.",greaterthan:"This value should be greater than %s.",lessthan:"This value should be less than %s.",beforedate:"This date should be before %s.",afterdate:"This date should be after %s.",luhn:"This value should pass the luhn test.",americandate:"This value should be a valid date (MM/DD/YYYY)."}})}(window.jQuery||window.Zepto)}.call(this),"undefined"==typeof Package&&(Package={}),Package.parsleyjs={}}(),function(){Package.meteor.Meteor,Package.templating.Template,Package.underscore._,Package.deps.Deps,Package.spark.Spark;(function(){!function(){function e(e){var t=function(e,t){return o("",e,t)},r=n;e&&(n[e]||(n[e]={}),r=n[e]),r.define&&r.define.packaged||(i.original=r.define,r.define=i,r.define.packaged=!0),r.require&&r.require.packaged||(o.original=r.require,r.require=t,r.require.packaged=!0)}var t="",n=function(){return this}();if(t||"undefined"==typeof requirejs){var i=function(e,t,n){return"string"!=typeof e?(i.original?i.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace()),void 0):(2==arguments.length&&(n=t),i.modules||(i.modules={},i.payloads={}),i.payloads[e]=n,i.modules[e]=null,void 0)},o=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],r=0,a=t.length;a>r;++r){var l=s(e,t[r]);if(!l&&o.original)return o.original.apply(window,arguments);i.push(l)}n&&n.apply(null,i)}else{if("string"==typeof t){var c=s(e,t);return!c&&o.original?o.original.apply(window,arguments):(n&&n(),c)}if(o.original)return o.original.apply(window,arguments)}},r=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return r(e,n[0])+"!"+r(e,n[1])}if("."==t.charAt(0)){var i=e.split("/").slice(0,-1).join("/");for(t=i+"/"+t;-1!==t.indexOf(".")&&o!=t;){var o=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,t){t=r(e,t);var n=i.modules[t];if(!n){if(n=i.payloads[t],"function"==typeof n){var s={},a={id:t,uri:"",exports:s,packaged:!0},l=function(e,n){return o(t,e,n)},c=n(l,s,a);s=c||a.exports,i.modules[t]=s,delete i.payloads[t]}n=i.modules[t]=s||n}return n};e(t)}}(),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/multi_select","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/mode/folding/fold_mode","ace/theme/textmate","ace/config"],function(e,t){e("./lib/fixoldbrowsers");
var n=e("./lib/dom"),i=e("./lib/event"),o=e("./editor").Editor,r=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer,l=e("./multi_select").MultiSelect;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./mode/folding/fold_mode"),e("./theme/textmate"),t.config=e("./config"),t.require=e,t.edit=function(e){if("string"==typeof e){var r=e,e=document.getElementById(r);if(!e)throw"ace.edit can't find div #"+r}if(e.env&&e.env.editor instanceof o)return e.env.editor;var s=t.createEditSession(n.getInnerText(e));e.innerHTML="";var c=new o(new a(e));new l(c),c.setSession(s);var u={document:s,editor:c,onResize:c.resize.bind(c,null)};return i.addListener(window,"resize",u.onResize),c.on("destroy",function(){i.removeListener(window,"resize",u.onResize)}),e.env=c.env=u,c},t.createEditSession=function(e,t){var n=new r(e,t);return n.setUndoManager(new s),n},t.EditSession=r,t.UndoManager=s}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e){e("./regexp"),e("./es5-shim")}),define("ace/lib/regexp",["require","exports","module"],function(){function e(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function t(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=void 0===n.exec.call(/()??/,"")[1],o=function(){var e=/^/g;return n.test.call(e,""),!e.lastIndex}();o&&i||(RegExp.prototype.exec=function(r){var s,a,l=n.exec.apply(this,arguments);if("string"==typeof r&&l){if(!i&&l.length>1&&t(l,"")>-1&&(a=RegExp(this.source,n.replace.call(e(this),"g","")),n.replace.call(r.slice(l.index),a,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)s=this._xregexp.captureNames[c-1],s&&(l[s]=l[c]);!o&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},o||(RegExp.prototype.test=function(e){var t=n.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),define("ace/lib/es5-shim",["require","exports","module"],function(){function e(){}function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}function n(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=d.call(arguments,1),o=function(){if(this instanceof o){var e=n.apply(this,i.concat(d.call(arguments)));return Object(e)===e?e:this}return n.apply(t,i.concat(d.call(arguments)))};return n.prototype&&(e.prototype=n.prototype,o.prototype=new e,e.prototype=null),o});var i,o,r,s,a,l=Function.prototype.call,c=Array.prototype,u=Object.prototype,d=c.slice,h=l.bind(u.toString),f=l.bind(u.hasOwnProperty);if((a=f(u,"__defineGetter__"))&&(i=l.bind(u.__defineGetter__),o=l.bind(u.__defineSetter__),r=l.bind(u.__lookupGetter__),s=l.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];return n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length,t+1==n.length?!0:void 0}()){var p=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?p.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(d.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:0>e&&(e=Math.max(n+e,0)),n>e+t||(t=n-e);var i=this.slice(e,e+t),o=d.call(arguments,2),r=o.length;if(e===n)r&&this.push.apply(this,o);else{var s=Math.min(t,n-e),a=e+s,l=a+r-s,c=n-a,u=n-s;if(a>l)for(var h=0;c>h;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(r&&e===u)this.length=u,this.push.apply(this,o);else for(this.length=u+r,h=0;r>h;++h)this[e+h]=o[h]}return i};Array.isArray||(Array.isArray=function(e){return"[object Array]"==h(e)});var g=Object("a"),m="a"!=g[0]||!(0 in g);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=L(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=arguments[1],o=-1,r=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError;for(;++o<r;)o in n&&e.call(i,n[o],o,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=L(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,o=Array(i),r=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)s in n&&(o[s]=e.call(r,n[s],s,t));return o}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=L(this),i=m&&"[object String]"==h(this)?this.split(""):n,o=i.length>>>0,r=[],s=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var a=0;o>a;a++)a in i&&(t=i[a],e.call(s,t,a,n)&&r.push(t));return r}),Array.prototype.every||(Array.prototype.every=function(e){var t=L(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,o=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var r=0;i>r;r++)if(r in n&&!e.call(o,n[r],r,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=L(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0,o=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var r=0;i>r;r++)if(r in n&&e.call(o,n[r],r,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=L(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,r=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(r in n){o=n[r++];break}if(++r>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>r;r++)r in n&&(o=e.call(void 0,o,n[r],r,t));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=L(this),n=m&&"[object String]"==h(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,r=i-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(r in n){o=n[r--];break}if(--r<0)throw new TypeError("reduceRight of empty array with no initial value")}do r in this&&(o=e.call(void 0,o,n[r],r,t));while(r--);return o}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=m&&"[object String]"==h(this)?this.split(""):L(this),i=t.length>>>0;if(!i)return-1;var o=0;for(arguments.length>1&&(o=n(arguments[1])),o=o>=0?o:Math.max(0,i+o);i>o;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=m&&"[object String]"==h(this)?this.split(""):L(this),i=t.length>>>0;if(!i)return-1;var o=i-1;for(arguments.length>1&&(o=Math.min(o,n(arguments[1]))),o=o>=0?o:i-Math.abs(o);o>=0;o--)if(o in t&&e===t[o])return o;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:u)}),!Object.getOwnPropertyDescriptor){var v="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(v+e);if(f(e,t)){var n,i,o;if(n={enumerable:!0,configurable:!0},a){var l=e.__proto__;e.__proto__=u;var i=r(e,t),o=s(e,t);if(e.__proto__=l,i||o)return i&&(n.get=i),o&&(n.set=o),n}return n.value=e[t],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var y;y=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=y();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var i=function(){};i.prototype=e,n=new i,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var b=t({}),w="undefined"==typeof document||t(document.createElement("div"));if(!b||!w)var _=Object.defineProperty}if(!Object.defineProperty||_){var C="Property description must be an object: ",E="Object.defineProperty called on non-object: ",A="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(E+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(C+n);if(_)try{return _.call(Object,e,t,n)}catch(l){}if(f(n,"value"))if(a&&(r(e,t)||s(e,t))){var c=e.__proto__;e.__proto__=u,delete e[t],e[t]=n.value,e.__proto__=c}else e[t]=n.value;else{if(!a)throw new TypeError(A);f(n,"get")&&i(e,t,n.get),f(n,"set")&&o(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)f(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(F){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";f(e,t);)t+="?";e[t]=!0;var n=f(e,t);return delete e[t],n}),!Object.keys){var k=!0,x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=x.length;for(var D in{toString:null})k=!1;Object.keys=function M(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var M=[];for(var t in e)f(e,t)&&M.push(t);if(k)for(var n=0,i=S;i>n;n++){var o=x[n];f(e,o)&&M.push(o)}return M}}Date.now||(Date.now=function(){return(new Date).getTime()});var B="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||B.trim()){B="["+B+"]";var T=new RegExp("^"+B+B+"*"),$=new RegExp(B+B+"*$");String.prototype.trim=function(){return String(this).replace(T,"").replace($,"")}}var L=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),define("ace/lib/dom",["require","exports","module"],function(e,t){if("undefined"!=typeof document){var n="http://www.w3.org/1999/xhtml";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=e.className.split(/\s+/g);return-1!==n.indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var o=n.indexOf(t);if(-1==o)break;i=!1,n.splice(o,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===e)return!0;return!1},t.importCssString=function(e,i,o){if(o=o||document,i&&t.hasCssString(i,o))return null;var r;o.createStyleSheet?(r=o.createStyleSheet(),r.cssText=e,i&&(r.owningElement.id=i)):(r=o.createElementNS?o.createElementNS(n,"style"):o.createElement("style"),r.appendChild(o.createTextNode(e)),i&&(r.id=i),t.getDocumentHead(o).appendChild(r))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var i=t.createElement("link");i.rel="stylesheet",i.href=e,t.getDocumentHead(n).appendChild(i)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),t.computedStyle=window.getComputedStyle?function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),o=i.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",i.appendChild(n);var r=e.documentElement;r.appendChild(i);var s=n.offsetWidth;o.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),r.removeChild(i),s-a},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent","ace/lib/dom"],function(e,t){function n(e,t,n){var a=0;if(a=!o.isOpera||"KeyboardEvent"in window||!o.isMac?0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0):0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0),!o.isMac&&r){if((r[91]||r[92])&&(a|=8),r.altGr){if(3==(3&a))return;r.altGr=0}if(18===n||17===n){var l=t.location||t.keyLocation;if(17===n&&1===l)s=t.timeStamp;else if(18===n&&3===a&&2===l){var c=-s;s=t.timeStamp,c+=s,3>c&&(r.altGr=!0)}}}if(n in i.MODIFIER_KEYS){switch(i.MODIFIER_KEYS[n]){case"Alt":a=2;break;case"Shift":a=4;break;case"Ctrl":a=1;break;default:a=8}n=0}return 8&a&&(91===n||93===n)&&(n=0),a||13!==n||!t.location&&3!==t.keyLocation||(e(t,a,-n),!t.defaultPrevented)?a||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS?e(t,a,n):!1:void 0}{var i=e("./keys"),o=e("./useragent");e("./dom")}t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var i=function(){n(window.event)};n._wrapper=i,e.attachEvent("on"+t,i)}},t.removeListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):(e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n),void 0)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||e.ctrlKey&&o.isMac?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=document.documentElement.setCapture?function(e,n,i){function o(s){n(s),r||(r=!0,i(s)),t.removeListener(e,"mousemove",n),t.removeListener(e,"mouseup",o),t.removeListener(e,"losecapture",o),e.releaseCapture()}var r=!1;t.addListener(e,"mousemove",n),t.addListener(e,"mouseup",o),t.addListener(e,"losecapture",o),e.setCapture()}:function(e,t,n){function i(e){t&&t(e),n&&n(e),document.removeEventListener("mousemove",t,!0),document.removeEventListener("mouseup",i,!0)}document.addEventListener("mousemove",t,!0),document.addEventListener("mouseup",i,!0)},t.addMouseWheelListener=function(e,n){if("onmousewheel"in e){var i=8;t.addListener(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/i,e.wheelY=-e.wheelDeltaY/i):(e.wheelX=0,e.wheelY=-e.wheelDelta/i),n(e)})}else"onwheel"in e?t.addListener(e,"wheel",function(e){e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0),n(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)})},t.addMultiMouseDownListener=function(e,n,i,r){var s,a,l,c=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",function(e){if(0!=t.getButton(e))c=0;else{var o=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-a)>5;(!l||o)&&(c=0),c+=1,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600)}if(1==c&&(s=e.clientX,a=e.clientY),i[r]("mousedown",e),c>4)c=0;else if(c>1)return i[r](u[c],e)}),o.isOldIE&&t.addListener(e,"dblclick",function(e){c=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},n[c-1]||600),i[r]("mousedown",e),i[r](u[c],e)})};var r=null,s=0;if(t.addCommandKeyListener=function(e,i){var s=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var a=null;s(e,"keydown",function(e){a=e.keyCode}),s(e,"keypress",function(e){return n(i,e,a)})}else{var l=null;s(e,"keydown",function(e){r[e.keyCode]=!0;var t=n(i,e,e.keyCode);return l=e.defaultPrevented,t}),s(e,"keypress",function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),s(e,"keyup",function(e){r[e.keyCode]=null}),r||(r=Object.create(null),s(window,"focus",function(){r=Object.create(null)}))}},window.postMessage&&!o.isOldIE){var a=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+a;t.addListener(n,"message",function o(r){r.data==i&&(t.stopPropagation(r),t.removeListener(n,"message",o),e())}),n.postMessage(i,"*")}}t.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}}),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t){var n=e("./oop"),i=function(){var e={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(var t in e.FUNCTION_KEYS){var i=e.FUNCTION_KEYS[t].toLowerCase();e[i]=parseInt(t,10)}return n.mixin(e,e.MODIFIER_KEYS),n.mixin(e,e.PRINTABLE_KEYS),n.mixin(e,e.FUNCTION_KEYS),e.enter=e["return"],e.escape=e.esc,e.del=e["delete"],e[173]="-",e}();n.mixin(t,i),t.keyCodeToString=function(e){return(i[e]||String.fromCharCode(e)).toLowerCase()}}),define("ace/lib/oop",["require","exports","module"],function(e,t){t.inherits=function(){var e=function(){};return function(t,n){e.prototype=n.prototype,t.super_=n.prototype,t.prototype=new e,t.prototype.constructor=t}}(),t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),define("ace/lib/useragent",["require","exports","module"],function(e,t){if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE=("Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0)&&parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=window.controllers&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((navigator.userAgent.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isTouchPad=i.indexOf("TouchPad")>=0}}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config"],function(e,t){e("./lib/fixoldbrowsers");var n=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),r=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,a=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,d=e("./search").Search,h=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,p=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,m=e("./config"),v=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new p(r.isMac?"mac":"win",g),this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new c(this),this.$mouseHandler=new a(this),new l(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new u("")),m.resetOptions(this),m._emit("editor",this)};(function(){n.implement(this,f),this.$initOperationListeners=function(){function e(e){return e[e.length-1]}this.selections=[],this.commands.on("exec",function(t){this.startOperation(t);var n=t.command;if("fileJump"==n.group){var i=this.prevOp;i&&"fileJump"==i.command.group||(this.lastFileJumpPos=e(this.selections))}else this.lastFileJumpPos=null}.bind(this),!0),this.commands.on("afterExec",function(e){var t=e.command;return"fileJump"==t.group&&this.lastFileJumpPos&&!this.curOp.selectionChanged?(this.selection.fromJSON(this.lastFileJumpPos),void 0):(this.endOperation(e),void 0)}.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args},this.selections.push(this.selection.toJSON())},this.endOperation=function(){this.curOp&&(this.prevOp=this.curOp,this.curOp=null)},this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=["backspace","del","insertstring"],i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var o=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(o)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e){if(e)if("string"==typeof e){this.$keybindingId=e;var t=this;m.loadModule(["keybinding",e],function(n){t.$keybindingId==e&&t.keyBinding.setKeyboardHandler(n&&n.handler)})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e);else this.keyBinding.setKeyboardHandler(null)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){if(this.session){var t=this.session;this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.removeEventListener("changeCursor",this.$onCursorChange),n.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull(),this._emit("changeSession",{session:e,oldSession:t})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e){this.renderer.setTheme(e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session.findMatchingBracket(e.getCursorPosition());if(t)var n=new h(t.row,t.column,t.row,t.column+1);else if(e.session.$mode.getMatching)var n=e.session.$mode.getMatching(e.session);n&&(e.session.$bracketHighlight=e.session.addMarker(n,"ace_bracket","text"))},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus"))},this.onBlur=function(){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur"))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t,n=e.data,i=n.range;t=i.start.row==i.end.row&&"insertLines"!=n.action&&"removeLines"!=n.action?i.end.row:1/0,this.renderer.updateLines(i.start.row,t),this._emit("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$updateHighlightActiveLine(),this._emit("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;
else if(!t.$highlightLineMarker&&e){var n=new h(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._emit("changeBackMarker"))},this.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._emit("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,i=t.end.column+1,o=e.getLine(t.start.row),r=o.length,s=o.substring(Math.max(n,0),Math.min(i,r));if(!(n>=0&&/^[\w\d]/.test(s)||r>=i&&/[\w\d]$/.test(s))&&(s=o.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){this.$readOnly||(this._emit("paste",e),this.insert(e))},this.execCommand=function(e,t){this.commands.exec(e,this,t)},this.insert=function(e){var t=this.session,n=t.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()){var o=n.transformAction(t.getState(i.row),"insertion",this,t,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("	"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var r=new h.fromPoints(i,i);r.end.column+=e.length,this.session.remove(r)}}else{var r=this.getSelectionRange();i=this.session.remove(r),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=t.getLine(i.row);if(i.column>s.search(/\S|$/)){var a=s.substr(i.column).search(/\S|$/);t.doc.removeInLine(i.row,i.column,i.column+a)}}this.clearSelection();{var l=i.column,c=t.getState(i.row),s=t.getLine(i.row),u=n.checkOutdent(c,s,e);t.insert(i,e)}if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new h(i.row,l+o.selection[0],i.row,l+o.selection[1])):this.selection.setSelectionRange(new h(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),t.getDocument().isNewLine(e)){var d=n.getNextLineIndent(c,s.slice(0,i.column),t.getTabString());t.insert({row:i.row+1,column:0},d)}u&&n.autoOutdent(c,t,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),o=n.getMode().transformAction(i,"deletion",this,n,t);if(0==t.end.column){var r=n.getTextRange(t);if("\n"==r[r.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}o&&(t=o)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,o=this.session.getLine(e.row);t<o.length?(n=o.charAt(t)+o.charAt(t-1),i=new h(e.row,t-1,e.row,t+1)):(n=o.charAt(t-1)+o.charAt(t-2),i=new h(e.row,t-2,e.row,t)),this.session.replace(i,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();return e.indentRows(n.first,n.last,"	"),void 0}if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();return e.indentRows(n.first,n.last,"	"),void 0}}var r=e.getLine(t.start.row),s=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=o.stringRepeat(" ",c);else{for(var c=l%a;" "==r[t.start.column]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="	"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(o=e.first;o<=e.last;o++)n.push(t.getLine(o));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var i=new h(0,0,0,0),o=e.first;o<=e.last;o++){var r=t.getLine(o);i.start.row=o,i.end.row=o,i.end.column=r.length,t.replace(i,n[o-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var o=n.exec(i);if(o.index<=t&&o.index+o[0].length>=t){var r={value:o[0],start:o.index,end:o.index+o[0].length};return r}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new h(t,n-1,t,n),o=this.session.getTextRange(i);if(!isNaN(parseFloat(o))&&isFinite(o)){var r=this.getNumberAt(t,n);if(r){var s=r.value.indexOf(".")>=0?r.start+r.value.indexOf(".")+1:r.end,a=r.start+r.value.length-s,l=parseFloat(r.value);l*=Math.pow(10,a),e*=s!==r.end&&s>n?Math.pow(10,r.end-n-1):Math.pow(10,r.end-n),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new h(t,r.start,t,r.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(r.start+1,n+c.length-r.value.length))}}},this.removeLines=function(){var e,t=this.$getSelectedRows();e=0===t.first||t.last+1<this.session.getLength()?new h(t.first,0,t.last+1,0):new h(t.first-1,this.session.getLine(t.first-1).length,t.last,this.session.getLine(t.last).length),this.session.remove(e),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var o=n.start.row;t.duplicateLines(o,o)}else{var r=i?n.start:n.end,s=t.insert(r,t.getTextRange(n),!1);n.start=r,n.end=s,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(function(e,t){return this.session.moveLinesDown(e,t)})},this.moveLinesUp=function(){this.$moveLines(function(e,t){return this.session.moveLinesUp(e,t)})},this.moveText=function(e,t){return this.session.moveText(e,t)},this.copyLinesUp=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t),0})},this.copyLinesDown=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t)})},this.$moveLines=function(e){var t=this.selection;if(!t.inMultiSelectMode||this.inVirtualSelectionMode){var n=t.toOrientedRange(),i=this.$getSelectedRows(n),o=e.call(this,i.first,i.last);n.moveBy(o,0),t.fromOrientedRange(n)}else{var r=t.rangeList.ranges;t.rangeList.detach(this.session);for(var s=r.length;s--;){for(var a=s,i=r[s].collapseRows(),l=i.end.row,c=i.start.row;s--;){var i=r[s].collapseRows();if(!(c-i.end.row<=1))break;c=i.end.row}s++;for(var o=e.call(this,c,l);a>=s;)r[a].moveBy(o,0),a--}t.fromOrientedRange(t.ranges[0]),t.rangeList.attach(this.session)}},this.$getSelectedRows=function(){var e=this.getSelectionRange().collapseRows();return{first:e.start.row,last:e.end.row}},this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,o=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,1==t?this.selection.$moveSelection(function(){this.moveCursorBy(o,0)}):0==t&&(this.selection.moveCursorBy(o,0),this.selection.clearSelection()),this.$blockScrolling--;var r=n.scrollTop;n.scrollBy(0,o*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(r)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e){var t=this.getCursorPosition(),n=this.session.getBracketRange(t);if(!n){if(n=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:t.row,column:t.column-1}}),!n)return;var i=n.start;i.row==t.row&&Math.abs(i.column-t.column)<2&&(n=this.session.getBracketRange(i))}i=n&&n.cursor||i,i&&(e?n&&n.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(i.row,i.column):(this.clearSelection(),this.moveCursorTo(i.row,i.column)))},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),e=e||1,this.selection.moveCursorBy(-e,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),e=e||1,this.selection.moveCursorBy(e,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){var e=this.renderer.scrollTop;this.selection.moveCursorFileEnd(),this.clearSelection(),this.renderer.animateScrolling(e)},this.navigateFileStart=function(){var e=this.renderer.scrollTop;this.selection.moveCursorFileStart(),this.clearSelection(),this.renderer.animateScrolling(e)},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var o=this.getSelectionRange();this.clearSelection(),this.selection.moveCursorTo(0,0);for(var r=n.length-1;r>=0;--r)this.$tryReplace(n[r],e)&&i++;return this.selection.setSelectionRange(o),this.$blockScrolling-=1,i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var o=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(o)||this.$search.$options.needle,e||(o=this.session.getWordRange(o.start.row,o.start.column),e=this.session.getTextRange(o)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:o});var r=this.$search.find(this.session);return t.preventScroll?r:r?(this.revealRange(r,i),r):(t.backwards?o.start=o.end:o.end=o.start,this.selection.setRange(o),void 0)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),0!=t&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._emit("destroy",this)},this.setAutoScrollEditorIntoView=function(e){if(e!==!1){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var o=this.$scrollAnchor;o.style.cssText="position:absolute",this.container.insertBefore(o,this.container.firstChild);var r=this.on("changeSelection",function(){i=!0}),s=this.renderer.on("beforeRender",function(){i&&(t=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&t&&n.isFocused()){var e=n.renderer,r=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=r.top-s.offset;i=r.top>=0&&a+t.top<0?!0:r.top<s.height&&r.top+t.top+s.lineHeight>window.innerHeight?!1:null,null!=i&&(o.style.top=a+"px",o.style.left=r.left+"px",o.style.height=s.lineHeight+"px",o.scrollIntoView(i)),i=t=null}});this.setAutoScrollEditorIntoView=function(e){e!==!0&&(delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",r),this.renderer.removeEventListener("afterRender",a),this.renderer.removeEventListener("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking("smooth"==e),t.isBlinking=!this.$readOnly&&"wide"!=e)}}).call(v.prototype),m.defineOptions(v.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._emit("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",focusTimout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",foldStyle:"session"}),t.Editor=v}),define("ace/lib/lang",["require","exports","module"],function(e,t){t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var n=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;i>n;n++)t[n]=e[n]&&"object"==typeof e[n]?this.copyObject(e[n]):e[n];return t},t.deepCopy=function(e){if("object"!=typeof e)return e;var t=e.constructor();for(var n in e)t[n]="object"==typeof e[n]?this.deepCopy(e[n]):e[n];return t},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},o=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)};return o.delay=o,o.schedule=function(e){null==n&&(n=setTimeout(i,e||0))},o.call=function(){this.cancel(),e()},o.cancel=function(){n&&clearTimeout(n),n=null},o.isPending=function(){return n},o}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t){var n=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),r=e("../lib/lang"),s=i.isChrome<18,a=function(e,t){function a(e){if(!g){if(S)t=0,n=e?0:u.value.length-1;else var t=e?2:1,n=2;try{u.setSelectionRange(t,n)}catch(i){}}}function l(){g||(u.value=d,i.isWebKit&&_.schedule())}function c(){setTimeout(function(){m&&(u.style.cssText=m,m=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}var u=o.createElement("textarea");u.className="ace_text-input",i.isTouchPad&&u.setAttribute("x-palm-disable-auto-cap",!0),u.wrap="off",u.autocorrect="off",u.autocapitalize="off",u.spellcheck=!1,u.style.bottom="2000em",e.insertBefore(u,e.firstChild);var d="",h=!1,f=!1,p=!1,g=!1,m="",v=!0;try{var y=document.activeElement===u}catch(b){}n.addListener(u,"blur",function(){t.onBlur(),y=!1}),n.addListener(u,"focus",function(){y=!0,t.onFocus(),a()}),this.focus=function(){u.focus()},this.blur=function(){u.blur()},this.isFocused=function(){return y};var w=r.delayedCall(function(){y&&a(v)}),_=r.delayedCall(function(){g||(u.value=d,y&&a())});i.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,w.schedule())}),l(),y&&t.onFocus();var C=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!u.setSelectionRange&&u.createTextRange&&(u.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},C=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?t.text==e.value:!1}),i.isOldIE){var E=!1,A=function(e){if(!E){var t=u.value;if(!g&&t&&t!=d){if(e&&t==d[0])return F.schedule();B(t),E=!0,l(),E=!1}}},F=r.delayedCall(A);n.addListener(u,"propertychange",A);var k={13:1,27:1};n.addListener(u,"keyup",function(e){return!g||u.value&&!k[e.keyCode]||setTimeout(I,0),(u.value.charCodeAt(0)||0)<129?F.call():(g?R():P(),void 0)}),n.addListener(u,"keydown",function(){F.schedule(50)})}var x=function(){h?h=!1:f?f=!1:C(u)?(t.selectAll(),a()):S&&a(t.selection.isEmpty())},S=null;this.setInputHandler=function(e){S=e},this.getInputHandler=function(){return S};var D=!1,B=function(e){S&&(e=S(e),S=null),p?(a(),e&&t.onPaste(e),p=!1):e==d.charAt(0)?D&&t.execCommand("del",{source:"ace"}):(e.substring(0,2)==d?e=e.substr(2):e.charAt(0)==d.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),D&&(D=!1)},T=function(){if(!g){var e=u.value;B(e),l()}},$=function(e){var i=t.getCopyText();if(!i)return n.preventDefault(e),void 0;var o=e.clipboardData||window.clipboardData;if(o&&!s){var r=o.setData("Text",i);r&&(t.onCut(),n.preventDefault(e))}r||(h=!0,u.value=i,u.select(),setTimeout(function(){h=!1,l(),a(),t.onCut()}))},L=function(e){var i=t.getCopyText();if(!i)return n.preventDefault(e),void 0;var o=e.clipboardData||window.clipboardData;if(o&&!s){var r=o.setData("Text",i);r&&(t.onCopy(),n.preventDefault(e))}r||(f=!0,u.value=i,u.select(),setTimeout(function(){f=!1,l(),a(),t.onCopy()}))},M=function(e){var o=e.clipboardData||window.clipboardData;if(o){var r=o.getData("Text");r&&t.onPaste(r),i.isIE&&setTimeout(a),n.preventDefault(e)}else u.value="",p=!0};n.addCommandKeyListener(u,t.onCommandKey.bind(t)),n.addListener(u,"select",x),n.addListener(u,"input",T),n.addListener(u,"cut",$),n.addListener(u,"copy",L),n.addListener(u,"paste",M),"oncut"in u&&"oncopy"in u&&"onpaste"in u||n.addListener(e,"keydown",function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:L(e);break;case 86:M(e);break;case 88:$(e)}});var P=function(){g||(g={},t.onCompositionStart(),setTimeout(R,0),t.on("mousedown",I),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},R=function(){if(g&&(t.onCompositionUpdate(u.value),g.lastValue&&t.undo(),g.lastValue=u.value.replace(/\x01/g,""),g.lastValue)){var e=t.selection.getRange();t.insert(g.lastValue),t.session.markUndoGroup(),g.range=t.selection.getRange(),t.selection.setRange(e),t.selection.clearSelection()}},I=function(e){var n=g;g=!1;var i=setTimeout(function(){var e=u.value.replace(/\x01/g,"");g||(e==n.lastValue?l():!n.lastValue&&e&&(l(),B(e)))});S=function(e){return clearTimeout(i),e=e.replace(/\x01/g,""),e==n.lastValue?"":(n.lastValue&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",I),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range)},O=r.delayedCall(R,50);n.addListener(u,"compositionstart",P),n.addListener(u,i.isGecko?"text":"keyup",function(){O.schedule()}),n.addListener(u,"compositionend",I),this.getElement=function(){return u},this.setReadOnly=function(e){u.readOnly=e},this.onContextMenu=function(e){D=!0,m||(m=u.style.cssText),u.style.cssText="z-index:100000;"+(i.isIE?"opacity:0.1;":""),a(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e});var r=t.container.getBoundingClientRect(),s=o.computedStyle(t.container),l=r.top+(parseInt(s.borderTopWidth)||0),d=r.left+(parseInt(r.borderLeftWidth)||0),h=r.bottom-l-u.clientHeight,f=function(e){u.style.left=e.clientX-d-2+"px",u.style.top=Math.min(e.clientY-l-2,h)+"px"};f(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),i.isWin&&n.capture(t.container,f,c))},this.onContextMenuClose=c,(!i.isGecko||i.isMac)&&n.addListener(u,"contextmenu",function(e){t.textInput.onContextMenu(e),c()})};t.TextInput=a}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop","ace/config"],function(e,t){var n=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,r=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,a=e("./dragdrop").DragdropHandler,l=e("../config"),c=function(e){this.editor=e,new o(this),new r(this),new a(this);var t=e.renderer.getMouseEventTarget();n.addListener(t,"click",this.onMouseEvent.bind(this,"click")),n.addListener(t,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener(t,[300,300,250],this,"onMouseEvent"),e.renderer.scrollBarV&&(n.addMultiMouseDownListener(e.renderer.scrollBarV.inner,[300,300,250],this,"onMouseEvent"),n.addMultiMouseDownListener(e.renderer.scrollBarH.inner,[300,300,250],this,"onMouseEvent")),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var i=e.renderer.$gutter;n.addListener(i,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(i,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(i,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(i,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(t,"mousedown",function(t){return e.focus(),n.preventDefault(t)}),n.addListener(i,"mousedown",function(t){return e.focus(),n.preventDefault(t)})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){t&&this.setState(t),this.x=e.x,this.y=e.y,this.isMousePressed=!0;var o=this.editor.renderer;o.$keepTextAreaAtCursor&&(o.$keepTextAreaAtCursor=null);var r=this,s=function(e){r.x=e.clientX,r.y=e.clientY},a=function(e){clearInterval(c),l(),r[r.state+"End"]&&r[r.state+"End"](e),r.$clickSelection=null,null==o.$keepTextAreaAtCursor&&(o.$keepTextAreaAtCursor=!0,o.$moveTextAreaToCursor()),r.isMousePressed=!1,r.onMouseEvent("mouseup",e)
},l=function(){r[r.state]&&r[r.state]()};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){a(e)});n.capture(this.editor.container,s,a);var c=setInterval(l,20)}}).call(c.prototype),l.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:150},focusTimout:{initialValue:0}}),t.MouseHandler=c}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/useragent"],function(e,t){function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","drag","dragEnd","dragWait","dragWaitEnd","startDrag","focusWait"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function i(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return 0>n?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e("../lib/dom"),s=(e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();if(0!==o){var r=i.getSelectionRange(),s=r.isEmpty();return s&&(i.moveCursorToPosition(n),i.selection.clearSelection()),i.textInput.onContextMenu(e.domEvent),void 0}return!t||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(!t||this.$clickSelection||e.getShiftKey()||i.inMultiSelectMode?this.startSelect(n):t&&(this.mousedownEvent.time=(new Date).getTime(),this.setState("dragWait")),this.captureMouse(e),e.preventDefault()):(this.setState("focusWait"),this.captureMouse(e),e.preventDefault())},this.startSelect=function(e){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y),this.mousedownEvent.getShiftKey()?this.editor.selection.selectToPosition(e):this.$clickSelection||(this.editor.moveCursorToPosition(e),this.editor.selection.clearSelection()),this.setState("select")},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&0>=a)t=this.$clickSelection.end,(r.end.row!=i.row||r.end.column!=i.column)&&(i=r.start);else if(1==a&&s>=0)t=this.$clickSelection.start,(r.start.row!=i.row||r.start.column!=i.column)&&(i=r.end);else if(-1==s&&1==a)i=r.end,t=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.startDrag=function(){var e=this.editor;this.setState("drag"),this.dragRange=e.getSelectionRange();var t=e.getSelectionStyle();this.dragSelectionMarker=e.session.addMarker(this.dragRange,"ace_selection",t),e.clearSelection(),r.addCssClass(e.container,"ace_dragging"),this.$dragKeybinding||(this.$dragKeybinding={handleKeyboard:function(e,t,n){return"esc"==n?{command:this.command}:void 0},command:{exec:function(e){var t=e.$mouseHandler;t.dragCursor=null,t.dragEnd(),t.startSelect()}}}),e.keyBinding.addKeyboardHandler(this.$dragKeybinding)},this.focusWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=(new Date).getTime();(e>s||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.dragWait=function(){var e=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=(new Date).getTime(),n=this.editor;e>s?this.startSelect(this.mousedownEvent.getDocumentPosition()):t-this.mousedownEvent.time>n.$mouseHandler.$dragDelay&&this.startDrag()},this.dragWaitEnd=function(e){this.mousedownEvent.domEvent=e,this.startSelect()},this.drag=function(){var e=this.editor;this.dragCursor=e.renderer.screenToTextCoordinates(this.x,this.y),e.moveCursorToPosition(this.dragCursor),e.renderer.scrollCursorIntoView()},this.dragEnd=function(e){var t=this.editor,n=this.dragCursor,i=this.dragRange;if(r.removeCssClass(t.container,"ace_dragging"),t.session.removeMarker(this.dragSelectionMarker),t.keyBinding.removeKeyboardHandler(this.$dragKeybinding),n){if(t.clearSelection(),e&&(e.ctrlKey||e.altKey)){var o=t.session,s=i;s.end=o.insert(n,o.getTextRange(i)),s.start=n}else{if(i.contains(n.row,n.column))return;var s=t.moveText(i,n)}s&&t.selection.setSelectionRange(s)}},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session,o=i.getBracketRange(t);return o?(o.isEmpty()&&(o.start.column--,o.end.column++),this.$clickSelection=o,this.setState("select"),void 0):(this.$clickSelection=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords"),void 0)},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines"),this.$clickSelection=n.selection.getLineRange(t.row)},this.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("null")},this.onMouseWheel=function(e){if(!e.getShiftKey()&&!e.getAccelKey()){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor,o=i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return o||200>n?(this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(n.prototype),t.DefaultHandlers=n}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event"],function(e,t){function n(e){function t(){d=i.createElement("div"),d.className="ace_gutter-tooltip",d.style.display="none",a.container.appendChild(d)}function n(){d||t();var e=u.getDocumentPosition().row,n=l.$annotations[e];if(!n)return r();var i=a.session.getLength();if(e==i){var o=a.renderer.pixelToScreenCoordinates(0,u.y).row,c=u.$pos;if(o>a.session.documentToScreenRow(c.row,c.column))return r()}h!=n&&(h=n.text.join("<br/>"),d.style.display="block",d.innerHTML=h,a.on("mousewheel",r),s(u))}function r(){c&&(c=clearTimeout(c)),h&&(d.style.display="none",h=null,a.removeEventListener("mousewheel",r))}function s(e){var t=a.renderer.$gutter.getBoundingClientRect();d.style.left=e.x+15+"px",e.y+3*a.renderer.lineHeight+15<t.bottom?(d.style.bottom="",d.style.top=e.y+15+"px"):(d.style.top="",d.style.bottom=t.bottom-e.y+5+"px")}var a=e.editor,l=a.renderer.$gutterLayer;e.editor.setDefaultHandler("guttermousedown",function(t){if(a.isFocused()&&0==t.getButton()){var n=l.getRegion(t);if("foldWidgets"!=n){var i=t.getDocumentPosition().row,o=a.session.selection;if(t.getShiftKey())o.selectTo(i,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(i)}return e.captureMouse(t,"selectByLines"),t.preventDefault()}}});var c,u,d,h;e.editor.setDefaultHandler("guttermousemove",function(t){var o=t.domEvent.target||t.domEvent.srcElement;return i.hasCssClass(o,"ace_fold-widget")?r():(h&&s(t),u=t,c||(c=setTimeout(function(){c=null,u&&!e.isMousePressed?n():r()},50)),void 0)}),o.addListener(a.renderer.$gutter,"mouseout",function(){u=null,h&&!c&&(c=setTimeout(function(){c=null,r()},50))}),a.on("changeSession",r)}var i=e("../lib/dom"),o=e("../lib/event");t.GutterHandler=n}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t){var n=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor;if(e.getReadOnly())this.$inSelection=!1;else{var t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),define("ace/mouse/dragdrop",["require","exports","module","ace/lib/event"],function(e,t){var n=e("../lib/event"),i=function(e){function t(){c=d.selection.toOrientedRange(),r=d.session.addMarker(c,"ace_selection",d.getSelectionStyle()),d.clearSelection(),clearInterval(l),l=setInterval(p,20),h=0,n.addListener(document,"mousemove",o)}function i(){clearInterval(l),d.session.removeMarker(r),r=null,d.selection.fromOrientedRange(c),h=0,n.removeListener(document,"mousemove",o)}function o(){null==g&&(g=setTimeout(function(){null!=g&&r&&i()},20))}var r,s,a,l,c,u,d=e.editor,h=0,f=d.container;n.addListener(f,"dragenter",function(e){if(!d.getReadOnly()){var i=e.dataTransfer.types;if(!i||-1!==Array.prototype.indexOf.call(i,"text/plain"))return r||t(),h++,n.preventDefault(e)}}),n.addListener(f,"dragover",function(e){if(!d.getReadOnly()){var t=e.dataTransfer.types;if(!t||-1!==Array.prototype.indexOf.call(t,"text/plain"))return null!==g&&(g=null),s=e.clientX,a=e.clientY,n.preventDefault(e)}});var p=function(){u=d.renderer.screenToTextCoordinates(s,a),d.moveCursorToPosition(u),d.renderer.scrollCursorIntoView()};n.addListener(f,"dragleave",function(e){return h--,0>=h&&r?(i(),n.preventDefault(e)):void 0}),n.addListener(f,"drop",function(e){return r?(c.end=d.session.insert(u,e.dataTransfer.getData("Text")),c.start=u,i(),d.focus(),n.preventDefault(e)):void 0});var g=null};t.DragdropHandler=i}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/event_emitter"],function(e,t,n){"no use strict";function i(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var o=e("./lib/lang"),r=e("./lib/oop"),s=e("./lib/net"),a=e("./lib/event_emitter").EventEmitter,l=function(){return this}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);c[e]=t},t.all=function(){return o.copyObject(c)},r.implement(t,a),t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var i="snippets"==t?"/":"-",o=n[n.length-1];if("-"==i){var r=new RegExp("^"+t+"[-_]|[-_]"+t+"$","g");o=o.replace(r,"")}(!o||o==t)&&n.length>1&&(o=n[n.length-2]);var s=c[t+"Path"];return null==s?s=c.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+o+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var o,r;Array.isArray(n)&&(r=n[0],n=n[1]);try{o=e(n)}catch(a){}if(o&&!t.$loading[n])return i&&i(o);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var l=function(){e([n],function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach(function(t){t&&t(e)})})};return t.get("packaged")?(s.loadScript(t.moduleUrl(n,r),l),void 0):l()}},t.init=function(){if(c.packaged=e.packaged||n.packaged||l.define&&define.packaged,!l.document)return"";for(var o={},r="",s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var u=s[a],d=u.src||u.getAttribute("src");if(d){for(var h=u.attributes,f=0,p=h.length;p>f;f++){var g=h[f];0===g.name.indexOf("data-ace-")&&(o[i(g.name.replace(/^data-ace-/,""))]=g.value)}var m=d.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);m&&(r=m[1])}}r&&(o.base=o.base||r,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var v in o)"undefined"!=typeof o[v]&&t.set(v,o[v])};var u={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return void 0;if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:void 0}},d={};t.defineOptions=function(e,t,n){return e.$options||(d[t]=e.$options={}),Object.keys(n).forEach(function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)}),r.implement(e,u),this},t.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)})},t.setDefaultValue=function(e,n,i){var o=d[e]||(d[e]={});o[n]&&(o.forwardTo?t.setDefaultValue(o.forwardTo,n,i):o[n].value=i)},t.setDefaultValues=function(e,n){Object.keys(n).forEach(function(i){t.setDefaultValue(e,i,n[i])})}}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t){var n=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),o=document.createElement("script");o.src=e,i.appendChild(o),o.onload=o.onreadystatechange=function(e,n){(n||!o.readyState||"loaded"==o.readyState||"complete"==o.readyState)&&(o=o.onload=o.onreadystatechange=null,n||t())}}}),define("ace/lib/event_emitter",["require","exports","module"],function(e,t){var n={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},n._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},n.once=function(e,t){var n=this;t&&this.addEventListener(e,function i(){n.removeEventListener(e,i),t.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],o=n._disabled_[e];o||(n._disabled_[e]=o=[]),o.push(i);var r=o.indexOf(t);-1!=r&&o.splice(r,1)}n[e]=t},n.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t){{n[e]}i&&this.setDefaultHandler(e,i.pop())}else if(i){var o=i.indexOf(t);-1!=o&&i.splice(o,1)}}},n.on=n.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),define("ace/mouse/fold_handler",["require","exports","module"],function(e,t){function n(e){e.on("click",function(t){var n=t.getDocumentPosition(),i=e.session,o=i.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?i.removeFold(o):i.expandFold(o),t.stop())}),e.on("gutterclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,o=e.session;o.foldWidgets&&o.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var i=t.getDocumentPosition().row,o=e.session,r=o.getParentFoldRangeData(i,!0),s=r.range||r.firstRange;if(s){var i=s.start.row,a=o.getFoldAt(i,o.getLine(i).length,1);a?o.removeFold(a):(o.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}t.FoldHandler=n}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t){var n=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0),this.$data={editor:this.$editor}},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1==t?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(e,t,n,o){for(var r,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(r=this.$handlers[l].handleKeyboard(this.$data,e,t,n,o),!(r&&r.command&&(s="null"==r.command?!0:a.exec(r.command,this.$editor,r.args,o),s&&o&&-1!=e&&1!=r.passEvent&&1!=r.command.passEvent&&i.stopEvent(o),s))););return s},this.onCommandKey=function(e,t,i){var o=n.keyCodeToString(i);this.$callKeyboardHandlers(t,o,i,e)},this.onTextInput=function(e){var t=this.$callKeyboardHandlers(-1,e);t||this.$editor.commands.exec("insertstring",this.$editor,e)}}).call(o.prototype),t.KeyBinding=o}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t){var n=e("./lib/oop"),i=e("./lib/lang"),o=e("./config"),r=e("./lib/event_emitter").EventEmitter,s=e("./selection").Selection,a=e("./mode/text").Mode,l=e("./range").Range,c=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,h=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new c(e)),this.setDocument(e),this.selection=new s(this),o.resetOptions(this),this.setMode(t),o._emit("session",this)};(function(){function t(e){return 4352>e?!1:e>=4352&&4447>=e||e>=4515&&4519>=e||e>=4602&&4607>=e||e>=9001&&9002>=e||e>=11904&&11929>=e||e>=11931&&12019>=e||e>=12032&&12245>=e||e>=12272&&12283>=e||e>=12288&&12350>=e||e>=12353&&12438>=e||e>=12441&&12543>=e||e>=12549&&12589>=e||e>=12593&&12686>=e||e>=12688&&12730>=e||e>=12736&&12771>=e||e>=12784&&12830>=e||e>=12832&&12871>=e||e>=12880&&13054>=e||e>=13056&&19903>=e||e>=19968&&42124>=e||e>=42128&&42182>=e||e>=43360&&43388>=e||e>=44032&&55203>=e||e>=55216&&55238>=e||e>=55243&&55291>=e||e>=63744&&64255>=e||e>=65040&&65049>=e||e>=65072&&65106>=e||e>=65108&&65126>=e||e>=65128&&65131>=e||e>=65281&&65376>=e||e>=65504&&65510>=e}n.implement(this,r),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],this.$screenRowCache=[],void 0;var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;i>=n;){var o=n+i>>1,r=e[o];if(t>r)n=o+1;else{if(!(r>t))return o;i=o-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var n=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),n&&0!=n.length&&this.$deltasFold.push({action:"removeFolds",folds:n}),this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(t),this._emit("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveCursorTo(0,0),this.selection.clearSelection(),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),o=0;if(null==t)r=i.length-1,o=this.getLine(e).length;else for(var r=0;r<i.length&&(o+=i[r].value.length,!(o>=t));r++);return(n=i[r])?(n.index=r,n.start=o-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._emit("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._emit("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._emit("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._emit("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._emit("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._emit("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var o=this.$markerId++,r={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:o};return i?(this.$frontMarkers[o]=r,this._emit("changeFrontMarker")):(this.$backMarkers[o]=r,this._emit("changeBackMarker")),o},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._emit("changeFrontMarker")):(this.$backMarkers[n]=e,this._emit("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._emit(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var o=new l(e,0,t,1/0);return o.id=this.addMarker(o,n,"fullLine",i),o},this.setAnnotations=function(e){this.$annotations=e,this._emit("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var o=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var o=/\s/;else var o=this.nonTokenRe;var r=t;if(r>0){do r--;while(r>=0&&n.charAt(r).match(o));r++}for(var s=t;s<n.length&&n.charAt(s).match(o);)s++;return new l(e,r,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._emit("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):(this.$modeId=i,o.loadModule(["mode",i],function(e){return this.$modeId!==i?t&&t():this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):(e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e),t&&t(this.mode)),void 0)}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0),void 0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new u(n);var o=this;this.bgTokenizer.addEventListener("update",function(e){o._emit("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,this.$options.wrapMethod.set.call(this,this.$wrapMethod),t||(this.$setFolding(e.foldingRules),this._emit("changeMode"),this.bgTokenizer.start(0))}},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if("undefined"==typeof Worker||e.noWorker)this.$worker=null;else try{this.$worker=this.$mode.createWorker(this)}catch(t){console.log("Could not load worker"),console.log(t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.screenWidth},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,o=0,r=this.$foldData[o],s=r?r.start.row:1/0,a=t.length,l=0;a>l;l++){if(l>s){if(l=r.end.row+1,l>=a)break;r=this.$foldData[o++],s=r?r.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=e.length-1;-1!=i;i--){var o=e[i];"doc"==o.group?(this.doc.revertDeltas(o.deltas),n=this.$getUndoSelection(o.deltas,!0,n)):o.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=0;i<e.length;i++){var o=e[i];"doc"==o.group&&(this.doc.applyDeltas(o.deltas),n=this.$getUndoSelection(o.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function i(e){var n="insertText"===e.action||"insertLines"===e.action;return t?!n:n}var o,r,s=e[0],a=!1;i(s)?(o=l.fromPoints(s.range.start,s.range.end),a=!0):(o=l.fromPoints(s.range.start,s.range.start),a=!1);for(var c=1;c<e.length;c++)s=e[c],i(s)?(r=s.range.start,-1==o.compare(r.row,r.column)&&o.setStart(s.range.start),r=s.range.end,1==o.compare(r.row,r.column)&&o.setEnd(s.range.end),a=!0):(r=s.range.start,-1==o.compare(r.row,r.column)&&(o=l.fromPoints(s.range.start,s.range.start)),a=!1);if(null!=n){0==l.comparePoints(n.start,o.start)&&(n.start.column+=o.end.column-o.start.column,n.end.column+=o.end.column-o.start.column);var u=n.compareRange(o);
1==u?o.setStart(n.start):-1==u&&o.setEnd(n.end)}return o},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),o=this.getFoldsInRange(e),r=l.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(r.start.row==e.end.row&&r.start.column>e.end.column&&(r.start.column+=a),r.end.row==e.end.row&&r.end.column>e.end.column&&(r.end.column+=a)),s&&r.start.row>=e.end.row&&(r.start.row+=s,r.end.row+=s)}if(this.insert(r.start,i),o.length){var c=e.start,u=r.start,s=u.row-c.row,a=u.column-c.column;this.addFolds(o.map(function(e){return e=e.clone(),e.start.row==c.row&&(e.start.column+=a),e.end.row==c.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return r},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;t>=i;i++)this.insert({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new l(0,0,0,0),i=this.getTabSize(),o=t.start.row;o<=t.end.row;++o){var r=this.getLine(o);n.start.row=o,n.end.row=o;for(var s=0;i>s&&" "==r.charAt(s);++s);i>s&&"	"==r.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),0>n){var i=this.getRowFoldStart(e+n);if(0>i)return 0;var o=i-e}else if(n>0){var i=this.getRowFoldEnd(t+n);if(i>this.doc.getLength()-1)return 0;var o=i-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var o=t-e+1}var r=new l(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(r).map(function(e){return e=e.clone(),e.start.row+=o,e.end.row+=o,e}),a=0==n?this.doc.getLines(e,t):this.doc.removeLines(e,t);return this.doc.insertLines(e+o,a),s.length&&this.addFolds(s),o},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return 0>t?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),0>e)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=[];for(var n=0;t>n;n++)this.$wrapData.push([]);this.$updateWrapData(0,t-1)}this._emit("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this._emit("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1?(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._emit("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t,n=this.$useWrapMode,i=e.data.action,o=e.data.range.start.row,r=e.data.range.end.row,s=e.data.range.start,a=e.data.range.end,l=null;if(-1!=i.indexOf("Lines")?(r="insertLines"==i?o+e.data.lines.length:o,t=e.data.lines?e.data.lines.length:r-o):t=r-o,this.$updating=!0,0!=t)if(-1!=i.indexOf("remove")){this[n?"$wrapData":"$rowLengthCache"].splice(o,t);var c=this.$foldData;l=this.getFoldsInRange(e.data.range),this.removeFolds(l);var u=this.getFoldLine(a.row),d=0;if(u){u.addRemoveChars(a.row,a.column,s.column-a.column),u.shiftRow(-t);var h=this.getFoldLine(o);h&&h!==u&&(h.merge(u),u=h),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=a.row&&u.shiftRow(-t)}r=o}else{var f;if(n){f=[o,0];for(var p=0;t>p;p++)f.push([]);this.$wrapData.splice.apply(this.$wrapData,f)}else f=Array(t),f.unshift(o,0),this.$rowLengthCache.splice.apply(this.$rowLengthCache,f);var c=this.$foldData,u=this.getFoldLine(o),d=0;if(u){var g=u.range.compareInside(s.row,s.column);0==g?(u=u.split(s.row,s.column),u.shiftRow(t),u.addRemoveChars(r,0,a.column-s.column)):-1==g&&(u.addRemoveChars(o,0,a.column-s.column),u.shiftRow(t)),d=c.indexOf(u)+1}for(d;d<c.length;d++){var u=c[d];u.start.row>=o&&u.shiftRow(t)}}else{t=Math.abs(e.data.range.start.column-e.data.range.end.column),-1!=i.indexOf("remove")&&(l=this.getFoldsInRange(e.data.range),this.removeFolds(l),t=-t);var u=this.getFoldLine(o);u&&u.addRemoveChars(o,s.column,t)}return n&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,n?this.$updateWrapData(o,r):this.$updateRowLengthCache(o,r),l},this.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var n,i,o=this.doc.getAllLines(),r=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,o.length-1);t>=l;)i=this.getFoldLine(l,i),i?(n=[],i.walk(function(e,t,i,r){var s;if(null!=e){s=this.$getDisplayTokens(e,n.length),s[0]=h;for(var a=1;a<s.length;a++)s[a]=f}else s=this.$getDisplayTokens(o[t].substring(r,i),n.length);n=n.concat(s)}.bind(this),i.end.row,o[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(n,a,r),l=i.end.row+1):(n=this.$getDisplayTokens(o[l]),s[l]=this.$computeWrapSplits(n,a,r),l++)};var s=1,c=2,h=3,f=4,p=9,g=10,m=11,v=12;this.$computeWrapSplits=function(e,t){function n(t){var n=e.slice(r,t),o=n.length;n.join("").replace(/12/g,function(){o-=1}).replace(/2/g,function(){o-=1}),s+=o,i.push(s),r=t}if(0==e.length)return[];for(var i=[],o=e.length,r=0,s=0,a=this.$wrapAsCode;o-r>t;){var l=r+t;if(e[l-1]>=g&&e[l]>=g)n(l);else if(e[l]!=h&&e[l]!=f){for(var c=Math.max(l-(a?10:t-(t>>2)),r-1);l>c&&e[l]<h;)l--;if(a){for(;l>c&&e[l]<h;)l--;for(;l>c&&e[l]==p;)l--}else for(;l>c&&e[l]<g;)l--;l>c?n(++l):(l=r+t,n(l))}else{for(l;l!=r-1&&e[l]!=h;l--);if(l>r){n(l);continue}for(l=r+t;l<e.length&&e[l]==f;l++);if(l==e.length)break;n(l)}}return i},this.$getDisplayTokens=function(e,n){var i,o=[];n=n||0;for(var r=0;r<e.length;r++){var a=e.charCodeAt(r);if(9==a){i=this.getScreenTabSize(o.length+n),o.push(m);for(var l=1;i>l;l++)o.push(v)}else 32==a?o.push(g):a>39&&48>a||a>57&&64>a?o.push(p):a>=4352&&t(a)?o.push(s,c):o.push(s)}return o},this.$getStringScreenWidth=function(e,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var o,r;for(r=0;r<e.length&&(o=e.charCodeAt(r),i+=9==o?this.getScreenTabSize(i):o>=4352&&t(o)?2:1,!(i>n));r++);return[i,r]},this.getRowLength=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(0>e)return{row:0,column:0};var n,i,o=0,r=0,s=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var s=l[c],o=this.$docRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getLength()-1,f=this.getNextFoldLine(o),p=f?f.start.row:1/0;e>=s&&(a=this.getRowLength(o),!(s+a-1>=e||o>=h));)s+=a,o++,o>p&&(o=f.end.row+1,f=this.getNextFoldLine(o,f),p=f?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(s));if(f&&f.start.row<=o)n=this.getFoldDisplayLine(f),o=f.start.row;else{if(e>=s+a||o>h)return{row:h,column:this.getLine(h).length};n=this.getLine(o),f=null}if(this.$useWrapMode){var g=this.$wrapData[o];g&&(i=g[e-s],e>s&&g.length&&(r=g[e-s-1]||g[g.length-1],n=n.substring(r)))}return r+=this.$getStringScreenWidth(n,t)[1],this.$useWrapMode&&r>=i&&(r=i-1),f?f.idxToPosition(r):{row:o,column:r}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i=0,o=null,r=null;r=this.getFoldAt(e,t,1),r&&(e=r.start.row,t=r.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],i=this.$screenRowCache[c],d=e>l[u-1];else var d=!u;for(var h=this.getNextFoldLine(a),f=h?h.start.row:1/0;e>a;){if(a>=f){if(s=h.end.row+1,s>e)break;h=this.getNextFoldLine(s,h),f=h?h.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,d&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var p="";if(h&&a>=f?(p=this.getFoldDisplayLine(h,e,t),o=h.start.row):(p=this.getLine(e).substring(0,t),o=e),this.$useWrapMode){for(var g=this.$wrapData[o],m=0;p.length>=g[m];)i++,m++;p=p.substring(g[m-1]||0,p.length)}return{row:i,column:this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,o=0,t=this.$foldData[o++],r=t?t.start.row:1/0;n>i;)e+=this.$wrapData[i].length+1,i++,i>r&&(i=t.end.row+1,t=this.$foldData[o++],r=t?t.start.row:1/0);else{e=this.getLength();for(var s=this.$foldData,o=0;o<s.length;o++)t=s[o],e-=t.end.row-t.start.row}return e}}).call(h.prototype),e("./edit_session/folding").Folding.call(h.prototype),e("./edit_session/bracket_match").BracketMatch.call(h.prototype),o.defineOptions(h.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e){if(e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1);this.$wrap=e}},get:function(){return this.getUseWrapMode()?this.getWrapLimitRange().min||"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){this.$wrapAsCode="auto"==e?"text"!=this.$mode.type:"text"!=e},initialValue:"auto"},firstLineNumber:{set:function(){this._emit("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._emit("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(){this._emit("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0}}),t.EditSession=h}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t){var n=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){n.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return this.moveCursorTo(this.lead.row,this.lead.column+e),void 0;var t=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?r.fromPoints(t,t):this.isBackwards()?r.fromPoints(t,e):r.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,o=this.session.getFoldLine(i);return o?(i=o.start.row,n=o.end.row):n=i,t===!0?new r(i,0,n,this.session.getLine(n).length):new r(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0==t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),o=this.session.getDisplayLine(e,null,i.row,i.column),r=o.match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),o=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,n,1);return r?(this.moveCursorTo(r.end.row,r.end.column),void 0):((e=this.session.nonTokenRe.exec(o))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,o=i.substring(n)),n>=i.length?(this.moveCursorTo(t,i.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight(),void 0):((e=this.session.tokenRe.exec(o))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n),void 0))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column),void 0;var o=this.session.getFoldStringAt(t,n,-1);null==o&&(o=this.doc.getLine(t).substring(0,n));var r,s=i.stringReverse(o);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(r=this.session.nonTokenRe.exec(s))&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft(),void 0):((r=this.session.tokenRe.exec(s))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n),void 0)},this.$shortWordEndIndex=function(e){var t,n,i=0,o=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,t=this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(n=e[i])&&o.test(n);)i++;if(1>i)for(r.lastIndex=0;(n=e[i])&&!r.test(n);)if(r.lastIndex=0,i++,o.test(n)){if(i>2){i--;break}for(;(n=e[i])&&o.test(n);)i++;if(i>2)break}}return r.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),o=this.session.getFoldAt(e,t,1);if(o)return this.moveCursorTo(o.end.row,o.end.column);if(t==n.length){var r=this.doc.getLength();do e++,i=this.doc.getLine(e);while(r>e&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var o=this.session.getLine(t).substring(0,n);if(0==n){do t--,o=this.doc.getLine(t);while(t>0&&/^\s*$/.test(o));n=o.length,/\s+$/.test(o)||(o="")}var r=i.stringReverse(o),s=this.$shortWordEndIndex(r);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column);this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=r.fromPoints(e[t].start,e[t].end);e.isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s}),define("ace/range",["require","exports","module"],function(e,t){var n=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(i.row,i.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(i.row,i.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return 0==this.compare(e,t)?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return 0==this.compare(e,t)?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var o={row:t+1,column:0};else if(this.start.row<e)var o={row:e,column:0};return i.fromPoints(o||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var o={row:e,column:t};else var r={row:e,column:t};return i.fromPoints(o||this.start,r||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=n,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t){var n=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour").Behaviour,r=e("../unicode"),s=e("../lib/lang"),a=e("../token_iterator").TokenIterator,l=e("../range").Range,c=function(){this.$tokenizer=new n((new i).getRules()),this.$behaviour=new o};(function(){this.tokenRe=new RegExp("^["+r.packages.L+r.packages.Mn+r.packages.Mc+r.packages.Nd+r.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+r.packages.L+r.packages.Mn+r.packages.Mc+r.packages.Nd+r.packages.Pc+"\\$_]|s])+","g"),this.getTokenizer=function(){return this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){function o(e){for(var t=n;i>=t;t++)e(r.getLine(t),t)}var r=t.doc,a=!0,l=!0,c=1/0,u=t.getTabSize(),d=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var h=this.lineCommentStart.map(s.escapeRegExp).join("|"),f=this.lineCommentStart[0];else var h=s.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;h=new RegExp("^(\\s*)(?:"+h+") ?"),d=t.getUseSoftTabs();var p=function(e,t){var n=e.match(h);if(n){var i=n[1].length,o=n[0].length;y(e,i,o)||" "!=n[0][o-1]||o--,r.removeInLine(t,i,o)}},g=f+" ",m=function(e,t){(!a||/\S/.test(e))&&(y(e,c,c)?r.insertInLine({row:t,column:c},g):r.insertInLine({row:t,column:c},f))},v=function(e){return h.test(e)},y=function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%u!=0)return!1;for(var i=0;" "==e.charAt(n++);)i++;return u>2?i%u!=u-1:i%u==0}}else{if(!this.blockComment)return!1;var f=this.blockComment.start,b=this.blockComment.end,h=new RegExp("^(\\s*)(?:"+s.escapeRegExp(f)+")"),w=new RegExp("(?:"+s.escapeRegExp(b)+")\\s*$"),m=function(e,t){v(e,t)||(!a||/\S/.test(e))&&(r.insertInLine({row:t,column:e.length},b),r.insertInLine({row:t,column:c},f))},p=function(e,t){var n;(n=e.match(w))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(h))&&r.removeInLine(t,n[1].length,n[0].length)},v=function(e,n){if(h.test(e))return!0;for(var i=t.getTokens(n),o=0;o<i.length;o++)if("comment"===i[o].type)return!0}}var _=1/0;o(function(e,t){var n=e.search(/\S/);-1!==n?(c>n&&(c=n),l&&!v(e,t)&&(l=!1)):_>e.length&&(_=e.length)}),1/0==c&&(c=_,a=!1,l=!1),d&&c%u!=0&&(c=Math.floor(c/u)*u),o(l?p:m)},this.toggleBlockComment=function(e,t,n,i){var o=this.blockComment;if(o){!o.start&&o[0]&&(o=o[0]);var r,s,c=new a(t,i.row,i.column),u=c.getCurrentToken(),d=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var h,f;u&&/comment/.test(u.type);){var p=u.value.indexOf(o.start);if(-1!=p){var g=c.getCurrentTokenRow(),m=c.getCurrentTokenColumn()+p;h=new l(g,m,g,m+o.start.length);break}u=c.stepBackward()}for(var c=new a(t,i.row,i.column),u=c.getCurrentToken();u&&/comment/.test(u.type);){var p=u.value.indexOf(o.end);if(-1!=p){var g=c.getCurrentTokenRow(),m=c.getCurrentTokenColumn()+p;f=new l(g,m,g,m+o.end.length);break}u=c.stepForward()}f&&t.remove(f),h&&(t.remove(h),r=h.start.row,s=-o.start.length)}else s=o.start.length,r=n.start.row,t.insert(n.end,o.end),t.insert(n.start,o.start);d.start.row==r&&(d.start.column+=s),d.end.row==r&&(d.end.column+=s),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t){return this.$getIndent(t)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(e){if(this.$embeds){this.$modes={};for(var t=0;t<this.$embeds.length;t++)e[this.$embeds[t]]&&(this.$modes[this.$embeds[t]]=new e[this.$embeds[t]]);for(var n=["toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<n.length;t++)!function(e){var i=n[t],o=e[i];e[n[t]]=function(){return this.$delegator(i,arguments,o)}}(this)}},this.$delegator=function(e,t,n){var i=t[0];"string"!=typeof i&&(i=i[0]);for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var r=i.split(this.$embeds[o]);if(!r[0]&&r[1]){t[0]=r[1];var s=this.$modes[this.$embeds[o]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var i in n)if(n[i][t]){var o=n[i][t].apply(this,arguments);if(o)return o}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var o=t[i],r=0,s=o.length;s>r;r++)if("string"==typeof o[r].token)/keyword|support|storage/.test(o[r].token)&&n.push(o[r].regex);else if("object"==typeof o[r].token)for(var a=0,l=o[r].token.length;l>a;a++)if(/keyword|support|storage/.test(o[r].token[a])){var i=o[r].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.getCompletions=function(){var e=this.$keywordList||[];return e.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})}}).call(c.prototype),t.Mode=c}),define("ace/tokenizer",["require","exports","module"],function(e,t){var n=1e3,i=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var n=this.states[t],i=[],o=0,r=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(r.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;if(Array.isArray(c.token))if(1==c.token.length||1==d)c.token=c.token[0];else{if(d-1!=c.token.length)throw new Error("number of classes and regexp groups in '"+c.token+"'\n'"+c.regex+"' doesn't match\n"+(d-1)+"!="+c.token.length);
c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens}else"function"!=typeof c.token||c.onMatch||(c.onMatch=d>1?this.$applyToken:c.token);d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+o+1)}):(d=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),r[o]=l,o+=d,i.push(u),c.onMatch||(c.onMatch=null),c.__proto__=null}}a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],o=0,r=n.length;r>o;o++)t[o]&&(i[i.length]={type:n[o],value:t[o]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,o=0,r=i.length;r>o;o++)t[o+1]&&(n[n.length]={type:i[o],value:t[o+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,o={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,r,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==o.stack&&(o.end=l+1,o.stack=-1),n--):r&&(n++,1!=r.length&&(o.stack=n,o.start=l)),e}),null!=o.end&&/^\)*$/.test(e.substr(o.end))&&(e=e.substring(0,o.start)+e.substr(o.end))}return new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var i=t.slice(0);t=i[0]}else var i=[];var o=t||"start",r=this.states[o],s=this.matchMappings[o],a=this.regExps[o];a.lastIndex=0;for(var l,c=[],u=0,d={type:null,value:""};l=a.exec(e);){var h=s.defaultToken,f=null,p=l[0],g=a.lastIndex;if(g-p.length>u){var m=e.substring(u,g-p.length);d.type==h?d.value+=m:(d.type&&c.push(d),d={type:h,value:m})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){f=r[s[v]],h=f.onMatch?f.onMatch(p,o,i):f.token,f.next&&(o="string"==typeof f.next?f.next:f.next(o,i),r=this.states[o],r||(window.console&&console.error&&console.error(o,"doesn't exist"),o="start",r=this.states[o]),s=this.matchMappings[o],u=g,a=this.regExps[o],a.lastIndex=g);break}if(p)if("string"==typeof h)f&&f.merge===!1||d.type!==h?(d.type&&c.push(d),d={type:h,value:p}):d.value+=p;else if(h){d.type&&c.push(d),d={type:null,value:""};for(var v=0;v<h.length;v++)c.push(h[v])}if(u==e.length)break;if(u=g,c.length>n){for(;u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=2e3),type:"overflow"};o="start",i=[];break}}return d.type&&c.push(d),{tokens:c,state:i.length?i:o}}}).call(i.prototype),t.Tokenizer=i}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t){var n=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],o=0;o<i.length;o++){var r=i[o];r.next&&("string"!=typeof r.next?r.nextState&&0!==r.nextState.indexOf(t)&&(r.nextState=t+r.nextState):0!==r.next.indexOf(t)&&(r.next=t+r.next))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,o,r){var s=(new e).getRules();if(o)for(var a=0;a<o.length;a++)o[a]=t+o[a];else{o=[];for(var l in s)o.push(t+l)}if(this.addRules(s,t),i)for(var c=Array.prototype[r?"push":"unshift"],a=0;a<o.length;a++)c.apply(this.$rules[o[a]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return"start"!=e&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t[0]!==e?"start":(t.shift(),t.shift())};this.normalizeRules=function(){function n(r){var s=o[r];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||(u=l.token,"string"!=typeof u&&(u=u[0]||""),o[u]&&(u+=i++)),o[u]=c,l.next=u,n(u)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)o[d]?o[d].push&&o[d].push.apply(o[d],l.rules[d]):o[d]=l.rules[d];if(l.include||"string"==typeof l)var h=l.include||l,f=o[h];else Array.isArray(l)&&(f=l);if(f){var p=[a,1].concat(f);l.noEscape&&(p=p.filter(function(e){return!e.next})),s.splice.apply(s,p),a--,f=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,o=this.$rules;Object.keys(o).forEach(n,this)},this.createKeywordMapper=function(e,t,n,i){var o=Object.create(null);return Object.keys(e).forEach(function(t){var r=e[t];n&&(r=r.toLowerCase());for(var s=r.split(i||"|"),a=s.length;a--;)o[s[a]]=t}),this.$keywordList=Object.keys(o),e=null,n?function(e){return o[e.toLowerCase()]||t}:function(e){return o[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),define("ace/mode/behaviour",["require","exports","module"],function(e,t){var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n}),define("ace/unicode",["require","exports","module"],function(e,t){function n(e){var n=/\w{4}/g;for(var i in e)t.packages[i]=e[i].replace(n,"\\u$&")}t.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),define("ace/token_iterator",["require","exports","module"],function(e,t){var n=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1
}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)t-=1,n+=e[t].value.length;return n}}).call(n.prototype),t.TokenIterator=n}),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t){var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,r=e("./anchor").Anchor,s=function(e){this.$lines=[],0==e.length?this.$lines=[""]:Array.isArray(e)?this._insertLines(0,e):this.insert({row:0,column:0},e)};(function(){n.implement(this,i),this.setValue=function(e){var t=this.getLength();this.remove(new o(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new r(this,e,t)},this.$split=0=="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine}},this.$autoNewLine="\n",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e)},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.getLine(e.start.row).substring(e.start.column,e.end.column);var t=this.getLines(e.start.row,e.end.row);t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;return e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):e.row<0&&(e.row=0),e},this.insert=function(e,t){if(!t||0===t.length)return e;e=this.$clipPosition(e),this.getLength()<=1&&this.$detectNewLine(t);var n=this.$split(t),i=n.splice(0,1)[0],o=0==n.length?null:n.splice(n.length-1,1)[0];return e=this.insertInLine(e,i),null!==o&&(e=this.insertNewLine(e),e=this._insertLines(e.row,n),e=this.insertInLine(e,o||"")),e},this.insertLines=function(e,t){return e>=this.getLength()?this.insert({row:e,column:0},"\n"+t.join("\n")):this._insertLines(Math.max(e,0),t)},this._insertLines=function(e,t){if(0==t.length)return{row:e,column:0};if(t.length>65535){var n=this._insertLines(e,t.slice(65535));t=t.slice(0,65535)}var i=[e,0];i.push.apply(i,t),this.$lines.splice.apply(this.$lines,i);var r=new o(e,0,e+t.length,0),s={action:"insertLines",range:r,lines:t};return this._emit("change",{data:s}),n||r.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var n={row:e.row+1,column:0},i={action:"insertText",range:o.fromPoints(e,n),text:this.getNewLineCharacter()};return this._emit("change",{data:i}),n},this.insertInLine=function(e,t){if(0==t.length)return e;var n=this.$lines[e.row]||"";this.$lines[e.row]=n.substring(0,e.column)+t+n.substring(e.column);var i={row:e.row,column:e.column+t.length},r={action:"insertText",range:o.fromPoints(e,i),text:t};return this._emit("change",{data:r}),i},this.remove=function(e){if(!e instanceof o&&(e=o.fromPoints(e.start,e.end)),e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end),e.isEmpty())return e.start;var t=e.start.row,n=e.end.row;if(e.isMultiLine()){var i=0==e.start.column?t:t+1,r=n-1;e.end.column>0&&this.removeInLine(n,0,e.end.column),r>=i&&this._removeLines(i,r),i!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,n){if(t!=n){var i=new o(e,t,e,n),r=this.getLine(e),s=r.substring(t,n),a=r.substring(0,t)+r.substring(n,r.length);this.$lines.splice(e,1,a);var l={action:"removeText",range:i,text:s};return this._emit("change",{data:l}),i.start}},this.removeLines=function(e,t){return 0>e||t>=this.getLength()?this.remove(new o(e,0,t+1,0)):this._removeLines(e,t)},this._removeLines=function(e,t){var n=new o(e,0,t+1,0),i=this.$lines.splice(e,t-e+1),r={action:"removeLines",range:n,nl:this.getNewLineCharacter(),lines:i};return this._emit("change",{data:r}),i},this.removeNewLine=function(e){var t=this.getLine(e),n=this.getLine(e+1),i=new o(e,t.length,e+1,0),r=t+n;this.$lines.splice(e,2,r);var s={action:"removeText",range:i,text:this.getNewLineCharacter()};this._emit("change",{data:s})},this.replace=function(e,t){if(!e instanceof o&&(e=o.fromPoints(e.start,e.end)),0==t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;if(this.remove(e),t)var n=this.insert(e.start,t);else n=e.start;return n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=o.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this.insertLines(i.start.row,n.lines):"insertText"==n.action?this.insert(i.start,n.text):"removeLines"==n.action?this._removeLines(i.start.row,i.end.row-1):"removeText"==n.action&&this.remove(i)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],i=o.fromPoints(n.range.start,n.range.end);"insertLines"==n.action?this._removeLines(i.start.row,i.end.row-1):"insertText"==n.action?this.remove(i):"removeLines"==n.action?this._insertLines(i.start.row,n.lines):"removeText"==n.action&&this.insert(i.start,n.text)}},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,o=t||0,r=n.length;r>o;o++)if(e-=n[o].length+i,0>e)return{row:o,column:e+n[o].length+i};return{row:r-1,column:n[r-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,o=0,r=Math.min(e.row,n.length),s=t||0;r>s;++s)o+=n[s].length+i;return o+e.column}}).call(s.prototype),t.Document=s}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){n.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var t=e.data,n=t.range;if((n.start.row!=n.end.row||n.start.row==this.row)&&!(n.start.row>this.row||n.start.row==this.row&&n.start.column>this.column)){var i=this.row,o=this.column,r=n.start,s=n.end;"insertText"===t.action?r.row===i&&r.column<=o?r.column===o&&this.$insertRight||(r.row===s.row?o+=s.column-r.column:(o-=r.column,i+=s.row-r.row)):r.row!==s.row&&r.row<i&&(i+=s.row-r.row):"insertLines"===t.action?r.row<=i&&(i+=s.row-r.row):"removeText"===t.action?r.row===i&&r.column<o?o=s.column>=o?r.column:Math.max(0,o-(s.column-r.column)):r.row!==s.row&&r.row<i?(s.row===i&&(o=Math.max(0,o-s.column)+r.column),i-=s.row-r.row):s.row===i&&(i-=s.row-r.row,o=Math.max(0,o-s.column)+r.column):"removeLines"==t.action&&r.row<=i&&(s.row<=i?i-=s.row-r.row:(i=r.row,o=0)),this.setPosition(i,o,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var o={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._emit("change",{old:o,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>e?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),0>t&&(n.column=0),n}}).call(o.prototype)}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t){var n=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,i=-1,o=t.doc;t.lines[n];)n++;var r=n,s=o.getLength(),a=0;for(t.running=!1;s>n;){t.$tokenizeRow(n),i=n;do n++;while(t.lines[n]);if(a++,a%5==0&&new Date-e>20)return t.running=setTimeout(t.$worker,20),t.currentLine=n,void 0}t.currentLine=n,i>=r&&t.fireUpdateEvent(r,i)}}};(function(){n.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._emit("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running=setTimeout(this.$worker,700)},this.$updateOnChange=function(e){var t=e.range,n=t.start.row,i=t.end.row-n;if(0===i)this.lines[n]=null;else if("removeText"==e.action||"removeLines"==e.action)this.lines.splice(n,i+1,null),this.states.splice(n,i+1,null);else{var o=Array(i+1);o.unshift(n,1),this.lines.splice.apply(this.lines,o),this.states.splice.apply(this.states,o)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){var n=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,o,r){if(this.regExp)for(var s=r.firstRow,a=r.lastRow,l=s;a>=l;l++){var c=this.cache[l];null==c&&(c=n.getMatchOffsets(o.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new i(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(o),this.clazz,r)}}}).call(o.prototype),t.SearchHighlight=o}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t){function n(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var o=i.folds,r=0;r<o.length;r++){var s=o[r];if(s.range.contains(e,t)){if(1==n&&s.range.isEnd(e,t))continue;if(-1==n&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,o=[];t.column+=1,n.column-=1;for(var r=0;r<i.length;r++){var s=i[r].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[r].folds,l=0;l<a.length;l++){var c=a[l];if(s=c.range.compareRange(e),-2==s)break;if(2!=s){if(42==s)break;o.push(c)}}}}return t.column-=1,n.column+=1,o},this.getAllFolds=function(){function e(e){t.push(e)}for(var t=[],n=this.$foldData,i=0;i<n.length;i++)for(var o=0;o<n[i].folds.length;o++)e(n[i].folds[o]);return t},this.getFoldStringAt=function(e,t,n,i){if(i=i||this.getFoldLine(e),!i)return null;for(var o,r,s={end:{column:0}},a=0;a<i.folds.length;a++){r=i.folds[a];var l=r.range.compareEnd(e,t);if(-1==l){o=this.getLine(r.start.row).substring(s.end.column,r.start.column);break}if(0===l)return null;s=r}return o||(o=this.getLine(r.start.row).substring(s.end.column)),-1==n?o.substring(0,t-s.end.column):1==n?o.substring(t-s.end.column):o},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;i<n.length;i++){var o=n[i];if(o.start.row<=e&&o.end.row>=e)return o;if(o.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0),i;i<n.length;i++){var o=n[i];if(o.end.row>=e)return o}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,o=0;o<n.length;o++){var r=n[o],s=r.end.row,a=r.start.row;if(s>=t){t>a&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof r?n=e:(n=new r(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(!(c>a||a==c&&u-2>=l))throw"The range has to be at least 2 characters width";var d=this.getFoldAt(a,l,1),h=this.getFoldAt(c,u,-1);if(d&&h==d)return d.addSubFold(n);if(d&&!d.range.isStart(a,l)||h&&!h.range.isEnd(c,u))throw"A fold can't intersect already existing fold"+n.range+d.range;var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach(function(e){n.addSubFold(e)}));for(var p=0;p<i.length;p++){var g=i[p];if(c==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=i[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new o(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._emit("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,o=this.$foldData,r=t.folds;if(1==r.length)o.splice(o.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))r.pop(),t.end.row=r[r.length-1].end.row,t.end.column=r[r.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))r.shift(),t.start.row=r[0].start.row,t.start.column=r[0].start.column;else if(e.sameRow)r.splice(r.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);r=s.folds,r.shift(),s.start.row=r[0].start.row,s.start.column=r[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._emit("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,o;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,o=this.getFoldsInRange(n),t)this.removeFolds(o);else for(;o.length;)this.expandFolds(o),o=this.getFoldsInRange(n)},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,o){null==i&&(i=e.start.row,o=0),null==t&&(t=e.end.row,n=this.getLine(t).length);var r=this.doc,s="";return e.walk(function(e,t,n,a){if(!(i>t)){if(t==i){if(o>n)return;a=Math.max(o,a)}s+=null!=e?e:r.getLine(t).substring(a,n)}},t,n),s},this.getDisplayLine=function(e,t,n,i){var o=this.getFoldLine(e);if(o)return this.getFoldDisplayLine(o,e,t,n,i);var r;return r=this.doc.getLine(e),r.substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new o(e,n)})},this.toggleFold=function(e){var t,n,i=this.selection,o=i.getRange();if(o.isEmpty()){var r=o.start;if(t=this.getFoldAt(r.row,r.column))return this.expandFold(t),void 0;(n=this.findMatchingBracket(r))?1==o.comparePoint(n)?o.end=n:(o.start=n,o.start.column++,o.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==o.comparePoint(n)?o.end=n:o.start=n,o.start.column++):o=this.getCommentFoldRange(r.row,r.column)||o}else{var s=this.getFoldsInRange(o);if(e&&s.length)return this.expandFolds(s),void 0;1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(o.start.row,o.start.column)),t&&t.range.toString()==o.toString())return this.expandFold(t),void 0;var a="...";if(!o.isMultiLine()){if(a=this.getTextRange(o),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,o)},this.getCommentFoldRange=function(e,t,n){var o=new s(this,e,t),r=o.getCurrentToken();if(r&&/^comment|string/.test(r.type)){var a=new i,l=new RegExp(r.type.replace(/\..*/,"\\."));if(1!=n){do r=o.stepBackward();while(r&&l.test(r.type));o.stepForward()}if(a.start.row=o.getCurrentTokenRow(),a.start.column=o.getCurrentTokenColumn()+2,o=new s(this,e,t),-1!=n){do r=o.stepForward();while(r&&l.test(r.type));r=o.stepBackward()}else r=o.getCurrentToken();return a.end.row=o.getCurrentTokenRow(),a.end.column=o.getCurrentTokenColumn()+r.value.length-2,a}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var i=this.foldWidgets;t=t||this.getLength(),e=e||0;for(var o=e;t>o;o++)if(null==i[o]&&(i[o]=this.getFoldWidget(o)),"start"==i[o]){var r=this.getFoldWidgetRange(o),s=r.end.row;if(r&&r.isMultiLine()&&t>=s&&r.start.row>=e)try{var a=this.addFold("...",r);a.collapseChildren=n,o=s}catch(l){}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation"),!e||"manual"==this.$foldStyle)return this.foldWidgets=null,void 0;this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,o=e-1;o>=0;){var r=n[o];if(null==r&&(r=n[o]=this.getFoldWidget(o)),"start"==r){var s=this.getFoldWidgetRange(o);if(i||(i=s),s&&s.end.row>=e)break}o--}return{range:-1!==o&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n=this.getFoldWidget(e),i=this.getLine(e);t=t.domEvent;var o=t.shiftKey,r=t.ctrlKey||t.metaKey,s=t.altKey,a="end"===n?-1:1,l=this.getFoldAt(e,-1===a?0:i.length,a);if(l)return o||r?this.removeFold(l):this.expandFold(l),void 0;var c=this.getFoldWidgetRange(e);if(c&&!c.isMultiLine()&&(l=this.getFoldAt(c.start.row,c.start.column,1),l&&c.isEqual(l.range)))return this.removeFold(l),void 0;if(s){var u=this.getParentFoldRangeData(e);if(u.range)var d=u.range.start.row+1,h=u.range.end.row;this.foldAll(d,h,r?1e4:0)}else if(o){var h=c?c.end.row:this.getLength();this.foldAll(e+1,c.end.row,r?1e4:0)}else c&&(r&&(c.collapseChildren=1e4),this.addFold("...",c));c||((t.target||t.srcElement).className+=" ace_invalid")},this.updateFoldWidgets=function(e){var t=e.data,n=t.range,i=n.start.row,o=n.end.row-i;if(0===o)this.foldWidgets[i]=null;else if("removeText"==t.action||"removeLines"==t.action)this.foldWidgets.splice(i,o+1,null);else{var r=Array(o+1);r.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}}}var i=e("../range").Range,o=e("./fold_line").FoldLine,r=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=n}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t){function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var i=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw"Can't add a fold to this FoldLine as it has no connection";this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw"Trying to add fold to FoldRow that doesn't have a matching row";this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,o,r,s=0,a=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(i=a[c],o=i.range.compareStart(t,n),-1==o)return e(null,t,n,s,l),void 0;if(r=e(null,i.start.row,i.start.column,s,l),r=!r&&e(i.placeholder,i.start.row,i.start.column,s),r||0==o)return;l=!i.sameRow,s=i.end.column}e(null,t,n,s,l)},this.getNextFoldTo=function(e,t){for(var n,i,o=0;o<this.folds.length;o++){if(n=this.folds[o],i=n.range.compareEnd(e,t),-1==i)return{fold:n,kind:"after"};if(0==i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,o,r=this.getNextFoldTo(e,t);if(r)if(i=r.fold,"inside"==r.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){o=this.folds;var s=o.indexOf(i);for(0==s&&(this.start.column+=n),s;s<o.length;s++){if(i=o[s],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var i=this.getNextFoldTo(e,t).fold,o=this.folds,r=this.foldData;if(!i)return null;var s=o.indexOf(i),a=o[s-1];this.end.row=a.end.row,this.end.column=a.end.column,o=o.splice(s,o.length-s);var l=new n(r,o);return r.splice(r.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t,n=0,i=0;i<this.folds.length;i++){var t=this.folds[i];if(e-=t.start.column-n,0>e)return{row:t.start.row,column:t.start.column+e};if(e-=t.placeholder.length,0>e)return t.start;n=t.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(n.prototype),t.FoldLine=n}),define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t){function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function i(e,t){n(e.start,t),n(e.end,t)}function o(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function r(e,t){o(e.start,t),o(e.end,t)}var s=(e("../range").Range,e("../range_list").RangeList),a=e("../lib/oop"),l=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};a.inherits(l,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new l(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw"A fold can't intersect already existing fold"+e.range+this.range;i(e,this.start);for(var t=e.start.row,n=e.start.column,o=0,r=-1;o<this.subFolds.length&&(r=this.subFolds[o].range.compare(t,n),1==r);o++);var s=this.subFolds[o];if(0==r)return s.addSubFold(e);for(var t=e.range.end.row,n=e.range.end.column,a=o,r=-1;a<this.subFolds.length&&(r=this.subFolds[a].range.compare(t,n),1==r);a++);{this.subFolds[a]}if(0==r)throw"A fold can't intersect already existing fold"+e.range+this.range;{this.subFolds.splice(o,a-o,e)}return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return r(e,this.start)}}.call(l.prototype)}),define("ace/range_list",["require","exports","module","ace/range"],function(e,t){var n=e("./range").Range,i=n.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var o=this.ranges,r=n||0;r<o.length;r++){var s=o[r],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-r-2:r:l>0||0===l&&!t?r:-r-1}}return-r-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);0>n&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return 0>i?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.call(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges.splice(t,1):void 0},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});for(var n,o=t[0],r=1;r<t.length;r++){n=o,o=t[r];var s=i(n.end,o.start);0>s||(0!=s||n.isEmpty()||o.isEmpty())&&(i(n.end,o.end)<0&&(n.end.row=o.end.row,n.end.column=o.end.column),t.splice(r,1),e.push(o),o=n,r--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);return t>=0?this.ranges[t]:void 0},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});0>i&&(i=-i-1);var o=this.pointIndex({row:t,column:0},i);0>o&&(o=-o-1);for(var r=[],s=i;o>s;s++)r.push(n[s]);return r},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){var t=e.data.range;if("i"==e.data.action[0])var n=t.start,i=t.end;else var i=t.start,n=t.end;for(var o=n.row,r=i.row,s=r-o,a=-n.column+i.column,l=this.ranges,c=0,u=l.length;u>c;c++){var d=l[c];if(!(d.end.row<o)){if(d.start.row>o)break;if(d.start.row==o&&d.start.column>=n.column&&(d.start.column==n.column&&this.$insertRight||(d.start.column+=a,d.start.row+=s)),d.end.row==o&&d.end.column>=n.column){if(d.end.column==n.column&&this.$insertRight)continue;d.end.column==n.column&&a>0&&u-1>c&&d.end.column>d.start.column&&d.end.column==l[c+1].start.column&&(d.end.column-=a),d.end.column+=a,d.end.row+=s}}}if(0!=s&&u>c)for(;u>c;c++){var d=l[c];d.start.row+=s,d.end.row+=s}}}).call(o.prototype),t.RangeList=o}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t){function n(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,r=n.charAt(e.column-1),s=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(s||(r=n.charAt(e.column),e={row:e.row,column:e.column+1},s=r&&r.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=o.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=o.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var o=this.$brackets[e],r=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==o){if(r-=1,0==r)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(r+=1);l-=1}do a=s.stepBackward();while(a&&!n.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var o=this.$brackets[e],r=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;u>l;){var d=c.charAt(l);if(d==o){if(r-=1,0==r)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else d==e&&(r+=1);l+=1}do a=s.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=n}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t){var n=e("./lib/lang"),i=e("./lib/oop"),o=e("./range").Range,r=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$matchIterator(e,this.$options);if(!t)return!1;var n=null;return t.forEach(function(e,t,i){if(e.start)n=e;else{var r=e.offset+(i||0);n=new o(t,r,t,r+e.length)}return!0}),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,r=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine)for(var l=a.length,c=r.length-l,u=a.offset||0;c>=u;u++){for(var d=0;l>d&&-1!=r[u+d].search(a[d]);d++);var h=r[u],f=r[u+l-1],p=h.match(a[0])[0].length,g=f.match(a[l-1])[0].length;
s.push(new o(u,h.length-p,u+l-1,g))}else for(var m=0;m<r.length;m++)for(var v=n.getMatchOffsets(r[m],a),d=0;d<v.length;d++){var y=v[d];s.push(new o(m,y.offset,m,y.offset+y.length))}if(i){for(var b=i.start.column,w=i.start.column,m=0,d=s.length-1;d>m&&s[m].start.column<b&&s[m].start.row==i.start.row;)m++;for(;d>m&&s[d].end.column>w&&s[d].end.row==i.end.row;)d--;for(s=s.slice(m,d+1),m=0,d=s.length;d>m;m++)s[m].start.row+=i.start.row,s[m].end.row+=i.start.row}return s},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var o=i.exec(e);if(!o||o[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var r=Math.min(e.length,e.length);r--;){var s=e[r];t[r]=s&&s.toLowerCase()!=s?t[r].toUpperCase():t[r].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var r,s=this,a=t.backwards;if(t.$isMultiLine)var l=i.length,c=function(t,n,s){var a=t.search(i[0]);if(-1!=a){for(var c=1;l>c;c++)if(t=e.getLine(n+c),-1==t.search(i[c]))return;var u=t.match(i[l-1])[0].length,d=new o(n,a,n+l-1,u);return 1==i.offset?(d.start.row--,d.start.column=Number.MAX_VALUE):s&&(d.start.column+=s),r(d)?!0:void 0}};else if(a)var c=function(e,t,o){for(var s=n.getMatchOffsets(e,i),a=s.length-1;a>=0;a--)if(r(s[a],t,o))return!0};else var c=function(e,t,o){for(var s=n.getMatchOffsets(e,i),a=0;a<s.length;a++)if(r(s[a],t,o))return!0};return{forEach:function(n){r=n,s.$lineIterator(e,t).forEach(c)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i="\\b"+i+"\\b");var o=e.caseSensitive?"g":"gi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,o);try{var r=new RegExp(i,o)}catch(s){r=!1}return e.re=r},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],o=0;o<n.length;o++)try{i.push(new RegExp(n[o],t))}catch(r){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(e,t){var n=1==t.backwards,i=0!=t.skipCurrent,o=t.range,r=t.start;r||(r=o?o[n?"end":"start"]:e.selection.getRange()),r.start&&(r=r[i!=n?"end":"start"]);var s=o?o.start.row:0,a=o?o.end.row:e.getLength()-1,l=n?function(n){var i=r.row,o=e.getLine(i).substring(0,r.column);if(!n(o,i)){for(i--;i>=s;i--)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=a,s=r.row;i>=s;i--)if(n(e.getLine(i),i))return}}:function(n){var i=r.row,o=e.getLine(i).substr(r.column);if(!n(o,i,r.column)){for(i+=1;a>=i;i++)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=s,a=r.row;a>=i;i++)if(n(e.getLine(i),i))return}};return{forEach:l}}}).call(r.prototype),t.Search=r}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t){var n=e("../lib/oop"),i=e("../keyboard/hash_handler").HashHandler,o=e("../lib/event_emitter").EventEmitter,r=function(e,t){this.platform=e,this.commands=this.byName={},this.commmandKeyBinding={},this.addCommands(t),this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(r,i),function(){n.implement(this,o),this.exec=function(e,t,n){if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var i={editor:t,command:e,args:n},o=this._emit("exec",i);return this._signal("afterExec",i),o===!1?!1:!0},this.toggleRecording=function(e){return this.$inReplay?void 0:(e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(r.prototype),t.CommandManager=r}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t){function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commmandKeyBinding={},this.addCommands(e)}var i=e("../lib/keys"),o=e("../lib/useragent");(function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e){var t="string"==typeof e?e:e.name;e=this.commands[t],delete this.commands[t];var n=this.commmandKeyBinding;for(var i in n)for(var o in n[i])n[i][o]==e&&delete n[i][o]},this.bindKey=function(e,t){if(e){if("function"==typeof t)return this.addCommand({exec:t,bindKey:e,name:t.name||e}),void 0;var n=this.commmandKeyBinding;e.split("|").forEach(function(e){var i=this.parseKeys(e,t),o=i.hashId;(n[o]||(n[o]={}))[i.key]=t},this)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),n.name||(n.name=t),this.addCommand(n)}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){var t=e.bindKey;if(t){var n="string"==typeof t?t:t[this.platform];this.bindKey(n,e)}},this.parseKeys=function(e){-1!=e.indexOf(" ")&&(e=e.split(/\s+/).pop());var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),o=i[n];if(i.FUNCTION_KEYS[o])n=i.FUNCTION_KEYS[o].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,s=t.length;s--;){var a=i.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;r|=a}return{key:n,hashId:r}},this.findKeyCommand=function(e,t){var n=this.commmandKeyBinding;return n[e]&&n[e][t]},this.handleKeyboard=function(e,t,n){return{command:this.findKeyCommand(t,n)}}}).call(n.prototype),t.HashHandler=n}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config"],function(e,t){function n(e,t){return{win:e,mac:t}}var i=e("../lib/lang"),o=e("../config");t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){o.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},readOnly:!0},{name:"foldall",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll()},readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,group:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,group:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,group:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,group:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P",null),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},multiSelectAction:"forEach"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()}},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()}},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()}},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()}},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){return e.selection.isEmpty()?(e.remove("left"),void 0):!1},multiSelectAction:"forEach"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)}},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach"}]}),define("ace/undomanager",["require","exports","module"],function(e,t){var n=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=0/0),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(t,e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter}}).call(n.prototype),t.UndoManager=n}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/useragent","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","ace/lib/event_emitter"],function(e,t){var n=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/useragent"),r=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").ScrollBarH,d=e("./scrollbar").ScrollBarV,h=e("./renderloop").RenderLoop,f=e("./lib/event_emitter").EventEmitter,p=".ace_editor {position: relative;overflow: hidden;font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;font-size: 12px;line-height: normal;color: black;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: text;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTQ4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTU4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBMjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBMzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgXxbAAAAJbSURBVHjapFNNaBNBFH4zs5vdZLP5sQmNpT82QY209heh1ioWisaDRcSKF0WKJ0GQnrzrxasHsR6EnlrwD0TagxJabaVEpFYxLWlLSS822tr87m66ccfd2GKyVhA6MMybgfe97/vmPUQphd0sZjto9XIn9OOsvlu2nkqRzVU+6vvlzPf8W6bk8dxQ0NPbxAALgCgg2JkaQuhzQau/El0zbmUA7U0Es8v2CiYmKQJHGO1QICCLoqilMhkmurDAyapKgqItezi/USRdJqEYY4D5jCy03ht2yMkkvL91jTTX10qzyyu2hruPRN7jgbH+EOsXcMLgYiThEgAMhABW85oqy1DXdRIdvP1AHJ2acQXvDIrVHcdQNrEKNYSVMSZGMjEzIIAwDXIo+6G/FxcGnzkC3T2oMhLjre49sBB+RRcHLqdafK6sYdE/GGBwU1VpFNj0aN8pJbe+BkZyevUrvLl6Xmm0W9IuTc0DxrDNAJd5oEvI/KRsNC3bQyNjPO9yQ1YHcfj2QvfQc/5TUhJTBc2iM0U7AWDQtc1nJHvD/cfO2s7jaGkiTEfa/Ep8coLu7zmNmh8+dc5lZDuUeFAGUNA/OY6JVaypQ0vjr7XYjUvJM37vt+j1vuTK5DgVfVUoTjVe+y3/LxMxY2GgU+CSLy4cpfsYorRXuXIOi0Vt40h67uZFTdIo6nLaZcwUJWAzwNS0tBnqqKzQDnjdG/iPyZxo46HaKUpbvYkj8qYRTZsBhge+JHhZyh0x9b95JqjVJkT084kZIPwu/mPWqPgfQ5jXh2+92Ay7HedfAgwA6KDWafb4w3cAAAAASUVORK5CYII=\");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTg4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTk4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBNjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBNzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgd7PfIAAAGmSURBVHjaYvr//z8DJZiJgUIANoCRkREb9gLiSVAaQx4OQM7AAkwd7XU2/v++/rOttdYGEB9dASEvOMydGKfH8Gv/p4XTkvRBfLxeQAP+1cUhXopyvzhP7P/IoSj7g7Mw09cNKO6J1QQ0L4gICPIv/veg/8W+JdFvQNLHVsW9/nmn9zk7B+cCkDwhL7gt6knSZnx9/LuCEOcvkIAMP+cvto9nfqyZmmUAksfnBUtbM60gX/3/kgyv3/xSFOL5DZT+L8vP+Yfh5cvfPvp/xUHyQHXGyAYwgpwBjZYFT3Y1OEl/OfCH4ffv3wzc4iwMvNIsDJ+f/mH4+vIPAxsb631WW0Yln6ZpQLXdMK/DXGDflh+sIv37EivD5x//Gb7+YWT4y86sl7BCCkSD+Z++/1dkvsFRl+HnD1Rvje4F8whjMXmGj58YGf5zsDMwcnAwfPvKcml62DsQDeaDxN+/Y0qwlpEHqrdB94IRNIDUgfgfKJChGK4OikEW3gTiXUB950ASLFAF54AC94A0G9QAfOnmF9DCDzABFqS08IHYDIScdijOjQABBgC+/9awBH96jwAAAABJRU5ErkJggg==\");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAAAAAEFBQVJSUl5eXmRkZGtra39/f4WFhYmJiZGRkaampry8vMPDw8zMzNXV1dzc3OTk5Orq6vDw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABQALAAAAAAQABAAAAUuICWOZGmeaBml5XGwFCQSBGyXRSAwtqQIiRuiwIM5BoYVbEFIyGCQoeJGrVptIQA7\");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTk5MTVGREIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTk5MTVGRUIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFOTkxNUZCQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFOTkxNUZDQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SIDkjAAAAJ1JREFUeNpi/P//PwMlgImBQkB7A6qrq/+DMC55FkIGKCoq4pVnpFkgTp069f/+/fv/r1u37r+tre1/kg0A+ptn9uzZYLaRkRHpLvjw4cNXWVlZhufPnzOcO3eOdAO0tbVPAjHDmzdvGA4fPsxIsgGSkpJmv379Ynj37h2DjIyMCMkG3LhxQ/T27dsMampqDHZ2dq/pH41DxwCAAAMAFdc68dUsFZgAAAAASUVORK5CYII=\");}.ace_scrollbar {position: absolute;overflow-x: hidden;overflow-y: auto;right: 0;top: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-h {position: absolute;overflow-x: auto;overflow-y: hidden;right: 0;left: 0;bottom: 0;z-index: 6;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;}.ace_text-input.ace_composition {background: #f8f8f8;color: #111;z-index: 1000;opacity: 1;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;white-space: nowrap;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;/* setting pointer-events: auto; on node under the mouse, which changesduring scroll, will break mouse wheel scrolling in Safari */pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-moz-transition: opacity 0.18s;-webkit-transition: opacity 0.18s;-o-transition: opacity 0.18s;-ms-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_cursor[style*=\"opacity: 0\"]{-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_line {white-space: nowrap;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%3AIDAT8%11c%FC%FF%FF%7F%18%03%1A%60%01%F2%3F%A0%891%80%04%FF%11-%F8%17%9BJ%E2%05%B1ZD%81v%26t%E7%80%F8%A3%82h%A12%1A%20%A3%01%02%0F%01%BA%25%06%00%19%C0%0D%AEF%D5%3ES%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%003IDAT8%11c%FC%FF%FF%7F%3E%03%1A%60%01%F2%3F%A3%891%80%04%FFQ%26%F8w%C0%B43%A1%DB%0C%E2%8F%0A%A2%85%CAh%80%8C%06%08%3C%04%E8%96%18%00%A3S%0D%CD%CF%D8%C1%9D%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;}.ace_editor.ace_dragging .ace_content {cursor: move;}.ace_gutter-tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;display: inline-block;max-width: 500px;padding: 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre-line;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAe%8A%B1%0D%000%0C%C2%F2%2CK%96%BC%D0%8F9%81%88H%E9%D0%0E%96%C0%10%92%3E%02%80%5E%82%E4%A9*-%EEsw%C8%CC%11%EE%96w%D8%DC%E9*Eh%0C%151(%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAm%C7%C1%09%000%08C%D1%8C%ECE%C8E(%8E%EC%02)%1EZJ%F1%C1'%04%07I%E1%E5%EE%CAL%F5%A2%99%99%22%E2%D6%1FU%B5%FE0%D9x%A7%26Wz5%0E%D5%00%00%00%00IEND%AEB%60%82\");}.ace_fold-widget.ace_closed {background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%06%08%06%00%00%00%06%E5%24%0C%00%00%009IDATx%DA5%CA%C1%09%000%08%03%C0%AC*(%3E%04%C1%0D%BA%B1%23%A4Uh%E0%20%81%C0%CC%F8%82%81%AA%A2%AArGfr%88%08%11%11%1C%DD%7D%E0%EE%5B%F6%F6%CB%B8%05Q%2F%E9tai%D9%00%00%00%00IEND%AEB%60%82\");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}/*** Dark version for fold widgets*/.ace_dark .ace_fold-widget {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");}.ace_dark .ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-moz-transition: opacity 0.4s ease 0.05s;-webkit-transition: opacity 0.4s ease 0.05s;-o-transition: opacity 0.4s ease 0.05s;-ms-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-moz-transition: opacity 0.05s ease 0.05s;-webkit-transition: opacity 0.05s ease 0.05s;-o-transition: opacity 0.05s ease 0.05s;-ms-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}";
i.importCssString(p,"ace_editor");var g=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!o.isIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var f=this.$textLayer=new l(this.content);this.canvas=f.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$textLayer.addEventListener("changeCharacterSize",function(){n.updateCharacterSize(),n.onResize(!0),n._signal("changeCharacterSize")}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:1,characterWidth:1,minHeight:1,maxHeight:1,offset:0,height:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session=e,this.scroller.className="ace_scroller",this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),this.$loop.schedule(this.CHANGE_FULL)},this.updateLines=function(e,t){void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.firstRow>this.layerConfig.lastRow||this.$changedLines.lastRow<this.layerConfig.firstRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var o=this.container;i||(i=o.clientHeight||o.scrollHeight),n||(n=o.clientWidth||o.scrollWidth);var r=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(r,!0):this.$loop.schedule(r|this.$changes),this.resizing&&(this.resizing=0)}},this.$updateCachedSize=function(e,t,n,i){var o=0,r=this.$size,s={width:r.width,height:r.height,scrollerHeight:r.scrollerHeight,scrollerWidth:r.scrollerWidth};return i&&(e||r.height!=i)&&(r.height=i,o=this.CHANGE_SIZE,r.scrollerHeight=r.height,this.$horizScroll&&(r.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",this.session&&(this.session.setScrollTop(this.getScrollTop()),o|=this.CHANGE_SCROLL)),n&&(e||r.width!=n)&&(o=this.CHANGE_SIZE,r.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",r.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)),o&&this._signal("resize",s),o},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var i=this.lineHeight;if(!(0>t||t>e.height-i)){var o=this.characterWidth;if(this.$composition){var r=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(r)[0]+2,i+=2,t-=1}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n-=this.scrollBar.width,this.textarea.style.height=i+"px",this.textarea.style.width=o+"px",this.textarea.style.right=Math.max(0,this.$size.scrollerWidth-n-o)+"px",this.textarea.style.bottom=Math.max(0,this.$size.height-t-i)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var o=this.scrollMargin;o.top=0|e,o.bottom=0|t,o.right=0|i,o.left=0|n,o.v=o.top+o.bottom,o.h=o.left+o.right,this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){this.scrollBarV.setInnerHeight(this.layerConfig.maxHeight+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setInnerWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$renderChanges=function(e,t){return this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&(e||t)?this.$size.width?(this._signal("beforeRender"),(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL)&&(e|=this.$computeLayerConfig()),e&this.CHANGE_H_SCROLL&&(this.$updateScrollBarH(),this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.checkForSizeChanges(),this.$updateScrollBarV(),this.$updateScrollBarH(),this.$textLayer.update(this.layerConfig),this.$showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal("afterRender"),void 0):e&this.CHANGE_SCROLL?(this.$updateScrollBarV(),e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.$showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal("afterRender"),void 0):(e&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),this.$showGutter&&this.$gutterLayer.update(this.layerConfig)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(this.layerConfig):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(this.layerConfig),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),(e&this.CHANGE_SIZE||e&this.CHANGE_LINES)&&(this.$updateScrollBarV(),this.$updateScrollBarH()),this._signal("afterRender"),void 0)):(this.$changes|=e,this.onResize(!0)):(this.$changes|=e,void 0)},this.$autosize=function(e){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e)),i=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var o=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,o,n),this.desiredHeight=n}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var e=this.session,t=this.$size.height<=2*this.lineHeight,n=this.session.getScreenLength(),i=n*this.lineHeight,o=this.scrollTop%this.lineHeight,r=this.$size.scrollerHeight+this.lineHeight,s=this.$getLongestLine(),a=!t&&(this.$hScrollBarAlwaysVisible||this.$size.scrollerWidth-s-2*this.$padding<0),l=this.$horizScroll!==a;l&&(this.$horizScroll=a,this.scrollBarH.setVisible(a)),!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>i-this.$size.scrollerHeight&&(i+=Math.min((this.$size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd,this.scrollTop-i+this.$size.scrollerHeight));var c=!t&&(this.$vScrollBarAlwaysVisible||this.$size.scrollerHeight-i<0),u=this.$vScroll!==c;u&&(this.$vScroll=c,this.scrollBarV.setVisible(c)),this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,i-this.$size.scrollerHeight+this.scrollMargin.v))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,s+2*this.$padding-this.$size.scrollerWidth+this.scrollMargin.h)));var d,h,f=Math.ceil(r/this.lineHeight)-1,p=Math.max(0,Math.round((this.scrollTop-o)/this.lineHeight)),g=p+f,m=this.lineHeight;p=e.screenToDocumentRow(p,0);var v=e.getFoldLine(p);v&&(p=v.start.row),d=e.documentToScreenRow(p,0),h=e.getRowLength(p)*m,g=Math.min(e.screenToDocumentRow(g,0),e.getLength()-1),r=this.$size.scrollerHeight+e.getRowLength(g)*m+h,o=this.scrollTop-d*m;var y=0;return(l||u)&&(y=this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this._signal("scrollbarVisibilityChanged"),u&&(s=this.$getLongestLine())),this.layerConfig={width:s,padding:this.$padding,firstRow:p,firstRowScreen:d,lastRow:g,lineHeight:m,characterWidth:this.characterWidth,minHeight:r,maxHeight:i,offset:o,height:this.$size.scrollerHeight},this.$gutterLayer.element.style.marginTop=-o+"px",this.content.style.marginTop=-o+"px",this.content.style.width=s+2*this.$padding+"px",this.content.style.height=r+"px",y},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;return e>n.lastRow+1||t<n.firstRow?void 0:1/0===t?(this.$showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n),void 0):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),i=n.left,o=n.top,r=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;r>o?(t&&(o-=t*this.$size.scrollerHeight),0==o?o=-this.scrollMargin.top:0==o&&(o=+this.scrollMargin.bottom),this.session.setScrollTop(o)):r+this.$size.scrollerHeight<o+this.lineHeight&&(t&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var s=this.scrollLeft;s>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):s+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):s<=this.$padding&&i-s<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,o=n.top-i*(t||0);return this.session.setScrollTop(o),o},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,o=[],r=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;i>n;++n)o.push(r(n/this.STEPS,e,t-e));return o},this.scrollToLine=function(e,t,n,i){var o=this.$cursorLayer.getPixelPosition({row:e,column:0}),r=o.top;t&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),n!==!1&&this.animateScrolling(s,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(e=o[0],e==n))return}var r=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:r},clearInterval(this.$timer),i.session.setScrollTop(r.shift()),this.$timer=setInterval(function(){r.length?(i.session.setScrollTop(r.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return 0>t&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight-(this.$size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd<-1+this.scrollMargin.bottom?!0:e?!0:void 0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),r=Math.round(i);return{row:o,column:r,side:i-r>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(o,Math.max(i,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),o=this.$padding+Math.round(i.column*this.characterWidth),r=i.row*this.lineHeight;return{pageX:n.left+o-this.scrollLeft,pageY:n.top+r-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function n(n){if(o.$themeValue!=e)return t&&t();if(n.cssClass){i.importCssString(n.cssText,n.cssClass,o.container.ownerDocument),o.theme&&i.removeCssClass(o.container,o.theme.cssClass),o.$theme=n.cssClass,o.theme=n,i.addCssClass(o.container,n.cssClass),i.setCssClass(o.container,"ace_dark",n.isDark);var r=n.padding||4;o.$padding&&r!=o.$padding&&o.setPadding(r),o.$size&&(o.$size.width=0,o.onResize()),o._dispatchEvent("themeLoaded",{theme:n}),t&&t()}}var o=this;if(this.$themeValue=e,o._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var s=e||"ace/theme/textmate";r.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeValue},this.setStyle=function(e,t){i.setCssClass(this.container,e,0!=t)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setMouseCursor=function(e){this.content.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),r.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight(),void 0):(this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight),void 0)},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}}}),t.VirtualRenderer=g}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t){var n=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),r=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,r),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t,n,i=0;i<e.length;i++){var r=e[i],n=r.row,t=this.$annotations[n];t||(t=this.$annotations[n]={text:[]});var s=r.text;s=s?o.escapeHTML(s):r.html||"",-1===t.text.indexOf(s)&&t.text.push(s);var a=r.type;"error"==a?t.className=" ace_error":"warning"==a&&" ace_error"!=t.className?t.className=" ace_warning":"info"!=a||t.className||(t.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.data,n=t.range,i=n.start.row,o=n.end.row-i;if(0===o);else if("removeText"==t.action||"removeLines"==t.action)this.$annotations.splice(i,o+1,null);else{var r=Array(o+1);r.unshift(i,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){for(var t=e.firstRow,i=e.lastRow,o=this.session.getNextFoldLine(t),r=o?o.start.row:1/0,s=this.$showFoldWidgets&&this.session.foldWidgets,a=this.session.$breakpoints,l=this.session.$decorations,c=this.session.$firstLineNumber,u=0,d=null,h=-1,f=t;;){if(f>r&&(f=o.end.row+1,o=this.session.getNextFoldLine(f,o),r=o?o.start.row:1/0),f>i){for(;this.$cells.length>h+1;)d=this.$cells.pop(),this.element.removeChild(d.element);break}d=this.$cells[++h],d||(d={element:null,textNode:null,foldWidget:null},d.element=n.createElement("div"),d.textNode=document.createTextNode(""),d.element.appendChild(d.textNode),this.element.appendChild(d.element),this.$cells[h]=d);var p="ace_gutter-cell";a[f]&&(p+=a[f]),l[f]&&(p+=l[f]),this.$annotations[f]&&(p+=this.$annotations[f].className),d.element.className!=p&&(d.element.className=p);var g=this.session.getRowLength(f)*e.lineHeight+"px";g!=d.element.style.height&&(d.element.style.height=g);var m=u=f+c;if(m!=d.textNode.data&&(d.textNode.data=m),s){var v=s[f];null==v&&(v=s[f]=this.session.getFoldWidget(f))}if(v){d.foldWidget||(d.foldWidget=n.createElement("span"),d.element.appendChild(d.foldWidget));var p="ace_fold-widget ace_"+v;p+="start"==v&&f==r&&f<o.end.row?" ace_closed":" ace_open",d.foldWidget.className!=p&&(d.foldWidget.className=p);var g=e.lineHeight+"px";d.foldWidget.style.height!=g&&(d.foldWidget.style.height=g)}else null!=d.foldWidget&&(d.element.removeChild(d.foldWidget),d.foldWidget=null);f++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||this.session.$useWrapMode)&&(u=this.session.getLength());var y=u.toString().length*e.characterWidth,b=this.$padding||this.$computePadding();y+=b.left+b.right,y===this.gutterWidth||isNaN(y)||(this.gutterWidth=y,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",y))},this.$fixedWidth=!1,this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),t.Gutter=s}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t){var n=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var n in this.markers){var o=this.markers[n];if(o.range){var r=o.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),o.renderer){var s=this.$getTop(r.start.row,e),a=this.$padding+r.start.column*e.characterWidth;o.renderer(t,r,a,s,e)}else"fullLine"==o.type?this.drawFullLineMarker(t,r,o.clazz,e):"screenLine"==o.type?this.drawScreenLineMarker(t,r,o.clazz,e):r.isMultiLine()?"text"==o.type?this.drawTextMarker(t,r,o.clazz,e):this.drawMultiLineMarker(t,r,o.clazz,e):this.drawSingleLineMarker(t,r,o.clazz+" ace_start",e)}else o.update(t,this,this.session,e)}this.element=i.setInnerHtml(this.element,t.join(""))}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,o,r){var s=t.start.row,a=new n(s,t.start.column,s,this.session.getScreenLastRowColumn(s));for(this.drawSingleLineMarker(e,a,i+" ace_start",o,1,r),s=t.end.row,a=new n(s,0,s,t.end.column),this.drawSingleLineMarker(e,a,i,o,0,r),s=t.start.row+1;s<t.end.row;s++)a.start.row=s,a.end.row=s,a.end.column=this.session.getScreenLastRowColumn(s),this.drawSingleLineMarker(e,a,i,o,1,r)},this.drawMultiLineMarker=function(e,t,n,i,o){var r=this.$padding,s=i.lineHeight,a=this.$getTop(t.start.row,i),l=r+t.start.column*i.characterWidth;o=o||"",e.push("<div class='",n," ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",o,"'></div>"),a=this.$getTop(t.end.row,i);var c=t.end.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",c,"px;","top:",a,"px;","left:",r,"px;",o,"'></div>"),s=(t.end.row-t.start.row-1)*i.lineHeight,0>s||(a=this.$getTop(t.start.row+1,i),e.push("<div class='",n,"' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",r,"px;",o,"'></div>"))},this.drawSingleLineMarker=function(e,t,n,i,o,r){var s=i.lineHeight,a=(t.end.column+(o||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",r||"","'></div>")},this.drawFullLineMarker=function(e,t,n,i,o){var r=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-r),e.push("<div class='",n,"' style='","height:",s,"px;","top:",r,"px;","left:0;right:0;",o||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,i,o){var r=this.$getTop(t.start.row,i),s=i.lineHeight;e.push("<div class='",n,"' style='","height:",s,"px;","top:",r,"px;","left:0;right:0;",o||"","'></div>")
}}).call(o.prototype),t.Marker=o}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t){var n=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),r=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$characterSize={width:0,height:0},this.checkForSizeChanges(),this.$pollSizeChanges()};(function(){n.implement(this,s),this.EOF_CHAR="¶",this.EOL_CHAR="¬",this.TAB_CHAR="→",this.SPACE_CHAR="·",this.$padding=0,this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$characterSize.height||1},this.getCharacterWidth=function(){return this.$characterSize.width||1},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){var e=this;this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},this.$measureSizes=r.isIE||r.isOldGecko?function(){var e=1e3;if(!this.$measureNode){var t=this.$measureNode=i.createElement("div"),n=t.style;if(n.width=n.height="auto",n.left=n.top=40*-e+"px",n.visibility="hidden",n.position="fixed",n.overflow="visible",n.whiteSpace="nowrap",t.innerHTML=o.stringRepeat("Xy",e),this.element.ownerDocument.body)this.element.ownerDocument.body.appendChild(t);else{for(var r=this.element.parentNode;!i.hasCssClass(r,"ace_editor");)r=r.parentNode;r.appendChild(t)}}if(!this.element.offsetWidth)return null;var n=this.$measureNode.style,s=i.computedStyle(this.element);for(var a in this.$fontStyles)n[a]=s[a];var l={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/(2*e)};return 0==l.width||0==l.height?null:l}:function(){if(!this.$measureNode){var e=this.$measureNode=i.createElement("div"),t=e.style;t.width=t.height="auto",t.left=t.top="-100px",t.visibility="hidden",t.position="fixed",t.overflow="visible",t.whiteSpace="nowrap",e.innerHTML=o.stringRepeat("X",100);for(var n=this.element.parentNode;n&&!i.hasCssClass(n,"ace_editor");)n=n.parentNode;if(!n)return this.$measureNode=null;n.appendChild(e)}var r=this.$measureNode.getBoundingClientRect(),s={height:r.height,width:r.width/100};return 0==s.width||0==s.height?null:s},this.setSession=function(e){this.session=e,this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;e+1>n;n++)this.showInvisibles?t.push("<span class='ace_invisible'>"+this.TAB_CHAR+o.stringRepeat(" ",n-1)+"</span>"):t.push(o.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide";if(this.showInvisibles){i+=" ace_invisible";var r=o.stringRepeat(this.SPACE_CHAR,this.tabSize),s=this.TAB_CHAR+o.stringRepeat(" ",this.tabSize-1)}else var r=o.stringRepeat(" ",this.tabSize),s=r;this.$tabStrings[" "]="<span class='"+i+"'>"+r+"</span>",this.$tabStrings["	"]="<span class='"+i+"'>"+s+"</span>"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var o=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),s=this.element.childNodes,a=0,l=e.firstRow;o>l;l++){var c=this.session.getFoldLine(l);if(c){if(c.containsRow(o)){o=c.start.row;break}l=c.end.row}a++}for(var l=o,c=this.session.getNextFoldLine(l),u=c?c.start.row:1/0;;){if(l>u&&(l=c.end.row+1,c=this.session.getNextFoldLine(l,c),u=c?c.start.row:1/0),l>r)break;var d=s[a++];if(d){var h=[];this.$renderLine(h,l,!this.$useLineGroups(),l==u?c:!1),i.setInnerHtml(d,h.join(""))}l++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var o=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)}if(e.lastRow>t.lastRow){var o=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(o)}},this.$renderLinesFragment=function(e,t,n){for(var o=this.element.ownerDocument.createDocumentFragment(),r=t,s=this.session.getNextFoldLine(r),a=s?s.start.row:1/0;;){if(r>a&&(r=s.end.row+1,s=this.session.getNextFoldLine(r,s),a=s?s.start.row:1/0),r>n)break;var l=i.createElement("div"),c=[];if(this.$renderLine(c,r,!1,r==a?s:!1),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",o.appendChild(l);else for(var u=l.childNodes;u.length;)o.appendChild(u[0]);r++}return o},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,o=e.lastRow,r=n,s=this.session.getNextFoldLine(r),a=s?s.start.row:1/0;;){if(r>a&&(r=s.end.row+1,s=this.session.getNextFoldLine(r,s),a=s?s.start.row:1/0),r>o)break;this.$useLineGroups()&&t.push("<div class='ace_line_group'>"),this.$renderLine(t,r,!1,r==a?s:!1),this.$useLineGroups()&&t.push("</div>"),r++}this.element=i.setInnerHtml(this.element,t.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){var r=this,s=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,n,i,s){if(n)return r.showInvisibles?"<span class='ace_invisible'>"+o.stringRepeat(r.SPACE_CHAR,e.length)+"</span>":o.stringRepeat(" ",e.length);if("&"==e)return"&#38;";if("<"==e)return"&#60;";if("	"==e){var a=r.session.getScreenTabSize(t+s);return t+=a-1,r.$tabStrings[a]}if("　"==e){var l=r.showInvisibles?"ace_cjk ace_invisible":"ace_cjk",c=r.showInvisibles?r.SPACE_CHAR:"";return t+=1,"<span class='"+l+"' style='width:"+2*r.config.characterWidth+"px'>"+c+"</span>"}return i?"<span class='ace_invisible ace_invalid'>"+r.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+e+"</span>")},l=i.replace(s,a);if(this.$textToken[n.type])e.push(l);else{var c="ace_"+n.type.replace(/\./g," ace_"),u="";"fold"==n.type&&(u=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);return 0>=i||i>=n?t:" "==t[0]?(i-=i%this.tabSize,e.push(o.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),t.substr(i)):"	"==t[0]?(e.push(o.stringRepeat(this.$tabStrings["	"],i)),t.substr(i)):t},this.$renderWrappedLine=function(e,t,n,i){for(var o=0,r=0,s=n[0],a=0,l=0;l<t.length;l++){var c=t[l],u=c.value;if(0==l&&this.displayIndentGuides){if(o=u.length,u=this.renderIndentGuide(e,u,s),!u)continue;o-=u.length}if(o+u.length<s)a=this.$renderToken(e,a,c,u),o+=u.length;else{for(;o+u.length>=s;)a=this.$renderToken(e,a,c,u.substring(0,s-o)),u=u.substring(s-o),o=s,i||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),r++,a=0,s=n[r]||Number.MAX_VALUE;0!=u.length&&(o+=u.length,a=this.$renderToken(e,a,c,u))}}},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],o=i.value;this.displayIndentGuides&&(o=this.renderIndentGuide(e,o)),o&&(n=this.$renderToken(e,n,i,o));for(var r=1;r<t.length;r++)i=t[r],o=i.value,n=this.$renderToken(e,n,i,o)},this.$renderLine=function(e,t,n,i){if(i||0==i||(i=this.session.getFoldLine(t)),i)var o=this.$getFoldLineTokens(t,i);else var o=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),o.length){var r=this.session.getRowSplitData(t);r&&r.length?this.$renderWrappedLine(e,o,r,n):this.$renderSimpleLine(e,o)}this.showInvisibles&&(i&&(t=i.end.row),e.push("<span class='ace_invisible'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function n(e,t,n){for(var i=0,r=0;r+e[i].value.length<t;)if(r+=e[i].value.length,i++,i==e.length)return;if(r!=t){var s=e[i].value.substring(t-r);s.length>n-t&&(s=s.substring(0,n-t)),o.push({type:e[i].type,value:s}),r=t+s.length,i+=1}for(;n>r&&i<e.length;){var s=e[i].value;s.length+r>n?o.push({type:e[i].type,value:s.substring(0,n-r)}):o.push(e[i]),r+=s.length,i+=1}}var i=this.session,o=[],r=i.getTokens(e);return t.walk(function(e,t,s,a,l){null!=e?o.push({type:"fold",value:e}):(l&&(r=i.getTokens(t)),r.length&&n(r,a,s))},t.end.row,this.session.getLine(t.end.row).length),o},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t){var n=e("../lib/dom"),i=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors")};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,e?n.addCssClass(this.element,"ace_smooth-blinking"):n.removeCssClass(this.element,"ace_smooth-blinking"),this.restartTimer())},this.addCursor=function(){var e=n.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&n.removeCssClass(this.element,"ace_smooth-blinking");for(var e=this.cursors.length;e--;)this.cursors[e].style.opacity="";if(this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){n.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){for(var e=this.cursors.length;e--;)this.cursors[e].style.opacity=0}.bind(this),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){for(var e=this.cursors.length;e--;)this.cursors[e].style.opacity="";t()}.bind(this),this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),i=this.$padding+n.column*this.config.characterWidth,o=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:o}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;(void 0===t||0===t.length)&&(t=[{cursor:null}]);for(var n=0,o=t.length;o>n;n++){var r=this.getPixelPosition(t[n].cursor,!0);if(!((r.top>e.height+e.offset||r.top<-e.offset)&&n>1)){var s=(this.cursors[i++]||this.addCursor()).style;s.left=r.left+"px",s.top=r.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px"}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=r,this.restartTimer()},this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t){var n=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter,s=function(e,t){this.element=i.createElement("div"),this.element.className="ace_scrollbar",this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.fullWidth=this.width,this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.setVisible(!1),this.element.style.overflowY="scroll",o.addListener(this.element,"scroll",this.onScrollV.bind(this))},a=function(e,t){this.element=i.createElement("div"),this.element.className="ace_scrollbar-h",this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.height=t.$scrollbarWidth,this.fullHeight=this.height,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px",this.setVisible(!1),this.element.style.overflowX="scroll",o.addListener(this.element,"scroll",this.onScrollH.bind(this))};(function(){n.implement(this,r),this.setVisible=function(e){e?(this.element.style.display="",this.fullWidth&&(this.width=this.fullWidth),this.fullHeight&&(this.height=this.fullHeight)):(this.element.style.display="none",this.height=this.width=0)},this.onScrollV=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.onScrollH=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getWidth=function(){return this.width},this.getHeight=function(){return this.height},this.setHeight=function(e){this.element.style.height=e+"px"},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}).call(s.prototype),a.prototype=s.prototype,t.ScrollBar=s,t.ScrollBarV=s,t.ScrollBarH=a}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t){var n=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending){this.pending=!0;var t=this;n.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t){function n(e,t,n){return p.$options.wrap=!0,p.$options.needle=t,p.$options.backwards=-1==n,p.find(e)}function i(e,t){return e.row==t.row&&e.column==t.column}function o(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",c),e.commands.addCommands(h.defaultCommands),r(e))}function r(e){function t(){i&&(e.renderer.setMouseCursor(""),i=!1)}var n=e.textInput.getElement(),i=!1;u.addListener(n,"keydown",function(n){18!=n.keyCode||n.ctrlKey||n.shiftKey||n.metaKey?i&&t():i||(e.renderer.setMouseCursor("crosshair"),i=!0)}),u.addListener(n,"keyup",t),u.addListener(n,"blur",t)}var s=e("./range_list").RangeList,a=e("./range").Range,l=e("./selection").Selection,c=e("./mouse/multi_select_handler").onMouseDown,u=e("./lib/event"),d=e("./lib/lang"),h=e("./commands/multi_select_commands");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var f=e("./search").Search,p=new f,g=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0==this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._emit("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);return t?(this.$onRemoveRange(t),t[0]):void 0},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._emit("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._emit("removeRange",{ranges:e}),0==this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._emit("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),i=this.isBackwards(),o=n.start.row,r=n.end.row;if(o==r){if(i)var s=n.end,l=n.start;else var s=n.start,l=n.end;return this.addRange(a.fromPoints(l,l)),this.addRange(a.fromPoints(s,s)),void 0}var c=[],u=this.getLineRange(o,!0);u.start.column=n.start.column,c.push(u);for(var d=o+1;r>d;d++)c.push(this.getLineRange(d,!0));u=this.getLineRange(r,!0),u.end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=a.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),o=this.session.documentToScreenPosition(this.selectionAnchor),r=this.rectangularRangeBlock(i,o);r.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var o=[],r=e.column<t.column;if(r)var s=e.column,l=t.column;else var s=t.column,l=e.column;var c=e.row<t.row;if(c)var u=e.row,d=t.row;else var u=t.row,d=e.row;0>s&&(s=0),0>u&&(u=0),u==d&&(n=!0);for(var h=u;d>=h;h++){var f=a.fromPoints(this.session.screenToDocumentPosition(h,s),this.session.screenToDocumentPosition(h,l));if(f.isEmpty()){if(p&&i(f.end,p))break;var p=f.end}f.cursor=r?f.start:f.end,o.push(f)}if(c&&o.reverse(),!n){for(var g=o.length-1;o[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;o[m].isEmpty();)m++;for(var v=g;v>=m;v--)o[v].isEmpty()&&o.splice(v,1)}return o}}.call(l.prototype);var m=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var o=t.indexOf(i);-1!=o&&t.splice(o,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,o=this.session,r=this.selection,s=r.rangeList,a=r._eventRegistry;r._eventRegistry={};var c=new l(o);this.inVirtualSelectionMode=!0;for(var u=s.ranges.length;u--;){if(n)for(;u>0&&s.ranges[u].start.row==s.ranges[u-1].end.row;)u--;c.fromOrientedRange(s.ranges[u]),this.selection=o.selection=c;var d=e.exec(this,t||{});void 0==!i&&(i=d),c.toOrientedRange(s.ranges[u])}c.detach(),this.selection=o.selection=r,this.inVirtualSelectionMode=!1,r._eventRegistry=a,r.mergeOverlappingRanges();var h=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),h&&h.from==h.to&&this.renderer.animateScrolling(h.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var o=this.session.getDocument().getNewLineCharacter();e=n.join(o),e.length==(n.length-1)*o.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.onPaste=function(e){if(!this.$readOnly){if(this._signal("paste",e),!this.inMultiSelectMode||this.inVirtualSelectionMode)return this.insert(e);var t=e.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(t.length>n.length||t.length<2||!t[1])return this.commands.exec("insertstring",this,e);for(var i=n.length;i--;){var o=n[i];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,t[i])}}},this.findAll=function(e,t,n){t=t||{},t.needle=e||t.needle,this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var r=i.length;r--;)o.addRange(i[r],!0);return this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var r=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())var s=r;else var l=this.session.documentToScreenPosition(i?n.end:n.start),s=this.session.screenToDocumentPosition(l.row+e,l.column);if(i){var c=a.fromPoints(r,s);c.cursor=c.start}else{var c=a.fromPoints(s,r);c.cursor=c.end}if(c.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,o=i.length;o--;){var r=i[o];if(r.isEmpty()){var s=t.getWordRange(r.start.row,r.start.column);r.start.row=s.start.row,r.start.column=s.start.column,r.end.row=s.end.row,r.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],o=i.length;o--;){var r=i[o];a.unshift(t.getTextRange(r))}0>e?a.unshift(a.pop()):a.push(a.shift());for(var o=i.length;o--;){var r=i[o],s=r.clone();t.replace(r,a[o]),r.start.row=s.start.row,r.start.column=s.start.column}},this.selectMore=function(e,t){var i=this.session,o=i.multiSelect,r=o.toOrientedRange();if(r.isEmpty()){var r=i.getWordRange(r.start.row,r.start.column);r.cursor=r.end,this.multiSelect.addRange(r)}var s=i.getTextRange(r),a=n(i,s,e);a&&(a.cursor=-1==e?a.start:a.end,this.multiSelect.addRange(a)),t&&this.multiSelect.substractPoint(r.cursor)},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges;if(n.length){var i=-1,o=n.filter(function(e){return e.cursor.row==i?!0:(i=e.cursor.row,void 0)});t.$onRemoveRange(o);var r=0,s=1/0,l=n.map(function(t){var n=t.cursor,i=e.getLine(n.row),o=i.substr(n.column).search(/\S/g);return-1==o&&(o=0),n.column>r&&(r=n.column),s>o&&(s=o),o});n.forEach(function(t,n){var i=t.cursor,o=r-i.column,c=l[n]-s;o>c?e.insert(i,d.stringRepeat(" ",o-c)):e.remove(new a(i.row,i.column,i.row,i.column-o+c)),t.start.column=t.end.column=r,t.start.row=t.end.row=i.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,h=c.end.row,f=this.session.doc.removeLines(u,h);f=this.$reAlignText(f),this.session.doc.insertLines(u,f),c.start.column=0,c.end.column=f[f.length-1].length,this.selection.setRange(c)}},this.$reAlignText=function(e){function t(e){return d.stringRepeat(" ",e)}function n(e){return e[2]?t(r)+e[2]+t(s-e[2].length+a)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function i(e){return e[2]?t(r+s-e[2].length)+e[2]+t(a," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?t(r)+e[2]+t(a)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var r,s,a,l=!0,c=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==r?(r=t[1].length,s=t[2].length,a=t[3].length,t):(r+s+a!=t[1].length+t[2].length+t[3].length&&(c=!1),r!=t[1].length&&(l=!1),r>t[1].length&&(r=t[1].length),s<t[2].length&&(s=t[2].length),a>t[3].length&&(a=t[3].length),t):[e]}).map(l?c?i:n:o)}}).call(m.prototype),t.onSessionChange=function(e){var t=e.session;t.multiSelect||(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.removeEventListener("addRange",this.$onAddRange),n.multiSelect.removeEventListener("removeRange",this.$onRemoveRange),n.multiSelect.removeEventListener("multiSelect",this.$onMultiSelect),n.multiSelect.removeEventListener("singleSelect",this.$onSingleSelect)),t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=o,e("./config").defineOptions(m.prototype,"editor",{enableMultiselect:{set:function(e){o(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0}})}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event"],function(e,t){function n(e,t){return e.row==t.row&&e.column==t.column}function i(e){var t=e.domEvent,i=t.altKey,r=t.shiftKey,s=e.getAccelKey(),a=e.getButton();if(e.editor.inMultiSelectMode&&2==a)return e.editor.textInput.onContextMenu(e.domEvent),void 0;if(!s&&!i)return 0==a&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode(),void 0;var l=e.editor,c=l.selection,u=l.inMultiSelectMode,d=e.getDocumentPosition(),h=c.getCursor(),f=e.inSelection()||c.isEmpty()&&n(d,h),p=e.x,g=e.y,m=function(e){p=e.clientX,g=e.clientY},v=function(){var e=l.renderer.pixelToScreenCoordinates(p,g),t=y.screenToDocumentPosition(e.row,e.column);n(w,e)&&n(t,c.selectionLead)||(w=e,l.selection.moveCursorToPosition(t),l.selection.clearSelection(),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(_),_=c.rectangularRangeBlock(w,b),_.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers())},y=l.session,b=l.renderer.pixelToScreenCoordinates(p,g),w=b;if(!s||r||i||0!=a){if(i&&0==a){e.stop(),u&&!s?c.toSingleRange():!u&&s&&c.addRange();var _=[];r?(b=y.documentToScreenPosition(c.lead),v()):(c.moveCursorToPosition(d),c.clearSelection());var C=function(){clearInterval(A),l.removeSelectionMarkers(_);for(var e=0;e<_.length;e++)c.addRange(_[e])},E=v;o.capture(l.container,m,C);var A=setInterval(function(){E()},20);return e.preventDefault()}}else{if(!u&&f)return;if(!u){var F=c.toOrientedRange();l.addSelectionMarker(F)}var k=c.rangeList.rangeAtPoint(d);l.once("mouseup",function(){var e=c.toOrientedRange();k&&e.isEmpty()&&n(k.cursor,e.cursor)?c.substractPoint(e.cursor):(F&&(l.removeSelectionMarker(F),c.addRange(F)),c.addRange(e))})}}var o=e("../lib/event");t.onMouseDown=i}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)
},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"}}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/config"],function(e,t){var n=e("../lib/oop"),i=e("../lib/event_emitter").EventEmitter,o=e("../config"),r=function(t,n,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.onError=this.onError.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl);var r;if(o.get("packaged")||!e.toUrl)r=o.moduleUrl(n,"worker");else{var s=this.$normalizePath;r=s(e.toUrl("ace/worker/worker.js",null,"_"));var a={};t.forEach(function(t){a[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=new Worker(r),this.$worker.postMessage({init:!0,tlns:a,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onerror=this.onError,this.$worker.onmessage=this.onMessage};(function(){n.implement(this,i),this.onError=function(e){throw window.console&&console.log&&console.log(e),e},this.onMessage=function(e){var t=e.data;switch(t.type){case"log":window.console&&console.log&&console.log.apply(console,t.data);break;case"event":this._emit(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id])}},this.$normalizePath=function(e){return location.host?(e=e.replace(/^[a-z]+:\/\/[^\/]+/,""),e=location.protocol+"//"+location.host+("/"==e.charAt(0)?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+e.replace(/^[\/]+/,"")):e},this.terminate=function(){this._emit("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue?this.deltaQueue.push(e.data):(this.deltaQueue=[e.data],setTimeout(this.$sendDeltaQueue,1))},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>20&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(r.prototype);var s=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,s=Object.create(i),a=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){a.messageBuffer.push(e),r&&setTimeout(l)};var l=function(){var e=a.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&s._emit(e.event,e.data)};s.postMessage=function(e){a.onMessage({data:e})},s.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},s.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],function(e){for(r=new e[n](s);a.messageBuffer.length;)l()})};s.prototype=r.prototype,t.UIWorkerClient=s,t.WorkerClient=r}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t){var n=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),r=function(e,t,n,i,o,r){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=o,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,i=this.session,o=this.$pos;this.pos=t.createAnchor(o.row,o.column),this.markerId=i.addMarker(new n(o.row,o.column,o.row,o.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(t){i.removeMarker(e.markerId),e.markerId=i.addMarker(new n(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(n){var i=t.createAnchor(n.row,n.column);e.others.push(i)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1),i.on("change",function(o){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(o.value.row,o.value.column,o.value.row,o.value.column+t.length),t.othersClass,null,!1)})})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){var t=e.data,i=t.range;if(i.start.row===i.end.row&&i.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var o="insertText"===t.action?i.end.column-i.start.column:i.start.column-i.end.column;if(i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1){var r=i.start.column-this.pos.column;if(this.length+=o,!this.session.$fromUndo){if("insertText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+r};a.row===i.start.row&&i.start.column<a.column&&(l.column+=o),this.doc.insert(l,t.text)}else if("removeText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+r};a.row===i.start.row&&i.start.column<a.column&&(l.column+=o),this.doc.remove(new n(l.row,l.column,l.row,l.column-o))}i.start.column===this.pos.column&&"insertText"===t.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-o);for(var e=0;e<this.others.length;e++){var t=this.others[e],n={row:t.row,column:t.column-o};t.row===i.start.row&&i.start.column<t.column&&(n.column+=o),t.setPosition(n.row,n.column)}}.bind(this),0):i.start.column===this.pos.column&&"removeText"===t.action&&setTimeout(function(){for(var e=0;e<this.others.length;e++){var t=this.others[e];t.row===i.start.row&&i.start.column<t.column&&t.setPosition(t.row,t.column-o)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var s=0;s<this.others.length;s++)this.others[s]._emit("change",{value:this.others[s]})}this.$updating=!1}},this.onCursorChange=function(e){if(!this.$updating){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;e<this.others.length;e++)this.others[e].detach();this.session.setUndoSelect(!0)},this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;t>n;n++)e.undo(!0)}}).call(r.prototype),t.PlaceHolder=r}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t){var n=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(e,t,i){var o=/\S/,r=e.getLine(t),s=r.search(o);if(-1!=s){for(var a=i||r.length,l=e.getLength(),c=t,u=t;++t<l;){var d=e.getLine(t).search(o);if(-1!=d){if(s>=d)break;u=t}}if(u>c){var h=e.getLine(u).length;return new n(c,a,u,h)}}},this.openingBracketBlock=function(e,t,i,o,r){var s={row:i,column:o+1},a=e.$findClosingBracket(t,s,r);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=this.getFoldWidget(e,a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,i,o){var r={row:i,column:o},s=e.$findOpeningBracket(t,r);return s?(s.column++,r.column--,n.fromPoints(s,r)):void 0}}).call(i.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t){t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;}.ace-tm .ace_cursor {border-left: 2px solid black;}.ace-tm .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),function(){window.require(["ace/ace"],function(e){e&&e.config.init(),window.ace||(window.ace={});for(var t in e)e.hasOwnProperty(t)&&(ace[t]=e[t])})}()}).call(this),function(){define("ace/ext/modelist",["require","exports","module"],function(e,t,n){function i(e){for(var t=l.text,n=e.split(/[\/\\]/).pop(),i=0;i<o.length;i++)if(o[i].supportsFile(n)){t=o[i];break}return t}var o=[],r=function(e,t,n){if(this.name=e,this.caption=t,this.mode="ace/mode/"+e,this.extensions=n,/\^/.test(n))var i=n.replace(/\|(\^)?/g,function(e,t){return"$|"+(t?"^":"^.*\\.")})+"$";else var i="^.*\\.("+n+")$";this.extRe=new RegExp(i,"gi")};r.prototype.supportsFile=function(e){return e.match(this.extRe)};var s={ABAP:["abap"],ADA:["ada|adb"],ActionScript:["as"],AsciiDoc:["asciidoc"],Assembly_x86:["asm"],AutoHotKey:["ahk"],BatchFile:["bat|cmd"],C9Search:["c9search_results"],C_Cpp:["c|cc|cpp|cxx|h|hh|hpp"],Clojure:["clj"],Cobol:["^CBL|COB"],coffee:["^Cakefile|coffee|cf|cson"],ColdFusion:["cfm"],CSharp:["cs"],CSS:["css"],Curly:["curly"],D:["d|di"],Dart:["dart"],Diff:["diff|patch"],Dot:["dot"],Erlang:["erl|hrl"],EJS:["ejs"],Forth:["frt|fs|ldr"],FTL:["ftl"],Glsl:["glsl|frag|vert"],golang:["go"],Groovy:["groovy"],HAML:["haml"],Haskell:["hs"],haXe:["hx"],HTML:["htm|html|xhtml"],HTML_Ruby:["erb|rhtml|html.erb"],Ini:["Ini|conf"],Jade:["jade"],Java:["java"],JavaScript:["js"],JSON:["json"],JSONiq:["jq"],JSP:["jsp"],JSX:["jsx"],Julia:["jl"],LaTeX:["latex|tex|ltx|bib"],LESS:["less"],Liquid:["liquid"],Lisp:["lisp"],LiveScript:["ls"],LogiQL:["logic|lql"],LSL:["lsl"],Lua:["lua"],LuaPage:["lp"],Lucene:["lucene"],Makefile:["^GNUmakefile|^makefile|^Makefile|^OCamlMakefile|make"],MATLAB:["matlab"],Markdown:["md|markdown"],MySQL:["mysql"],MUSHCode:["mc|mush"],Nix:["nix"],ObjectiveC:["m|mm"],OCaml:["ml|mli"],Pascal:["pas|p"],Perl:["pl|pm"],pgSQL:["pgsql"],PHP:["php|phtml"],Powershell:["ps1"],Prolog:["plg|prolog"],Properties:["properties"],Protobuf:["proto"],Python:["py"],R:["r"],RDoc:["Rd"],RHTML:["Rhtml"],Ruby:["ru|gemspec|rake|rb"],Rust:["rs"],SASS:["sass"],SCAD:["scad"],Scala:["scala"],Scheme:["scm|rkt"],SCSS:["scss"],SH:["sh|bash"],snippets:["snippets"],SQL:["sql"],Stylus:["styl|stylus"],SVG:["svg"],Tcl:["tcl"],Tex:["tex"],Text:["txt"],Textile:["textile"],Toml:["toml"],Twig:["twig"],Typescript:["typescript|ts|str"],VBScript:["vbs"],Velocity:["vm"],XML:["xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl"],XQuery:["xq"],YAML:["yaml"]},a={ObjectiveC:"Objective-C",CSharp:"C#",golang:"Go",C_Cpp:"C/C++",coffee:"CoffeeScript",HTML_Ruby:"HTML (Ruby)",FTL:"FreeMarker"},l={};for(var c in s){var u=s[c],d=a[c]||c,h=c.toLowerCase(),f=new r(h,d,u[0]);l[h]=f,o.push(f)}n.exports={getModeForPath:i,modes:o,modesByName:l}})}.call(this),function(){define("ace/theme/twilight",["require","exports","module","ace/lib/dom"],function(e,t){t.isDark=!0,t.cssClass="ace-twilight",t.cssText=".ace-twilight .ace_gutter {background: #232323;color: #E2E2E2}.ace-twilight .ace_print-margin {width: 1px;background: #232323}.ace-twilight {background-color: #141414;color: #F8F8F8}.ace-twilight .ace_cursor {border-left: 2px solid #A7A7A7}.ace-twilight .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid #A7A7A7}.ace-twilight .ace_marker-layer .ace_selection {background: rgba(221, 240, 255, 0.20)}.ace-twilight.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #141414;border-radius: 2px}.ace-twilight .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-twilight .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgba(255, 255, 255, 0.25)}.ace-twilight .ace_marker-layer .ace_active-line {background: rgba(255, 255, 255, 0.031)}.ace-twilight .ace_gutter-active-line {background-color: rgba(255, 255, 255, 0.031)}.ace-twilight .ace_marker-layer .ace_selected-word {border: 1px solid rgba(221, 240, 255, 0.20)}.ace-twilight .ace_invisible {color: rgba(255, 255, 255, 0.25)}.ace-twilight .ace_keyword,.ace-twilight .ace_meta {color: #CDA869}.ace-twilight .ace_constant,.ace-twilight .ace_constant.ace_character,.ace-twilight .ace_constant.ace_character.ace_escape,.ace-twilight .ace_constant.ace_other,.ace-twilight .ace_heading,.ace-twilight .ace_support.ace_constant {color: #CF6A4C}.ace-twilight .ace_invalid.ace_illegal {color: #F8F8F8;background-color: rgba(86, 45, 86, 0.75)}.ace-twilight .ace_invalid.ace_deprecated {text-decoration: underline;font-style: italic;color: #D2A8A1}.ace-twilight .ace_support {color: #9B859D}.ace-twilight .ace_fold {background-color: #AC885B;border-color: #F8F8F8}.ace-twilight .ace_support.ace_function {color: #DAD085}.ace-twilight .ace_list,.ace-twilight .ace_storage {color: #F9EE98}.ace-twilight .ace_entity.ace_name.ace_function,.ace-twilight .ace_meta.ace_tag,.ace-twilight .ace_variable {color: #AC885B}.ace-twilight .ace_string {color: #8F9D6A}.ace-twilight .ace_string.ace_regexp {color: #E9C062}.ace-twilight .ace_comment {font-style: italic;color: #5F5A60}.ace-twilight .ace_variable {color: #7587A6}.ace-twilight .ace_xml-pe {color: #494949}.ace-twilight .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERFpYLC1tf0PAAgOAnPnhxyiAAAAAElFTkSuQmCC) right repeat-y;}";var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)})}.call(this),function(){define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t){var n=e("../lib/oop"),i=e("./text").Mode,o=e("../tokenizer").Tokenizer,r=e("./css_highlight_rules").CssHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./behaviour/css").CssBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){var e=new r;this.$tokenizer=new o(e.getRules()),this.$outdent=new s,this.$behaviour=new l,this.$keywordList=e.$keywordList,this.foldingRules=new c};n.inherits(u,i),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),o=this.$tokenizer.getLineTokens(t,e).tokens;if(o.length&&"comment"==o[o.length-1].type)return i;var r=t.match(/^.*\{\s*$/);return r&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("csslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}}.call(u.prototype),t.Mode=u}),define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t){var n=e("../lib/oop"),i=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index",r=t.supportFunction="rgb|rgba|url|attr|counter|counters",s=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",a=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",l=t.supportConstantFonts="arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",c=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",u=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",h=function(){var e=this.createKeywordMapper({"support.function":r,"support.constant":s,"support.type":o,"support.constant.color":a,"support.constant.fonts":l},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+c+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:c},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:u},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};n.inherits(h,i),t.CssHighlightRules=h}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){var n=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var i=e.getLine(t),o=i.match(/^(\s*\})/);if(!o)return 0;var r=o[1].length,s=e.findMatchingBracket({row:t,column:r});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,r-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t){var n=e("../../lib/oop"),i=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,r=function(){this.inherit(i),this.add("colon","insertion",function(e,t,n,i,r){if(":"===r){var s=n.getCursorPosition(),a=new o(i,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(s.row),u=c.substring(s.column,s.column+1);if(":"===u)return{text:"",selection:[1,1]};if(!c.substring(s.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&":"===s){var a=n.getCursorPosition(),l=new o(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type){var u=i.doc.getLine(r.start.row),d=u.substring(r.end.column,r.end.column+1);if(";"===d)return r.end.column++,r}}}),this.add("semicolon","insertion",function(e,t,n,i,o){if(";"===o){var r=n.getCursorPosition(),s=i.doc.getLine(r.row),a=s.substring(r.column,r.column+1);if(";"===a)return{text:"",selection:[1,1]}}})};n.inherits(r,i),t.CssBehaviour=r}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t){var n=e("../../lib/oop"),i=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,r=e("../../lib/lang"),s=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],l=0,c=-1,u="",d=0,h=-1,f="",p="",g=function(){g.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new o(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",s)){var r=new o(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",s))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",a)},g.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},g.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,u[0])||(l=0),c=i.row,u=n+o.substr(i.column),l++},g.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(d=0),h=i.row,f=o.substr(0,i.column)+n,p=o.substr(i.column),d++},g.isAutoInsertedClosing=function(e,t,n){return l>0&&e.row===c&&n===u[0]&&t.substr(e.column)===u},g.isMaybeInsertedClosing=function(e,t){return d>0&&e.row===h&&t.substr(e.column)===p&&t.substr(0,e.column)==f},g.popAutoInsertedClosing=function(){u=u.substr(1),l--},g.clearMaybeInsertedClosing=function(){d=0,h=-1},this.add("braces","insertion",function(e,t,n,i,o){var s=n.getCursorPosition(),a=i.doc.getLine(s.row);if("{"==o){var l=n.getSelectionRange(),c=i.doc.getTextRange(l);if(""!==c&&"{"!==c&&n.getWrapBehavioursEnabled())return{text:"{"+c+"}",selection:!1};if(g.isSaneInsertion(n,i))return/[\]\}\)]/.test(a[s.column])?(g.recordAutoInsert(n,i,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(n,i,"{"),{text:"{",selection:[1,1]})
}else if("}"==o){var u=a.substring(s.column,s.column+1);if("}"==u){var h=i.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==h&&g.isAutoInsertedClosing(s,a,o))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if("\n"==o||"\r\n"==o){var f="";g.isMaybeInsertedClosing(s,a)&&(f=r.stringRepeat("}",d),g.clearMaybeInsertedClosing());var u=a.substring(s.column,s.column+1);if("}"==u||""!==f){var p=i.findMatchingBracket({row:s.row,column:s.column},"}");if(!p)return null;var m=this.getNextLineIndent(e,a.substring(0,s.column),i.getTabString()),v=this.$getIndent(a);return{text:"\n"+m+"\n"+v+f,selection:[1,m.length,1,m.length]}}}}),this.add("braces","deletion",function(e,t,n,i,o){var r=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==r){var s=i.doc.getLine(o.start.row),a=s.substring(o.end.column,o.end.column+1);if("}"==a)return o.end.column++,o;d--}}),this.add("parens","insertion",function(e,t,n,i,o){if("("==o){var r=n.getSelectionRange(),s=i.doc.getTextRange(r);if(""!==s&&n.getWrapBehavioursEnabled())return{text:"("+s+")",selection:!1};if(g.isSaneInsertion(n,i))return g.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==o){var a=n.getCursorPosition(),l=i.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=i.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&g.isAutoInsertedClosing(a,l,o))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,n,i,o){var r=i.doc.getTextRange(o);if(!o.isMultiLine()&&"("==r){var s=i.doc.getLine(o.start.row),a=s.substring(o.start.column+1,o.start.column+2);if(")"==a)return o.end.column++,o}}),this.add("brackets","insertion",function(e,t,n,i,o){if("["==o){var r=n.getSelectionRange(),s=i.doc.getTextRange(r);if(""!==s&&n.getWrapBehavioursEnabled())return{text:"["+s+"]",selection:!1};if(g.isSaneInsertion(n,i))return g.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){var a=n.getCursorPosition(),l=i.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=i.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&g.isAutoInsertedClosing(a,l,o))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,n,i,o){var r=i.doc.getTextRange(o);if(!o.isMultiLine()&&"["==r){var s=i.doc.getLine(o.start.row),a=s.substring(o.start.column+1,o.start.column+2);if("]"==a)return o.end.column++,o}}),this.add("string_dquotes","insertion",function(e,t,n,i,o){if('"'==o||"'"==o){var r=o,s=n.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&n.getWrapBehavioursEnabled())return{text:r+a+r,selection:!1};var l=n.getCursorPosition(),c=i.doc.getLine(l.row),u=c.substring(l.column-1,l.column);if("\\"==u)return null;for(var d,h=i.getTokens(s.start.row),f=0,p=-1,m=0;m<h.length&&(d=h[m],"string"==d.type?p=-1:0>p&&(p=d.value.indexOf(r)),!(d.value.length+f>s.start.column));m++)f+=h[m].value.length;if(!d||0>p&&"comment"!==d.type&&("string"!==d.type||s.start.column!==d.value.length+f-1&&d.value.lastIndexOf(r)===d.value.length-1)){if(!g.isSaneInsertion(n,i))return;return{text:r+r,selection:[1,1]}}if(d&&"string"===d.type){var v=c.substring(l.column,l.column+1);if(v==r)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,n,i,o){var r=i.doc.getTextRange(o);if(!o.isMultiLine()&&('"'==r||"'"==r)){var s=i.doc.getLine(o.start.row),a=s.substring(o.start.column+1,o.start.column+2);if(a==r)return o.end.column++,o}})};n.inherits(g,i),t.CstyleBehaviour=g}),define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t){var n=e("../../lib/oop"),i=(e("../../range").Range,e("./fold_mode").FoldMode),o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(o,i),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,n){var i=e.getLine(n),o=i.match(this.foldingStartMarker);if(o){var r=o.index;return o[1]?this.openingBracketBlock(e,o[1],n,r):e.getCommentFoldRange(n,r+o[0].length,1)}if("markbeginend"===t){var o=i.match(this.foldingStopMarker);if(o){var r=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,r):e.getCommentFoldRange(n,r,-1)}}}}.call(o.prototype)})}.call(this),function(){ace.config.set("modePath","/packages/ace-embed/ace"),ace.config.set("themePath","/packages/ace-embed/ace"),ace.config.set("workerPath","/packages/ace-embed/ace"),ace.config.set("basePath","/packages/ace-embed/ace")}.call(this),"undefined"==typeof Package&&(Package={}),Package["ace-embed"]={}}(),function(){{var e;Package.underscore._}"undefined"==typeof Package&&(Package={}),Package["underscore-string-latest"]={_s:e}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.underscore._;Package["underscore-string-latest"]._s}(function(){e="object"==typeof e?e:{};var i;i=this,this.Minimongoid=function(){function e(e,o){var r,s,a,l,c,u,d,h,f,p,g,m,v,y,b,w,_,C,E,A,F,k,x,S,D,B,T,$,L,M;for(null==e&&(e={}),null==o&&(o=null),e._id&&(this.id=this.constructor._object_id?e._id._str:e._id,this._id=this.id),D=this.constructor.has_and_belongs_to_many,y=0,C=D.length;C>y;y++)c=D[y],d=""+n.singularize(c.name)+"_ids",this[d]||(this[d]=[]);for(B=this.constructor.embeds_many,b=0,E=B.length;E>b;b++)a=B[b],this[S=a.name]||(this[S]=[]);this.constructor.embedded_in&&o&&(this[this.constructor.embedded_in]=o);for(h in e)v=e[h],h.match(/^_id/)||(h.match(/_id$/)&&v instanceof t.Collection.ObjectID?this[h]=v._str:(a=n.findWhere(this.constructor.embeds_many,{name:h}))?(s=a.class_name||n.classify(n.singularize(h)),this[h]=i[s].modelize(v,this)):this[h]=v);T=this.constructor.defaults;for(e in T)m=T[e],"undefined"==typeof this[e]&&(this[e]=m);for(g=this,$=this.constructor.belongs_to,w=0,A=$.length;A>w;w++)r=$[w],f=r.name,d=r.identifier||""+f+"_id",s=r.class_name||n.titleize(f),this[f]=function(e,t,n){return function(e){return null==e&&(e={}),i[n]&&g[t]?i[n].find(g[t],e):!1}}(f,d,s);for(L=this.constructor.has_many,_=0,F=L.length;F>_;_++)u=L[_],f=u.name,p={},(l=u.foreign_key)||(l=""+n.singularize(this.constructor.to_s().toLowerCase())+"_id"),p[l]=this.constructor._object_id?new t.Collection.ObjectID(this.id):this.id,s=u.class_name||n.titleize(n.singularize(f)),this[f]=function(e,t,o){return function(e,r){return null==e&&(e={}),null==r&&(r={}),e=n.extend(e,t),i[o]?i[o].where(e,r):void 0}}(f,p,s);for(M=this.constructor.has_and_belongs_to_many,x=0,k=M.length;k>x;x++)c=M[x],f=c.name,d=""+n.singularize(f)+"_ids",s=c.class_name||n.titleize(n.singularize(f)),this[f]=function(e,t,o){return function(e,r){return null==e&&(e={}),null==r&&(r={}),p={_id:{$in:g[t]}},e=n.extend(e,p),i[o]&&g[t]&&g[t].length?i[o].where(e,r):[]}}(f,d,s)}return e.prototype.id=void 0,e.prototype.errors=!1,e.prototype.r=function(e){return this.related(e)},e.prototype.related=function(e,o){var r,s,a,l,c,u,d,h,f,p,g,m,v,y,b;for(null==o&&(o={}),v=this.constructor.belongs_to,d=0,p=v.length;p>d;d++)if(r=v[d],e===r.name)return c=""+r.name+"_id",r.class_name||(r.class_name=n.titleize(r.name)),this[c]?i[r.class_name].find(this[c],o):!1;for(y=this.constructor.has_many,h=0,g=y.length;g>h;h++)if(l=y[h],e===l.name)return u={},(s=l.foreign_key)||(s=""+n.singularize(this.constructor.to_s().toLowerCase())+"_id"),u[s]=this.constructor._object_id?new t.Collection.ObjectID(this.id):this.id,l.class_name||(l.class_name=n.titleize(n.singularize(l.name))),i[l.class_name].where(u,o);for(b=this.constructor.has_and_belongs_to_many,f=0,m=b.length;m>f;f++)if(a=b[f],e===a.name)return c=""+n.singularize(a.name)+"_ids",a.class_name||(a.class_name=n.titleize(n.singularize(a.name))),this[c]&&this[c].length?i[a.class_name].where({_id:{$in:this[c]}},o):[];return console.warn("Method "+e+" does not exist for "+this.constructor.to_s()+".")},e.prototype.error=function(e,t){var n;return this.errors||(this.errors=[]),n={},n[e]=t,this.errors.push(n)},e.prototype.isValid=function(e){return null==e&&(e={}),this.validate(),!this.errors},e.prototype.validate=function(){return!0},e.prototype.save=function(e){var t,n;null==e&&(e={}),this.errors=!1;for(t in e)n=e[t],this[t]=n;return this.isValid()?(null!=this.id?this.constructor._collection.update(this.id,{$set:e}):this.id=this._id=this.constructor._collection.insert(e),this.constructor.after_save&&this.constructor.after_save(this),this):this},e.prototype.update=function(e){return this.save(e)},e.prototype.push=function(e){return this.constructor._collection.update(this.id,{$addToSet:e})},e.prototype.pull=function(e){return this.constructor._collection.update(this.id,{$pull:e})},e.prototype.del=function(e){var t;return t={},t[e]="",this.constructor._collection.update(this.id,{$unset:t})},e.prototype.destroy=function(){return null!=this.id?(this.constructor._collection.remove(this.id),this.id=this._id=null):void 0},e.prototype.reload=function(){return null!=this.id?this.constructor.find(this.id):void 0},e._object_id=!1,e._collection=void 0,e._type=void 0,e._debug=!1,e.defaults=[],e.belongs_to=[],e.has_many=[],e.has_and_belongs_to_many=[],e.embedded_in=null,e.embeds_many=[],e.init=function(e,t){return null==t&&(t=null),new this(e,t)},e.to_s=function(){return this._collection?this._collection._name:"embedded"},e.create=function(e){var t;return e.createdAt||(e.createdAt=new Date),this.before_create&&(e=this.before_create(e)),t=this.init(e),t=t.save(e),t&&this.after_create?this.after_create(t):t},e.where=function(e,t){var i;return null==e&&(e={}),null==t&&(t={}),this._debug&&(console.info(" --- WHERE ---"),console.info("  "+n.singularize(n.classify(this.to_s()))+".where("+JSON.stringify(e)+(n.isEmpty(t)?"":","+JSON.stringify(t))+")")),i=this.modelize(this.find(e,t)),this._debug&&i&&console.info("  > found "+i.length),i},e.first=function(e,t){var i;return null==e&&(e={}),null==t&&(t={}),this._debug&&(console.info(" --- FIRST ---"),console.info("  "+n.singularize(n.classify(this.to_s()))+".first("+JSON.stringify(e)+(n.isEmpty(t)?"":","+JSON.stringify(t))+")")),(i=this._collection.findOne(e,t))?this.init(i):void 0},e.last=function(e,t){var n;return null==e&&(e={}),null==t&&(t={}),t.sort={createdAt:-1},(n=this._collection.findOne(e,t))?this.init(n):void 0},e.all=function(e){return this.where({},e)},e.find=function(e,i){return null==e&&(e={}),null==i&&(i={}),"object"!=typeof e?(this._object_id&&(e=new t.Collection.ObjectID(e)),this.first({_id:e},i)):e instanceof t.Collection.ObjectID?this.first({_id:e},i):(this._object_id&&(e&&e._id&&("string"==typeof e._id?e._id=new t.Collection.ObjectID(e._id):e._id.$in&&(e._id.$in=n.map_object_id(e._id.$in))),e&&e._ids&&(e._ids=n.map(e._ids,function(e){return new t.Collection.ObjectID(e)}))),this._collection.find(e,i))},e.count=function(e,t){return null==e&&(e={}),null==t&&(t={}),this.find(e,t).count()},e.destroyAll=function(e){return null==e&&(e={}),this._collection.remove(e)},e.modelize=function(e,t){var n;return null==t&&(t=null),n=this,e.map(function(e){return n.init(e,t)})},e}(),n.singularize=function(e){return e=e.replace(/s$/,"")}}).call(this),"undefined"==typeof Package&&(Package={}),Package.minimongoid={}}(),function(){{var e;Package.meteor.Meteor}(function(){"undefined"!=typeof Package&&(e=this.moment)}).call(this),"undefined"==typeof Package&&(Package={}),Package.moment={moment:e}}(),function(){var e=(Package.meteor.Meteor,Package.handlebars.Handlebars);(function(){e.registerHelper("markdown",function(e){return marked(e.fn(this))})}).call(this),"undefined"==typeof Package&&(Package={}),Package.marked={}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.templating.Template,i=Package.handlebars.Handlebars,o=(Package["iron-router"].RouteController,Package["iron-router"].Route,Package["iron-router"].Router),r=(Package["iron-router"].IronLocation,Package["accounts-base"].Accounts,Package.moment.moment);Package.roles.Roles,Package.spark.Spark}(function(){e="object"==typeof e?e:{};var o;o={settings:{blogIndexTemplate:"blogIndex",blogShowTemplate:"blogShow",blogAdminTemplate:"blogAdmin",blogAdminNewTemplate:"blogAdminNew",blogAdminEditTemplate:"blogAdminEdit",pageSize:20},config:function(e){return this.settings=_.extend(this.settings,e)}},this.Blog=o,t.startup(function(){var e,t,n;return $("<link>",{href:"//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css",rel:"stylesheet"}).appendTo("head"),window.twttr=function(e,t,n){var i,o,r;return r=void 0,o=void 0,i=e.getElementsByTagName(t)[0],e.getElementById(n)?void 0:(o=e.createElement(t),o.id=n,o.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(o,i),window.twttr||(r={_e:[],ready:function(e){return r._e.push(e)}}))}(document,"script","twitter-wjs"),t=void 0,e="facebook-jssdk",n=document.getElementsByTagName("script")[0],document.getElementById(e)?void 0:(t=document.createElement("script"),t.id=e,t.async=!0,t.src="//connect.facebook.net/en_US/all.js",n.parentNode.insertBefore(t,n),$("body").on("click",".load-more",function(e){return e.preventDefault(),Session.get("postLimit")?Session.set("postLimit",Session.get("postLimit")+o.settings.pageSize):void 0}))}),i.registerHelper("blogFormatDate",function(e){return r(new Date(e)).format("MMM Do, YYYY")}),i.registerHelper("blogPager",function(){return Post.count()===Session.get("postLimit")?new i.SafeString('<a class="load-more btn" href="#">Load More</a>'):void 0}),i.registerHelper("blogIndex",function(){return new i.SafeString(n.blogIndexLoop(this))}),i.registerHelper("blogShow",function(){return new i.SafeString(n.blogShowBody(this))})}).call(this),function(){!function(e){"use strict";e.fn.bootstrapSwitch=function(t){var n='input[type!="hidden"]',i={init:function(){return this.each(function(){var t,i,o,r,s,a,l=e(this),c=l.closest("form"),u="",d=l.attr("class"),h="ON",f="OFF",p=!1,g=!1;e.each(["switch-mini","switch-small","switch-large"],function(e,t){d.indexOf(t)>=0&&(u=t)}),l.addClass("has-switch"),void 0!==l.data("on")&&(s="switch-"+l.data("on")),void 0!==l.data("on-label")&&(h=l.data("on-label")),void 0!==l.data("off-label")&&(f=l.data("off-label")),void 0!==l.data("label-icon")&&(p=l.data("label-icon")),void 0!==l.data("text-label")&&(g=l.data("text-label")),i=e("<span>").addClass("switch-left").addClass(u).addClass(s).html(""+h),s="",void 0!==l.data("off")&&(s="switch-"+l.data("off")),o=e("<span>").addClass("switch-right").addClass(u).addClass(s).html(""+f),r=e("<label>").html("&nbsp;").addClass(u).attr("for",l.find(n).attr("id")),p&&r.html('<i class="icon '+p+'"></i>'),g&&r.html(""+g),t=l.find(n).wrap(e("<div>")).parent().data("animated",!1),l.data("animated")!==!1&&t.addClass("switch-animate").data("animated",!0),t.append(i).append(r).append(o),l.find(">div").addClass(l.find(n).is(":checked")?"switch-on":"switch-off"),l.find(n).is(":disabled")&&e(this).addClass("deactivate");var m=function(e){l.parent("label").is(".label-change-switch")||e.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};l.on("keydown",function(t){32===t.keyCode&&(t.stopImmediatePropagation(),t.preventDefault(),m(e(t.target).find("span:first")))}),i.on("click",function(){m(e(this))}),o.on("click",function(){m(e(this))}),l.find(n).on("change",function(t,n){var i=e(this),o=i.parent(),r=i.is(":checked"),s=o.is(".switch-off");if(t.preventDefault(),o.css("left",""),s===r){if(r?o.removeClass("switch-off").addClass("switch-on"):o.removeClass("switch-on").addClass("switch-off"),o.data("animated")!==!1&&o.addClass("switch-animate"),"boolean"==typeof n&&n)return;o.parent().trigger("switch-change",{el:i,value:r})}}),l.find("label").on("mousedown touchstart",function(t){var n=e(this);a=!1,t.preventDefault(),t.stopImmediatePropagation(),n.closest("div").removeClass("switch-animate"),n.closest(".has-switch").is(".deactivate")?n.unbind("click"):n.closest(".switch-on").parent().is(".radio-no-uncheck")?n.unbind("click"):(n.on("mousemove touchmove",function(t){var n=e(this).closest(".make-switch"),i=(t.pageX||t.originalEvent.targetTouches[0].pageX)-n.offset().left,o=i/n.width()*100,r=25,s=75;a=!0,r>o?o=r:o>s&&(o=s),n.find(">div").css("left",o-s+"%")}),n.on("click touchend",function(t){var n=e(this),i=n.siblings("input");t.stopImmediatePropagation(),t.preventDefault(),n.unbind("mouseleave"),a?i.prop("checked",!(parseInt(n.parent().css("left"))<-25)):i.prop("checked",!i.is(":checked")),a=!1,i.trigger("change")}),n.on("mouseleave",function(t){var n=e(this),i=n.siblings("input");t.preventDefault(),t.stopImmediatePropagation(),n.unbind("mouseleave mousemove"),n.trigger("mouseup"),i.prop("checked",!(parseInt(n.parent().css("left"))<-25)).trigger("change")}),n.on("mouseup",function(t){t.stopImmediatePropagation(),t.preventDefault(),e(this).trigger("mouseleave")}))}),"injected"!==c.data("bootstrapSwitch")&&(c.bind("reset",function(){setTimeout(function(){c.find(".make-switch").each(function(){var t=e(this).find(n);t.prop("checked",t.is(":checked")).trigger("change")})},1)}),c.data("bootstrapSwitch","injected"))})},toggleActivation:function(){var t=e(this);t.toggleClass("deactivate"),t.find(n).prop("disabled",t.is(".deactivate"))},isActive:function(){return!e(this).hasClass("deactivate")},setActive:function(t){var i=e(this);t?(i.removeClass("deactivate"),i.find(n).removeAttr("disabled")):(i.addClass("deactivate"),i.find(n).attr("disabled","disabled"))},toggleState:function(t){var n=e(this).find(":checkbox");n.prop("checked",!n.is(":checked")).trigger("change",t)},toggleRadioState:function(t){var n=e(this).find(":radio");n.not(":checked").prop("checked",!n.is(":checked")).trigger("change",t)},toggleRadioStateAllowUncheck:function(t,n){var i=e(this).find(":radio");t?i.not(":checked").trigger("change",n):i.not(":checked").prop("checked",!i.is(":checked")).trigger("change",n)},setState:function(t,i){e(this).find(n).prop("checked",t).trigger("change",i)},setOnLabel:function(t){var n=e(this).find(".switch-left");n.html(t)},setOffLabel:function(t){var n=e(this).find(".switch-right");n.html(t)},setOnClass:function(t){var n=e(this).find(".switch-left"),i="";void 0!==t&&(void 0!==e(this).attr("data-on")&&(i="switch-"+e(this).attr("data-on")),n.removeClass(i),i="switch-"+t,n.addClass(i))},setOffClass:function(t){var n=e(this).find(".switch-right"),i="";void 0!==t&&(void 0!==e(this).attr("data-off")&&(i="switch-"+e(this).attr("data-off")),n.removeClass(i),i="switch-"+t,n.addClass(i))},setAnimated:function(t){var i=e(this).find(n).parent();void 0===t&&(t=!1),i.data("animated",t),i.attr("data-animated",t),i.data("animated")!==!1?i.addClass("switch-animate"):i.removeClass("switch-animate")},setSizeClass:function(t){var n=e(this),i=n.find(".switch-left"),o=n.find(".switch-right"),r=n.find("label");e.each(["switch-mini","switch-small","switch-large"],function(e,n){n!==t?(i.removeClass(n),o.removeClass(n),r.removeClass(n)):(i.addClass(n),o.addClass(n),r.addClass(n))})},status:function(){return e(this).find(n).is(":checked")},destroy:function(){var t,n=e(this),i=n.find("div"),o=n.closest("form");return i.find(":not(input)").remove(),t=i.children(),t.unwrap().unwrap(),t.unbind("change"),o&&(o.unbind("reset"),o.removeData("bootstrapSwitch")),t}};return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist!"),void 0):i.init.apply(this,arguments)}}(jQuery),function(e){e(function(){e(".make-switch").bootstrapSwitch()})}(jQuery)}.call(this),function(){n.__define__("blogNotFound",Package.handlebars.Handlebars.json_ast_to_func([]))}.call(this),function(){n.__define__("blogAdminNav",Package.handlebars.Handlebars.json_ast_to_func(['<ul class="blog-admin-sidebar">\n    <li class=""><a href="/admin/blog"><i class="icon-reorder"></i> Posts</a></li>\n    <li class=""><a href="/admin/blog/new"><i class="icon-plus"></i> New Post</a></li>\n  </ul>']))}.call(this),function(){n.__define__("blogAdmin",Package.handlebars.Handlebars.json_ast_to_func(['<div id="blog-admin">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-3">\n          ',[">","blogAdminNav"],'\n        </div>\n        <div class="col-md-9">\n          <h1>\n            Blog Admin\n            <select class="for-filtering form-control">\n              <option value="all">All Posts</option>\n              <option value="mine">My Posts</option>\n            </select>\n          </h1>\n          <div class="row">\n            ',[">","blogAdminList"],"\n          </div>\n      </div>\n    </div>\n  </div>"])),n.__define__("blogAdminList",Package.handlebars.Handlebars.json_ast_to_func(['<ul class="blog-admin-list">\n    ',["#",[[0,"each"],[0,"posts"]],['\n      <li>\n        <div class="col-md-6"><a href="',["{",[[0,"pathFor"],"blogAdminEdit"]],'">',["{",[[0,"title"]]],'</a></div>\n        <div class="col-md-3">',["{",[[0,"authorName"]]],"</div>\n        ",["#",[[0,"if"],[0,"published"]],['\n          <div class="col-md-3">',["{",[[0,"blogFormatDate"],[0,"createdAt"]]],"</div>\n        "],['\n          <div class="col-md-3 blog-draft">DRAFT</div>\n        ']],"\n      </li>\n    "],['\n      <li><a href="',["{",[[0,"pathFor"],"blogAdminNew"]],'">Create the first blog</a></li>\n    ']],"\n  </ul>"]))}.call(this),function(){e="object"==typeof e?e:{};n.blogAdminList.helpers({posts:function(){var e;return e=Post.all({sort:{updatedAt:-1}}),_.size(Session.get("filters"))&&(e=_(e).where(Session.get("filters"))),e}}),n.blogAdmin.events({"change .for-filtering":function(e){var n;return e.preventDefault(),n={},"mine"===$(e.currentTarget).val()&&(n.userId=t.userId()),Session.set("filters",n)}})}.call(this),function(){n.__define__("blogAdminNew",Package.handlebars.Handlebars.json_ast_to_func(['<div id="blog-admin">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-3">\n          ',[">","blogAdminNav"],'\n        </div>\n        <div class="col-md-9">\n          <h1>\n            New Blog Post\n            <div class="switch-wrap">\n              Preview\n              <div class="make-switch" data-on="success">\n                <input name="preview" type="checkbox">\n              </div>\n              <div class="hint">\n                <small><strong><span class="ctrl-label">CTRL</span>-p</strong> toggles <em>Preview</em></small>\n              </div>\n            </div>\n          </h1>\n          <form class="post-form">\n            <div class="form-group">\n              <label>Title</label>\n              <input data-required="true" name="title" type="text" class="form-control"/>\n            </div>\n            <div class="form-group">\n              <label class="body-label">Body</label>\n              <div id="editor"></div>\n              <div id="preview" hidden></div>\n              <div class="hint">\n                <a target="_blank" href="http://daringfireball.net/projects/markdown/syntax"><strong>Markdown</strong> syntax guide</a>\n              </div>\n            </div>\n            <button type="submit" class="for-saving btn-save btn btn-default"><i class="icon-save"></i> Save</button>\n            <button type="submit" class="for-publishing btn-publish btn btn-default"><i class="icon-globe"></i> ',["#",[[0,"if"],[0,"published"]],["Unpublish"],["Publish"]],'</button>\n            <span class="status" hidden></span>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>']))}.call(this),function(){e="object"==typeof e?e:{};var i;n.blogAdminNew.rendered=function(){var e,t,n,i,o,r,s,a,l;return $("[name=title]").focus().val(""),this.editor=ace.edit("editor"),this.editor.setTheme("ace/theme/chrome"),this.editor.setFontSize(14),this.editor.renderer.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1),this.editor.setHighlightActiveLine(!0),this.editor.getSession().setMode("ace/mode/markdown"),this.editor.getSession().setUseWrapMode(!0),this.editor.on("change",_.debounce(function(e){return function(){var t;return t=e.editor.getSession().getDocument().getLength()*e.editor.renderer.lineHeight+e.editor.renderer.scrollBar.getWidth(),$("#editor, #preview").height(t),e.editor.resize()}}(this),250)),n=$(".body-label"),o=$(".make-switch"),t=$("#editor"),i=$("#preview"),e=$(document),o.bootstrapSwitch().on("switch-change",function(e){return function(o,r){var s;return r.value?(t.hide(),s=marked(e.editor.getValue()),n.text("Preview"),i.html(s).show()):(t.show(),e.editor.focus(),n.text("Body"),i.hide())}}(this)),a=l=!1,s=window.navigator.platform.toLowerCase().indexOf("mac")>=0,r=s?"metaKey":"ctrlKey",s&&$(".ctrl-label").html("&#8984;"),e.on("keyup",function(e){return a&&!l&&e[r]&&80===e.which&&(e.preventDefault(),o.bootstrapSwitch("toggleState")),a=l=!1}),e.on("keydown",function(e){return a=!0,e[r]&&80===e.which?(e.preventDefault(),o.bootstrapSwitch("toggleState"),l=!0):void 0})},i=function(e,t){return setTimeout(function(){return $(".status").hide().html(e).fadeIn("slow",function(){return setTimeout(function(){return o.go("blogAdminEdit",{slug:t.slug})},2500)})},100)},n.blogAdminNew.events({"click .for-publishing":function(e,n){var o;return e.preventDefault(),o=Post.create({title:$("[name=title]").val(),body:n.editor.getValue(),published:!0,createdAt:new Date,updatedAt:new Date,publishedAt:new Date,userId:t.userId()}),o.errors?alert(_(o.errors[0]).values()[0]):i("Publishing...",o)},"click .for-saving":function(e,n){var o;return e.preventDefault(),o=Post.create({title:$("[name=title]").val(),body:n.editor.getValue(),published:!1,createdAt:new Date,updatedAt:new Date,userId:t.userId()}),o.errors?alert(_(o.errors[0]).values()[0]):i("Saving...",o)}})}.call(this),function(){n.__define__("blogAdminEdit",Package.handlebars.Handlebars.json_ast_to_func(['<div id="blog-admin">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-3">\n          ',[">","blogAdminNav"],'\n        </div>\n        <div class="col-md-9">\n          <h1>\n            <strong>EDIT:</strong> ',["{",[[0,"title"]]],'\n            <div class="switch-wrap">\n              Preview\n              <div class="make-switch" data-on="success">\n                <input name="preview" type="checkbox">\n              </div>\n              <div class="hint">\n                <small><strong><span class="ctrl-label">CTRL</span>-p</strong> toggles <em>Preview</em></small>\n              </div>\n            </div>\n          </h1>\n          <form class="post-form">\n            <div class="form-group">\n              <label>Title</label>\n              <input data-required="true" name="title" type="text" class="form-control" value="',["{",[[0,"title"]]],'"/>\n            </div>\n            <div class="form-group">\n              <label class="body-label">Body</label>\n              <div id="editor"></div>\n              <div id="preview" hidden></div>\n              <div class="hint">\n                <a target="_blank" href="http://daringfireball.net/projects/markdown/syntax"><strong>Markdown</strong> syntax guide</a>\n              </div>\n            </div>\n            <button type="submit" class="for-saving btn-save btn btn-default"><i class="icon-save"></i> Save</button>\n            <button type="submit" class="for-publishing btn-publish btn btn-default"><i class="icon-globe"></i> ',["#",[[0,"if"],[0,"published"]],["Unpublish"],["Publish"]],'</button>\n            <button type="submit" class="for-deleting btn-delete btn btn-default"><i class="icon-trash"></i> Delete</button>\n            <span class="status" hidden></span>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>']))}.call(this),function(){e="object"==typeof e?e:{};var t;n.blogAdminEdit.rendered=function(){var e,t,n,i,o,r,s,a,l;return this.editor=ace.edit("editor"),this.editor.setTheme("ace/theme/chrome"),this.editor.setFontSize(14),this.editor.renderer.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1),this.editor.setHighlightActiveLine(!0),this.editor.getSession().setMode("ace/mode/markdown"),this.editor.getSession().setUseWrapMode(!0),this.editor.on("change",_.debounce(function(e){return function(){var t;return t=e.editor.getSession().getDocument().getLength()*e.editor.renderer.lineHeight+e.editor.renderer.scrollBar.getWidth(),$("#editor, #preview").height(t),e.editor.resize()}}(this),250)),n=$(".body-label"),o=$(".make-switch"),t=$("#editor"),i=$("#preview"),e=$(document),o.bootstrapSwitch().on("switch-change",function(e){return function(o,r){var s;return r.value?(t.hide(),s=marked(e.editor.getValue()),n.text("Preview"),i.html(s).show()):(t.show(),e.editor.focus(),e.editor.getSelection().clearSelection(),n.text("Body"),i.hide())}}(this)),this.editor.setValue(this.data.body),this.editor.focus(),this.editor.getSelection().clearSelection(),a=l=!1,s=window.navigator.platform.toLowerCase().indexOf("mac")>=0,r=s?"metaKey":"ctrlKey",s&&$(".ctrl-label").html("&#8984;"),e.on("keyup",function(e){return a&&!l&&e[r]&&80===e.which&&(e.preventDefault(),o.bootstrapSwitch("toggleState")),a=l=!1}),e.on("keydown",function(e){return a=!0,e[r]&&80===e.which?(e.preventDefault(),o.bootstrapSwitch("toggleState"),l=!0):void 0})},t=function(e){return setTimeout(function(){return $(".status").hide().html(e).fadeIn("slow",function(){return setTimeout(function(){return $(".status").fadeOut("slow")},2500)})},100)},n.blogAdminEdit.events({"click .for-deleting":function(e){return e.preventDefault(),confirm("Are you sure?")?(this.destroy(),o.go("blogAdmin")):void 0},"click .for-publishing":function(e,n){var i,o,r;return e.preventDefault(),i={title:$("[name=title]").val(),body:n.editor.getValue(),excerpt:Post.excerpt(n.editor.getValue()),updatedAt:new Date},this.published?(r="Unpublished",$(e.currentTarget).html('<i class="icon-globe"> Publish'),i.published=!1,i.publishedAt=null):(r="Published",$(e.currentTarget).html('<i class="icon-globe"> Unpublish'),i.published=!0,i.publishedAt=new Date),o=this.update(i),o.errors?alert(_(o.errors[0]).values()[0]):t(r)},"click .for-saving":function(e,n){var i;return e.preventDefault(),i=this.update({title:$("[name=title]").val(),body:n.editor.getValue(),excerpt:Post.excerpt(n.editor.getValue()),updatedAt:new Date}),i.errors?alert(_(i.errors[0]).values()[0]):t("Saved")}})}.call(this),function(){n.__define__("blogIndex",Package.handlebars.Handlebars.json_ast_to_func(['<div id="meteor-blog" class="blog-list">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8 col-md-offset-2">\n          ',[">","blogIndexLoop"],"\n          ",["{",[[0,"blogPager"]]],"\n        </div>\n      </div>\n    </div>\n  </div>"])),n.__define__("blogIndexLoop",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"posts"]],['\n    <article class="post">\n      <h2>\n        <a href="',["{",[[0,"pathFor"],"blogShow"]],'">',["{",[[0,"title"]]],'</a>\n      </h2>\n      <div class="post-meta">\n        By ',["{",[[0,"authorName"]]]," on ",["{",[[0,"blogFormatDate"],[0,"publishedAt"]]],'\n      </div>\n      <div class="the-content">\n        ',["!",[[0,"excerpt"]]],"\n      </div>\n    </article>\n  "],["\n    This blog is looking pretty empty...\n  "]]]))}.call(this),function(){n.__define__("blogShow",Package.handlebars.Handlebars.json_ast_to_func(['<div id="meteor-blog" class="blog-single">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-8 col-md-offset-2">\n          ',[">","blogShowBody"],"\n        </div>\n      </div>\n    </div>\n  </div>"])),n.__define__("blogShowBody",Package.handlebars.Handlebars.json_ast_to_func(['<article class="post">\n    <h2>',["{",[[0,"title"]]],'</h2>\n    <div class="post-meta">\n      By ',["{",[[0,"authorName"]]]," on ",["{",[[0,"blogFormatDate"],[0,"publishedAt"]]],'\n    </div>\n    <div class="the-content">\n      ',["!",[[0,"html"]]],'\n    </div>\n  </article>\n  <div class="blog-back-link pull-left">\n    <a href="',["{",[[0,"pathFor"],"blogIndex"]],'"><i class="icon-caret-left"></i>Back to the Blog</a>\n  </div>\n  <div class="share-buttons pull-right">\n    <a target="_blank" class="btn-facebook fb-share" href="#"><i class="icon-facebook"></i>Share on Facebook </a>\n    <a class="btn-twitter tw-share" href="#"><i class="icon-twitter"></i>Share on Twitter </a>\n  </div>']))
}.call(this),function(){e="object"==typeof e?e:{};n.blogShowBody.rendered=function(){var e,t,n,i,o,r,s,a;return this.data.published||$("<meta>",{name:"robots",content:"noindex,nofollow"}).appendTo("head"),$('meta[property^="og:"]').remove(),$('meta[property^="twitter:"]').remove(),$("<meta>",{property:"og:type",content:"article"}).appendTo("head"),$("<meta>",{property:"og:site_name",content:location.hostname}).appendTo("head"),$("<meta>",{property:"og:url",content:location.origin+location.pathname}).appendTo("head"),$("<meta>",{property:"og:title",content:""+this.data.title}).appendTo("head"),$("<meta>",{property:"og:description",content:this.data.excerpt}).appendTo("head"),i=this.data.thumbnail(),i&&(/^http(s?):\/\/+/.test(i)||(i=location.origin+i),$("<meta>",{property:"og:image",content:i}).appendTo("head")),$("<meta>",{property:"twitter:card",content:"summary"}).appendTo("head"),e=this.data.author(),e.profile&&e.profile.twitter&&$("<meta>",{property:"twitter:creator",content:e.profile.twitter}).appendTo("head"),$("<meta>",{property:"twitter:url",content:location.origin+location.pathname}).appendTo("head"),$("<meta>",{property:"twitter:title",content:""+this.data.title}).appendTo("head"),$("<meta>",{property:"twitter:description",content:this.data.excerpt}).appendTo("head"),$("<meta>",{property:"twitter:image:src",content:i}).appendTo("head"),t="https://twitter.com/intent/tweet",a=encodeURIComponent(location.origin+location.pathname),r=encodeURIComponent(this.data.title),n=t+"?url="+a+"&text="+r,e.profile&&e.profile.twitter&&(n+="&via="+e.profile.twitter),$(".tw-share").attr("href",n),t="https://www.facebook.com/sharer/sharer.php",a=encodeURIComponent(location.origin+location.pathname),s=encodeURIComponent(this.data.title),o=encodeURIComponent(this.data.excerpt),n=t+"?s=100&p[url]="+a+"&p[title]="+s+"&p[summary]="+o,i&&(n+="&p[images][0]="+encodeURIComponent(i)),$(".fb-share").attr("href",n)}}.call(this),function(){e="object"==typeof e?e:{};o.map(function(){return t.isServer&&this.route("rss",{where:"server",path:"/rss/posts",action:function(){return this.response.write(t.call("serveRSS")),this.response.end()}}),this.route("blogIndex",{path:"/blog",before:function(){return Blog.settings.blogIndexTemplate&&(this.template=Blog.settings.blogIndexTemplate),!Session.get("postLimit")&&Blog.settings.pageSize&&Session.set("postLimit",Blog.settings.pageSize),this.subscribe("posts",Session.get("postLimit")).wait()},waitOn:function(){return t.subscribe("authors")},fastRender:!0,data:function(){return this.ready()?{posts:Post.where({published:!0},{sort:{publishedAt:-1}})}:void 0}}),this.route("blogShow",{path:"/blog/:slug",notFoundTemplate:"blogNotFound",before:function(){var e,t;return Blog.settings.blogShowTemplate&&(this.template=Blog.settings.blogShowTemplate,e=n.blogShowBody.rendered,t=n[this.template].rendered,n[this.template].rendered=t?function(){return e.call(this),t.call(this)}:e),this.subscribe("singlePost",this.params.slug).wait()},waitOn:function(){return t.subscribe("authors")},fastRender:!0,data:function(){return this.ready()?Post.first({slug:this.params.slug}):void 0}}),this.route("blogAdmin",{path:"/admin/blog",waitOn:function(){return[t.subscribe("posts"),t.subscribe("authors")]},before:function(){return Blog.settings.blogAdminTemplate&&(this.template=Blog.settings.blogAdminTemplate),t.loggingIn()?this.stop():t.call("isBlogAuthorized",function(e){return function(t,n){return n?void 0:e.redirect("/blog")}}(this))}}),this.route("blogAdminNew",{path:"/admin/blog/new",waitOn:function(){return t.subscribe("posts")},before:function(){return Blog.settings.blogAdminNewTemplate&&(this.template=Blog.settings.blogAdminNewTemplate),t.loggingIn()?this.stop():t.call("isBlogAuthorized",function(e){return function(t,n){return n?void 0:e.redirect("/blog")}}(this))}}),this.route("blogAdminEdit",{path:"/admin/blog/edit/:slug",waitOn:function(){return t.subscribe("authors")},data:function(){return this.ready()?Post.first({slug:this.params.slug}):void 0},before:function(){return Blog.settings.blogAdminEditTemplate&&(this.template=Blog.settings.blogAdminEditTemplate),t.loggingIn()?this.stop():(t.call("isBlogAuthorized",function(e){return function(t,n){return n?void 0:e.redirect("/blog")}}(this)),this.subscribe("singlePost",this.params.slug).wait())}})})}.call(this),function(){e="object"==typeof e?e:{};var n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};this.Author=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n._collection=t.users,n.has_many=[{name:"posts",foreign_key:"userId"}],n.current=function(){return t.userId()?n.init(t.user()):void 0},n}(Minimongoid)}.call(this),function(){e="object"==typeof e?e:{};var n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};this.Post=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n._collection=new t.Collection("blog_posts"),n.belongs_to=[{name:"author",identifier:"userId"}],n.before_create=function(e){return e.slug=n.slugify(e.title),e.excerpt=n.excerpt(e.body),e},n.slugify=function(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(RegExp(" +","g"),"-")},n.prototype.validate=function(){var e;return this.title||this.error("title","Blog title is required"),!this.id&&(e=n.slugify(this.title),n.first({slug:e}))?this.error("taken","Blog with this slug already exists"):void 0},n.prototype.html=function(){return marked(this.body)},n.prototype.thumbnail=function(){var e,t,n;for(e=marked(this.body),n=new RegExp(/img src=[\'"]([^\'"]+)/gi);t=n.exec(e);)return t[1]},n.excerpt=function(e){var t,n,i,o;for(t=marked(e),i=t.split(/<\/div>|<\/p>|<br><br>|\\n\\n|\\r\\n\\r\\n/m),n=0,o="";!o&&i[n];)o+=i[n++].replace(/(<([^>]+)>)/gi,"").replace("&nbsp;","").trim();return o},n.prototype.authorName=function(){var e;if(e=this.author()){if(e.profile&&e.profile.firstName&&e.profile.lastName)return""+e.profile.firstName+" "+e.profile.lastName;if(e.profile&&e.profile.twitter)return'<a href="http://twitter.com/'+e.profile.twitter+'">'+e.profile.twitter+"</a>";if(e.username)return e.username;if(e.emails&&e.emails[0])return e.emails[0].address}return"Mystery blogger"},n}(Minimongoid),Post._collection.allow({insert:function(){return t.call("isBlogAuthorized")},update:function(){return t.call("isBlogAuthorized")},remove:function(){return t.call("isBlogAuthorized")}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.blog={}}(),function(){var e,t,n,i,o,r,s=Package.meteor.Meteor,a=(Package.underscore._,Package.deps.Deps),l=Package.ejson.EJSON;(function(){!function(e){"use strict";var t=function(e,n,i){return 1===arguments.length?t.get(e):t.set(e,n,i)};t._document=document,t._navigator=navigator,t.defaults={path:"/"},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[e]},t.set=function(n,i,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(i===e?-1:o.expires),t._document.cookie=t._generateCookieString(n,i,o),t},t.expire=function(n,i){return t.set(n,e,i)},t._getExtendedOptions=function(n){return{path:n&&n.path||t.defaults.path,domain:n&&n.domain||t.defaults.domain,expires:n&&n.expires||t.defaults.expires,secure:n&&n.secure!==e?n.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){switch(n=n||new Date,typeof e){case"number":e=new Date(n.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=encodeURIComponent(e),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var i=e+"="+t;return i+=n.path?";path="+n.path:"",i+=n.domain?";domain="+n.domain:"",i+=n.expires?";expires="+n.expires.toUTCString():"",i+=n.secure?";secure":""},t._getCookieObjectFromString=function(n){for(var i={},o=n?n.split("; "):[],r=0;r<o.length;r++){var s=t._getKeyValuePairFromCookieString(o[r]);i[s.key]===e&&(i[s.key]=s.value)}return i},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=0>t?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCookieObjectFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){return t._navigator.cookieEnabled||"1"===t.set("cookies.js",1).get("cookies.js")},t.enabled=t._areEnabled(),"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Cookies=t):window.Cookies=t}(),n=window.Cookies,delete window.Cookies}).call(this),function(){i=o=function(){var e,t,n,i,r,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1,d=Object.prototype.toString,h=Object.prototype.hasOwnProperty,f=(Array.prototype.push,Array.prototype.slice,String.prototype.trim,Array.prototype.indexOf,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}),p={isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray||function(e){return"array"===p.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):f[d.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==p.type(e)||e.nodeType)return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return void 0===n||h.call(e,n)}};for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||p.isFunction(a)||(a={}),c===l&&(a=this,--l),l;c>l;l++)if(null!=(e=arguments[l]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(p.isPlainObject(i)||(r=p.isArray(i)))?(r?(r=!1,s=n&&p.isArray(n)?n:[]):s=n&&p.isPlainObject(n)?n:{},a[t]=o(u,s,i)):void 0!==i&&(a[t]=i));return a}}.call(this),function(){r=function(){"undefined"!=typeof console&&"undefined"!=typeof localStorage&&"1"==localStorage.getItem("__frlog")&&(arguments[0]=arguments[0]+":",console.log.apply(console,arguments))},r.enable=function(){localStorage.setItem("__frlog","1")},r.disable=function(){localStorage.removeItem("__frlog")}}.call(this),function(){e={},e.completeSubscriptions=function(e){if("string"==typeof e)e=[e];else if(e.constructor!=Array)throw new Error("subscriptions params should be either a string or array of strings");e.forEach(function(e){__fast_render_config.subscriptions[e]=!0})},e.enabled="undefined"!=typeof __fast_render_config,e.Log=r}.call(this),function(){if("undefined"==typeof __fast_render_config)return r("NO_FAST_RENDER"),void 0;var e=!1,t=s.default_connection._livedata_data;s.default_connection._livedata_data=function(n){if(r("DDP_RECIEVE",n),!e){var o=s._get(this._serverDocuments,n.collection,n.id);if(!o&&"added"==n.msg){var a=s.default_connection._mongo_livedata_collections[n.collection];if(a){var c=a.findOne(n.id);c&&(n.fields=i(!0,c,n.fields),delete n.fields._id,n.msg="changed")}}"ready"==n.msg&&!n.frGen&&__fast_render_config.subscriptions&&n.subs.forEach(function(e){var t=__fast_render_config.subscriptionIdMap[e];t&&(r("DELETING_SUBSCRIPTION",t,e),delete __fast_render_config.subscriptions[t],delete __fast_render_config.subscriptionIdMap[e],__fast_render_config.loadedSubscriptions[t]=!0)}),l.equals(__fast_render_config.subscriptions,{})&&(r("REVERTING_BACK_TO_ORIGINAL_DDP_HANDLING"),e=!0)}return t.call(this,n)};var n=s.default_connection._send;s.default_connection._send=function(t){r("DDP_SEND",t),"connect"==t.msg&&void 0!=t.session&&(e=!0);var i=this;return e||"sub"==t.msg&&__fast_render_config.subscriptions&&__fast_render_config.subscriptions[t.name]&&(r("FAKE_SUB_READY",t.name),i._livedata_data({msg:"ready",subs:[t.id],frGen:!0}),__fast_render_config.subscriptionIdMap[t.id]=t.name),n.call(this,t)}}.call(this),function(){t=function(e){var t=l.fromJSONValue(e);for(var n in t.collectionData){var o=t.collectionData[n];o.forEach(function(e){e.forEach(function(e){var t=s.default_connection._mongo_livedata_collections[n];if(t){var o=t.findOne(e._id);o?(i(!0,o,e),t.update(e._id,o)):t.insert(e)}else console.warn("fast-route data found, but no collection exists for: "+n)})})}}}.call(this),function(){function t(){var e=document.createElement("a");return e.href=location.href,e.pathname}if(Package["iron-router"]){var n=!1,i=e.RouteController=Package["iron-router"].RouteController,o=i.prototype.run;i.prototype.run=function(){e.enabled?(n=!0,o.call(this),n=!1):o.call(this)};var a=s.subscribe;s.subscribe=function(i){var o=e.enabled&&n&&t()==__fast_render_config.serverRoutePath&&__fast_render_config.subscriptions[i]&&!__fast_render_config.loadedSubscriptions[i];return o?(r("APPLY_IR_SUB_CORRECTIONS",i),a.apply(this,arguments),{ready:function(){return!0}}):a.apply(this,arguments)}}}.call(this),function(){"function"==typeof s.user?a.autorun(function(){var e=s.user();if(e){var t=s._localStorage.getItem("Meteor.loginToken"),i=s._localStorage.getItem("Meteor.loginTokenExpires");n.set("meteor_login_token",t,{path:"/",expires:i})}else n.expire("meteor_login_token")}):n.expire("meteor_login_token")}.call(this),"undefined"==typeof Package&&(Package={}),Package["fast-render"]={FastRender:e,__init_fast_render:t}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.email={}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){e={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:e}}(),Oauth=Package.oauth.Oauth,HTTP=Package.http.HTTP,Template=Package.templating.Template,Random=Package.random.Random,RouteController=Package["iron-router"].RouteController,Route=Package["iron-router"].Route,Router=Package["iron-router"].Router,IronLocation=Package["iron-router"].IronLocation,Cordova=Package.cordova.Cordova,ServiceConfiguration=Package["service-configuration"].ServiceConfiguration,Roles=Package.roles.Roles,DDP=Package.livedata.DDP,FastRender=Package["fast-render"].FastRender,__init_fast_render=Package["fast-render"].__init_fast_render,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Deps=Package.deps.Deps,Session=Package.session.Session,Handlebars=Package.handlebars.Handlebars,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,EJSON=Package.ejson.EJSON,Accounts=Package["accounts-base"].Accounts,Spark=Package.spark.Spark,function(){Meteor.startup(function(){document.body.appendChild(Spark.render(Template.__define__(null,Package.handlebars.Handlebars.json_ast_to_func(["<!-- Body ends -->"]))))}),Template.__define__("survey",Package.handlebars.Handlebars.json_ast_to_func([[">","youiestbody"]])),Template.__define__("youiestheader",Package.handlebars.Handlebars.json_ast_to_func(['<div class="ui fixed transparent inverted main menu">\n    <div class="container">\n      <div class="title item">\n        <b>Youiest:</b> Survey\n      </div> \n    </div>\n  </div>'])),Template.__define__("youiestbody",Package.handlebars.Handlebars.json_ast_to_func(['<div id="surveybig" style="overflow-y: scroll;height: 100%;width: 100%;">\n  ',[">","eachBig"],"\n  </div>"])),Template.__define__("eachBig",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"perbig"]],['\n    <div class="bigFeed bigSecondFeed" likeid="',["{",[[0,"likeid"]]],'"> \n      ',["#",[[0,"isolate"]],['   \n        <img src="',["{",[[0,"low"]]],'">\n      ']],'\n        <div class="quadrant" id="',["{",[[0,"likeid"]]],'">\n            <div id="hprogressBar" class="ui failed progress"><div></div><hr style="height:2px;width:100%;margin-bottom:-8px;padding:0px;margin-top: 0px;border-top-width: 0px;" /></div>\n            <div id="inerhprogressBar"><i class=\'big bullhorn icon\'style="margin-left: 0px"/></div>\n            <div id="outer" class="ui warning progress"><div class="inner"  id="verticalprogress"></div> <hr style="height:100%;width:2px;margin-bottom:-8px;padding:0px;" /></div>\n            <div id="inner-inner" onmousedown :return false;><i class=\'big thumbs up icon\' style="margin-left: 0px;"onmousedown :return false;/></div>     \n        </div>\n        </div>\n        ',[">","srvyvotes"],"\n    "]]])),Template.__define__("srvyvotes",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"votes"]],['\n        <div class="voting" style="left : ',["{",[[0,"left"]]],"%;top:",["{",[[0,"top"]]],'%;" myid="',["{",[[0,"followid"]]],'" votingid="',["{",[[0,"_id"]]],'">\n          <img src="',["{",[[0,"profile_picture"]]],'">          \n        </div>\n  ']]])),Template.__define__("verify",Package.handlebars.Handlebars.json_ast_to_func(['<div id="emailmessage"> \n    Please wait while your email is being verified.\n  </div>'])),Template.__define__("picture",Package.handlebars.Handlebars.json_ast_to_func(['<div id="bodyWrapper">\n    ',[">","header"],"\n    ",[">","loginwithservies"],"\n    ",[">","Section4"],"\n  </div>"])),Template.__define__("loginwithservies",Package.handlebars.Handlebars.json_ast_to_func(['<div class="loginwithservies"> \n        <div id="loginWithInstagram" class="ui instagram button">\n              <i class="instagram icon"></i>\n              Instagram\n        </div>\n        <div id="loginWithFacebook" class="ui facebook button">\n            <i class="facebook icon"></i>\n            Facebook\n        </div>\n        <div id="loginWithGoogle" class="ui google plus button">\n              <i class="google plus icon"></i>\n              Google\n        </div>\n    </div>'])),Template.__define__("layout",Package.handlebars.Handlebars.json_ast_to_func([["{",[[0,"yield"]]]])),Template.__define__("posts",Package.handlebars.Handlebars.json_ast_to_func(["Posts"])),Template.__define__("profile",Package.handlebars.Handlebars.json_ast_to_func(['<div class="profileBody"> \n    ',[">","myprofile"],"<br>\n    Recent views<br>\n    ",[">","recents1"],"\n    Feeds <br>\n    ",[">","feedsProfile"],"\n    votes<br>\n    ",[">","votesProfile"],"\n  </div>"])),Template.__define__("recents1",Package.handlebars.Handlebars.json_ast_to_func(['<div id="recents1">\n    ',["#",[[0,"each"],[0,"recent"]],['\n      <div class="recentIcons" likeid="',["{",[[0,"likeid"]]],'">  \n        <div class="recentImage1">\n          <img src="',["{",[[0,"low"]]],'">\n        </div>        \n      </div>\n    ']],"   \n  </div>"])),Template.__define__("feedsProfile",Package.handlebars.Handlebars.json_ast_to_func(['<div id="feedsProfile">\n    ',["#",[[0,"each"],[0,"recent"]],['\n      <div class="recentIcons" likeid="',["{",[[0,"likeid"]]],'">  \n        <div class="recentImage1">\n          <img src="',["{",[[0,"low"]]],'">\n        </div>        \n      </div>\n    ']],"   \n  </div>"])),Template.__define__("votesProfile",Package.handlebars.Handlebars.json_ast_to_func(['<div id="votesProfile">\n    ',["#",[[0,"each"],[0,"recent"]],['\n      <div class="recentIcons" likeid="',["{",[[0,"likeid"]]],'">  \n        <div class="recentImage1">\n          <img src="',["{",[[0,"low"]]],'">\n        </div>        \n      </div>\n    ']],"   \n  </div>"])),Template.__define__("myprofile",Package.handlebars.Handlebars.json_ast_to_func(['<div id="profile_header">',[">","header"],"</div>\n    ",["#",[[0,"each"],[0,"profile"]],['\n      <div id="profile_contect" style="width: 100%; padding-top: 12px;">\n        <div id="profile_pic_div" style="height:17%;width:35%;float:left;"><img style="width: 100%;" src="',["{",[[0,"profile_picture"]]],'"></div>\n          <div style="padding-left: 1%; height:17%;width:64%;float:left;">\n              \n              <div id="profile_details_div" class="ui two inverted blue menu">\n               <a class="active item">Score : </a> <a class="item">',["{",[[0,"score"]]],"/",["{",[[0,"heatscore"]]],'</a>\n              </div>\n             <div id="profile_details_div" class="ui two inverted blue menu">\n               <a class="active item">Votes : </a> <a class="item">',["{",[[0,"votes"]]],'</a>\n            </div>\n         </div> </div>\n         <div style="margin-top: 40%;">\n         <div id="profile_details_div" class="ui two inverted blue menu">\n           <a class="active item" id="activeItemP">username : </a> <a class="item" id="itemP">',["{",[[0,"username"]]],"</a>\n          </div>\n       </div>\n    "]]])),Template.__define__("body",Package.handlebars.Handlebars.json_ast_to_func(['<div id="bodyWrapper">\n  ',[">","bodystatic"],"\n  ",[">","main"],"  \n  ",[">","admin"]," \n  ",[">","keyword"],"\n </div>"])),Template.__define__("bodystatic",Package.handlebars.Handlebars.json_ast_to_func(['<div id="loader">\n    <div id="loginLoader">\n        <img src="images/eagle.png">\n        <img src="images/rooster.png">\n        <img src="images/mouse.png">           \n        <img src="images/seagul.png">\n    </div>\n      <div id="loadClass"> \n        \n        <div id="loaderLogo"> Tapmate </div>\n        <div id="loaderProcess"> Loading Please Wait.. </div>\n        <div id="loaderMessage"> Initializing </div>\n      </div>      \n  </div>\n  <div id="loaderError" class="button"> Oops the loader failed.</div>\n  <!-- HASTEN HTML -->\n    <div id="instructionPanel" class="ui inverted segment">\n        <div id="instructionSection">\n            <div id="instructionSection1" index="1" style="display:block;" type="show" class="ui inverted segment">\n            There are four sections: <br>\n                1) Recent <br>\n                2) Follows <br>\n                3) Feeds <br>\n                4) Big (Fun Part) <br>\n                  &nbsp; &nbsp; 4.1) Eagle <br>\n                  &nbsp; &nbsp; 4.2) Rooster <br>\n                  &nbsp; &nbsp; 4.3) Rat <br>\n                  &nbsp; &nbsp; 4.4) Seagul <br>\n            </div>  \n            <div id="instructionSection2" index="2" type="hide" class="ui inverted segment">\n                Tapmate Instruction Panel <br>\n\n                    Recent: <br>\n                    &nbsp; &nbsp; Shows your latest Activities in Tapmate. <br><br>\n\n                    Follows: <br>\n                    &nbsp; &nbsp; Manages your Instagram follows. <br><br>\n\n                    Feeds: <br>\n                    &nbsp; &nbsp; Caters the Pictures recommended to you. <br><br>\n\n                    Global: <br>\n                    &nbsp; &nbsp; Depicts the newfangled Pictures on Tapmate. <br><br>\n\n                    Popular: <br>\n                    &nbsp; &nbsp; Shows the Prominent images from Instagram. <br><br>\n\n                    Big: <br>\n                    &nbsp; &nbsp; Crack limitless fun here! <br>\n                    &nbsp; &nbsp; Send an image to your follows & place their picture in any. <br>\n                    &nbsp; &nbsp; Quadrant (you think will be their reaction about the image ) to  <br>\n                    &nbsp; &nbsp; lead them to successful guess. <br>\n            </div>\n            <div id="instructionSection3" index="3" type="hide" class="ui inverted segment">\n                <u> Eagle: </u> <br>\n                &nbsp; &nbsp; Good & Hush (love the image silently) <br><br>\n\n                <u> Rooster: </u>\n                &nbsp; &nbsp; Good & loud (love the image strongly) <br><br>\n\n                <u> Rat: </u>\n                &nbsp; &nbsp; Stay away & hush (hate the image silently)  <br><br>\n\n                <u> Seagull: </u> <br>\n                &nbsp; &nbsp; Stay away & loud (hate the image strongly)  <br><br>\n            </div>\n        </div>\n        <div id="instructionButton" class="ui inverted segment"> \n            <div id="instructionPrev" type="prev" class="button"> Previous </div>\n            <div id="instructionNext" type="next" class="button"> Next </div>\n            <div id="instructionDone" type="done" class="button"> Done </div>\n        </div>\n    </div>\n    <!-- HASTEN HTML -->\n    <div id="tutorialButton"> \n        <div id="tutPrev" class="button"> <i class="foundicon-left-arrow"></i> </div>\n        <div id="tutNext" class="button"> <i class="foundicon-right-arrow"></i> </div>\n        <div id="tutDone" class="button"> <i class="foundicon-remove"></i> </div>\n    </div>\n    <div id="tutorial"> \n        <div id="closeTutorialButton"> </div>\n        <!-- <div id="tutorialLogo"> </div> -->\n        <div id="tutorialSec1">\n            <div id="tutorialSec1Text"> \n            \n           \n            </div> \n        </div>\n        <!-- <div id="tutorialSec2">            \n                <div id="lovemessage"> Love </div>\n        </div>\n        <div id="tutorialSec3">\n            <div id="promotemessage"> Promote </div>\n        </div> -->\n        <div id="speed"> \n          <div id="loveSpeed"> \n            <img src="/images/love/love1.png" style="height:25%;width:15%;margin-left:10%;top:75%;"/>\n            <img src="/images/love/love2.png" style="height:50%;top:50%;"/>\n            <img src="/images/love/love3.png" style="height:75%;top:25%;"/>\n            <img src="/images/love/love4.png" style="height:100%"/> \n          </div>\n          <div id="hateSpeed"> \n            <img src="/images/hate/hate1.png" style="height:25%;width:15%;margin-left:10%;top:75%;" /> \n            <img src="/images/hate/hate2.png" style="height:50%;top:50%;"/>\n            <img src="/images/hate/hate3.png" style="height:75%;top:25%;"/>\n            <img src="/images/hate/hate4.png" style="height:100%"/>\n          </div>\n        </div>\n        <div id="tutorialSec4">\n            <div id="loveQuadrant"> LOVE </div>\n            <div id="promoteQuadrant"> P<br>R<br>O<br>M<br>O<br>T<br>E<br> </div> \n            <div id="0Q" count="0" class="gameQuadrant"> \n                <div> \n                LOVE the image SILENTLY\n                </div> \n              <img src="images/eagle.png">        \n            </div>\n            <div id="1Q" count="1" class="gameQuadrant"> \n                <div> \n                LOVE the image STRONGLY\n                </div> \n                <img src="images/rooster.png">        \n            </div>\n            <div id="2Q" count="2" class="gameQuadrant"> \n                <div> \n                HATE the image SILENTLY\n                </div>\n                <img src="images/mouse.png">           \n        \n            </div>\n            <div id="3Q" count="3" class="gameQuadrant"> \n                <div> \n                HATE the image STRONGLY\n                </div> \n                <img src="images/seagul.png">\n            </div>        \n        </div>\n\n    </div>'])),Template.__define__("admin",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"isAdmin"]],['\n  <div id="emailFormat" style="height: 99%;width: 99%;left : 0px;top : 0px;position: absolute;display: none;overflow: hidden; z-index:2; text-align:center; border: 1px solid #444;background: #222;color: #fff;text-shadow: 0 1px 0 #111;font-weight: 400; color:white;"> \n    <div id="emailFormatBody" style="height: 99%;width: 99%;left : 0px;top : 0px;position: absolute;display: block;overflow: hidden; z-index:2; text-align:center; border: 1px solid #444;background: #222;color: #fff;text-shadow: 0 1px 0 #111;font-weight: 400; color:white;">    \n        <div id="emailHeader" style="height: 20%;width: 80%;position: relative;border: 1px solid black;margin-left: 10%;margin-top: 4%;">\n            <textarea id="emailHeaderMessage" style="height: 80%;width: 80%;left: 0%;top: 5%;position: relative;"></textarea>\n            <input id="emailPreview" type="button" value="Preview"> \n        </div> \n        <div id="emailLeadersboard"  style="background-color: black;height: 20%;width: 80%;position: relative;border: 1px solid black;margin-left: 10%;margin-top: 4%;">\n\n        </div>\n        <div id="emailKnowYouBetter" style="background-color: black;height: 20%;width: 80%;position: relative;border: 1px solid black;margin-left: 10%;margin-top: 4%;">\n\n        </div>\n        <div id="emailYouKnowBetter" style="background-color: black;height: 20%;width: 80%;position: relative;border: 1px solid black;margin-left: 10%;margin-top: 4%;">\n\n        </div>\n        <div id="emailClose" class="button"> Cancel </div>\n        <div id="emailDone" class="button"> Send Newsletters </div>\n    </div>\n  </div>\n  <div id="adminPanel" > \n      <input id="showList" type="button" class="button" value="Show List">\n      <input id="showTable" type="button" class="button" value="Show Table">\n      <input id="adminPanelCloseButton" type="button" class="button" value="Close">\n      <div id="addKeyword"> \n        \n      </div>\n      \n    <div id="adminListCat">\n      <input id="addKeywordText" type="text"> <input id="addKeywordButton" type="button" class="button" value="Add"><br>\n      <div id="adminListItems" style="margin-top: 5%"> \n     \n        ',[">","editkeyword"],'   \n                 \n      </div>\n    </div>\n     \n     <div class="adminCategory" id="adminTableCat"> \n      <div class="adminCategory" > Total Number of Users : ',["{",[[0,"totalUser"]]],'</div>\n      <table  border="1">\n          <tr> \n            <th>userid</th>\n            <th>username</th>\n            <th>email</th>\n            <th>deviceType</th>\n            <th>windowWidth</th>\n            <th>windowHeight</th>          \n            <th>Recommending</th>\n            <th>YRecommending</th>\n            <th>MRecommending</th>\n            <th>WRecommending</th>\n            <th>DRecommending</th>\n            <th>Recomended</th>\n            <th>Votes</th>\n            <th>YVotes</th>\n            <th>MVotes</th>\n            <th>WVotes</th>\n            <th>DVotes</th>\n            <th>VOR</th>\n            <th>FollowNew</th>\n            <th>YFollowNew</th>\n            <th>MFollowNew</th>\n            <th>WFollowNew</th>\n            <th>DFollowNew</th>\n            <th>MovedMe</th>\n            <th>MovedRecomm</th>\n            <th>LoggedInCount </th>\n            <th>autologin </th>\n            <th>alreadyloggedin </th>\n            <th>yalreadyloggedin </th>\n            <th>malreadyloggedin </th>\n            <th>walreadyloggedin </th>\n            <th>dalreadyloggedin </th>\n            <th>swipeleft </th>\n            <th>yswipeleft </th>\n            <th>mswipeleft </th>\n            <th>wswipeleft </th>\n            <th>dswipeleft </th>\n            <th>swiperight </th>\n            <th>yswiperight </th>\n            <th>mswiperight </th>\n            <th>wswiperight </th>\n            <th>dswiperight </th>\n            <th>logout </th>\n            <th>Score</th>\n          </tr>\n          ',["#",[[0,"each"],[0,"users"]],['\n            <tr class="adminTable">  \n              <td>',["{",[[0,"_id"]]],"</td>\n              <td>",["{",[[0,"username"]]],"</td>\n              <td>",["{",[[0,"email"]]],"</td>\n              <th>",["{",[[0,"deviceType"]]],"</th>\n              <th>",["{",[[0,"windowWidth"]]],"</th>\n              <th>",["{",[[0,"windowHeight"]]],"</th>\n              <td>",["{",[[0,"recomending"]]],"</td>\n              <td>",["{",[[0,"yrecomending"]]],"</td>\n              <td>",["{",[[0,"mrecomending"]]],"</td>\n              <td>",["{",[[0,"wrecomending"]]],"</td>\n              <td>",["{",[[0,"drecomending"]]],"</td>\n              <td>",["{",[[0,"recomended"]]],"</td>\n              <td>",["{",[[0,"votes"]]],"</td>\n              <td>",["{",[[0,"yvotes"]]],"</td>\n              <td>",["{",[[0,"mvotes"]]],"</td>\n              <td>",["{",[[0,"wvotes"]]],"</td>\n              <td>",["{",[[0,"dvotes"]]],"</td>            \n              <td>",["{",[[0,"vor"]]],"</td>\n              <td>",["{",[[0,"follownew"]]],"</td>\n              <td>",["{",[[0,"yfollownew"]]],"</td>\n              <td>",["{",[[0,"mfollownew"]]],"</td>\n              <td>",["{",[[0,"wfollownew"]]],"</td>\n              <td>",["{",[[0,"dfollownew"]]],"</td>\n              <td>",["{",[[0,"movedme"]]],"</td>\n              <td>",["{",[[0,"movedrecomm"]]],"</td>\n              <td>",["{",[[0,"timesLoggedin"]]]," </td>\n              <td>",["{",[[0,"autologin"]]]," </td>\n              <td>",["{",[[0,"alreadyloggedin"]]]," </td>\n              <td>",["{",[[0,"yalreadyloggedin"]]]," </td>\n              <td>",["{",[[0,"malreadyloggedin"]]]," </td>\n              <td>",["{",[[0,"walreadyloggedin"]]]," </td>\n              <td>",["{",[[0,"dalreadyloggedin"]]]," </td>\n              <td>",["{",[[0,"swipeleft"]]]," </td>\n              <td>",["{",[[0,"yswipeleft"]]]," </td>\n              <td>",["{",[[0,"mswipeleft"]]]," </td>\n              <td>",["{",[[0,"wswipeleft"]]]," </td>\n              <td>",["{",[[0,"dswipeleft"]]]," </td>\n              <td>",["{",[[0,"swiperight"]]]," </td>\n              <td>",["{",[[0,"yswiperight"]]]," </td>\n              <td>",["{",[[0,"mswiperight"]]]," </td>\n              <td>",["{",[[0,"wswiperight"]]]," </td>\n              <td>",["{",[[0,"dswiperight"]]]," </td>\n              <td>",["{",[[0,"logout"]]]," </td>\n              <td>",["{",[[0,"score"]]]," </td>\n            </tr>\n          "]],'\n          <tr class="adminTotal">\n              <th>Total</th>\n              <th id="adminRecommending"></th>\n              <th id="yadminRecommending"></th>\n              <th id="madminRecommending"></th>\n              <th id="wadminRecommending"></th>\n              <th id="dadminRecommending"></th>\n              <th id="adminRecomended"></th>            \n              <th id="adminVotes"> </th>\n              <th id="yadminVotes"> </th>\n              <th id="madminVotes"> </th>\n              <th id="wadminVotes"> </th>\n              <th id="dadminVotes"> </th>            \n              <th id="adminVOR"> </th>\n              <th id="adminFollowNew"> </th>\n              <th id="yadminFollowNew"> </th>\n              <th id="madminFollowNew"> </th>\n              <th id="wadminFollowNew"> </th>\n              <th id="dadminFollowNew"> </th>\n              <th id="MovedMe"></th>\n              <th id="MovedRecomm"></th>\n              <th id="adminLoggedInCount"> </th>\n              <th id="adminautologin"> </th>\n              <th id="alreadyloggedin"> </th>\n              <th id="yalreadyloggedin"> </th>\n              <th id="malreadyloggedin"> </th>\n              <th id="walreadyloggedin"> </th>\n              <th id="dalreadyloggedin"> </th>\n              <th id="swipeleft"> </th>\n              <th id="yswipeleft"> </th>\n              <th id="mswipeleft"> </th>\n              <th id="wswipeleft"> </th>\n              <th id="dswipeleft"> </th>\n              <th id="swiperight"> </th>\n              <th id="yswiperight"> </th>\n              <th id="mswiperight"> </th>\n              <th id="wswiperight"> </th>\n              <th id="dswiperight"> </th>\n              <th id="adminlogout"> </th>\n              <th id="score"> </th>\n          </tr>\n      </table>\n    </div>\n  </div>\n  ']]])),Template.__define__("editkeyword",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"eachkeyword"]],['\n        <li class="dt"> ',["{",[[0,"keyword"]]]," ,&nbsp;&nbsp;&nbsp;&nbsp;  </li>       \n  "]]])),Template.__define__("loginWithInstagram",Package.handlebars.Handlebars.json_ast_to_func(['<div id="loginButton" class="ui instagram button">\n          <i class="instagram icon"></i>\n          Login With Instagram\n    </div>'])),Template.__define__("main",Package.handlebars.Handlebars.json_ast_to_func(['<div id="Main">\n    ',[">","BeforeLogin"],'\n  </div>\n  \n  <div id="loginScreen">\n  <div id="loginLoader">\n    <img src="./images/eagle.png">\n    <img src="./images/rooster.png">\n    <img src="./images/mouse.png">           \n    <img src="./images/seagul.png">\n    </div>\n    <div id="loginWrapper">\n          <div id="alreadyUser"> \n                <div id="profilePic"> <img src=""> </div>\n                <div id="alreadyMessage"> Don\'t recognize yourself? <br><br> Log in with instagram. </div>\n          </div>\n          <!--<div id="loginwithapp" class="button"> Login With App </div>-->\n          ',[">","loginWithInstagram"],'\n          <br>\n\n     </div>\n     \n  </div>\n\n  <div id="likeButton"> \n  </div>\n  <div id="followButton"> \n  </div>\n  <div id="snapButton" >\n  <i class="icon list layout"></i> \n  </div>\n  <div id="tap"> </div>\n  <div class="chatbox"> \n      <div id="chatboxclosebutton" class="ui icon button">\n          <i class="remove circle icon"></i>\n      </div>\n      <div class="chatboxwrapper">\n          \n          \n          <div class="chatmessagebox"> \n              <div Class="chatmessages">          \n              ',[">","chatfeature"],'\n            </div>\n          </div>\n          <div class="ui fluid action input" id="messagetype">\n                <input id="chatinputbox" type="text" placeholder="Chat here..."/>\n                <div id="chatsendbutton" class="ui button">SEND</div>\n          </div>\n      </div>\n  </div>  \n    <div id="popup" class="button"> \n        <div id="popupMessage"> </div>     \n    </div>\n    \n   \n    <div id="sematicpopup" class="ui popup bottom center transition" style="bottom: auto; left: 20%; top: 40%; right: auto;">\n      <div class="header"></div>\n      <div class="content"></div>\n    </div>\n    <div id="videotutorialpopup"> \n          <!-- <iframe src="/video/video.mp4" height="400px" width="400px" frameborder="0" allowfullscreen></iframe> -->\n    </div>\n    <div id="gamePrompt" class="ui inverted segment">  \n        Tap the appearing picture and gain the points. <br/>\n        <div id="gamePromptOkButton" class="button"> OK </div>\n    </div>\n\n    <div id="ContactUsPopUp" class="ui inverted segment"> \n        Please email us any bugs you find: \n        <br/>\n        tapmate@youiest.com\n        <br/>\n        Thank you for braving the bugs! \n        <br/>\n        We hope you agree this is crazily great.\n    </div>\n\n    <div id="AboutUsPopUp" class="ui inverted segment"> <br>\n        Tapmate uses the Instagram(tm) API and is not endorsed or\n        certified by Instagram(tm) logos and trademarks displayed on this\n        app are property of Instagram, Inc.<br><br>\n        <div id="hideAboutUsPopUp" class="tiny circular ui button">ok</div><br><br>\n    </div>\n    <div id="language" class="language ui vertical menu"> lang: <!--<select id="langswitch">  Call run() function-->\n      <a class="item" value="ar">Arabic</a>\n      <a class="item" value="ch">Chinese</a>\n      <a class="item" value="en">English </a>\n      <a class="item" value="fr">French</a>\n      <a class="item" value="ind">Indonesian</a>\n      <a class="item" value="hi">Hindi</a>\n      <a class="item" value="ja">Japanese</a>\n      <a class="item" value="po">Portuguese</a>\n      <a class="item" value="ru">Russian</a>\n      <a class="item" value="sp">Spanish</a>\n      <a class="item" value="ur">Urdu</a>\n                                                          <!--  <li value="en">English</li>\n                                                           <li value="ur">Arabic</li>\n                                                            <li value="ch">Chinese</li>\n                                                            <li value="sp">Spanish</li>\n                                                            <li value="hi">Hindi</li>\n                                                           <li value="ru">Russian</li>\n                                                            <li value="po">Portuguese</li>\n                                                            <li value="fr">French</li>\n                                                            <li value="ind">Indonesian</li>\n                                                           <li value="ja">Japanese</li> -->\n                                                     <!-- </select>-->\n     </div>\n    <div id="Aggrements"> \n        <div id="termsandcondition" class="ui inverted segment">\n            <b><a href="https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy?highlightComment=-1&startOnComments=false" target="_blank"> Terms and Conditions</a></b>\n            <p>\n              By using our website you agree to be legally bound by these <a href="https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy?highlightComment=-1&startOnComments=false" target="_blank"> Terms and Conditions</a>, which shall take effect immediately on your first use of our website. If you do not agree to be legally bound by all the following terms please do not access and/or use our website.\n            </p>\n            <p>\n                We may change these terms at any time by posting changes online. Please review these terms regularly to ensure you are aware of any changes made by us. Your continued use of our website after changes are posted means you agree to be legally bound by these terms as updated and/or amended.\n            </p> \n\n            \n        </div>\n        <div id="AggrementAccept" class="circular ui button">I agree</div>\n    </div>\n\n  <div id="loginform" class="button" class="ui inverted segment">       \n      Please fill email address. <br>\n      email : <input type="text" name="email"> <br>      \n      <!-- <input id="loginWithAppButton" type="button" class="button" value="Login"> -->\n      <input id="signupWithAppButton" type="button" class="button" value="SignUp">\n      <input id="loginWithAppCancelButton" type="button" class="button" value="Cancel"> \n  </div>\n  <div id="toast" class="button">   \n  </div>\n  <div id="keyboard" class="keyboard"> \n    <li val="A|a"> A </li>\n    <li val="B|b"> B </li>\n    <li val="C|c"> C </li>\n    <li val="D|d"> D </li>\n    <li val="E|e"> E </li>\n    <li val="F|f"> F </li>\n    <li val="G|g"> G </li>\n    <li val="H|h"> H </li>\n    <li val="I|i"> I </li>\n    <li val="J|j"> J </li>\n    <li val="K|k"> K </li>\n    <li val="L|l"> L </li>\n    <li val="M|m"> M </li>\n    <li val="N|n"> N </li>\n    <li val="O|o"> O </li>\n    <li val="P|p"> P </li>\n    <li val="Q|q"> Q </li>\n    <li val="R|r"> R </li>\n    <li val="S|s"> S </li>\n    <li val="T|t"> T </li>\n    <li val="U|u"> U </li>\n    <li val="V|v"> V </li>\n    <li val="W|w"> W </li>\n    <li val="X|x"> X </li>\n    <li val="Y|y"> Y </li>\n    <li val="Z|z"> Z </li>\n    <li val="0-50"> 0-50 </li>\n  </div>\n  \n  <div id="overlay" class="ui inverted segment"> \n    <div id="close"></div>\n    <div id="chatting" class="ui inverted segment"> \n        ',[">","chatting"],'\n    </div>\n\n    <div id="moveFace"> </div>\n  </div>\n  \n \n   <!--  <div id="menuWrapper"> --> <!--bug on z-index so made wrapper--> \n\n  <div id="snapy" class="ui large vertical inverted labeled icon sidebar menu active" id="menu">\n    <div class="item" id="menuresents">\n      <b id="Recentslabel">Recents</b>\n      ',[">","Section1"],'\n      <div class="ui inverted divider"></div>\n    </div>\n    <div id="gamemenu">\n    <div class="item" >\n\n      <div id="menuGame"><b>Game</b></div>\n      <div class="menu">\n        <a id="contest" class="item"><i class="time icon"></i> No Contest Now</a>\n        <a class="item"><i class="star half empty icon"></i> ',[">","distanceTemplate"],'</a>\n      </div>\n    </div>\n\n    <div class="item">\n      <div id="accounts"><b>Accounts</b></div>\n      <div class="menu">\n        <a id="loginwithInsta" class="item"> <i class="italic icon"></i>  Log in with Instagram </a>\n        <a id="loginwithfb" class="item">  <i class="warning icon"></i>  <i class="facebook icon"></i>  Log in with Facebook  </a>    \n        <a id="loginwithgoog" class="item"> <i class="warning icon"></i>  <i class="google plus sign icon"></i>  Log in with Google </a>    \n\n\n          <a id="logout" class="item"> <i class="sign out icon"></i>  Log Out </a>  \n      </div>\n    </div>\n\n    <div class="item">\n      <div id="settings"><b>Settings</b></div>\n      <div class="menu">\n          <a id="languageButton" class="item"> Language</a><br>\n          <div id="optimize">\n            <div class="ui toggle checkbox">\n            <input type="checkbox" name="pet" id="optimizeCheckBox">\n            <label id="appOptimize">Optimize</label>\n            </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="item">\n      <div id="tapmate"><b>Tapmate</b></div>\n      <div class="menu">\n          <a id="contactUsButton" class="item"> <i class="phone icon"></i> Contact Us </a>\n          <a id="aboutUsButton" class="item"><i class="font icon"></i> About </a>\n      </div>\n    </div>\n\n    \n    <div class="item"> \n    <div id="menuHelp"><b> Help </b></div>\n    <div class="menu">\n        <a id="tutorialButtonMenu" class="item"><i class="magic icon"></i> Tutorial </a>\n        <a id="instruction" class="item"><i class="info icon"></i> Instruction </a>\n        <a id="startWalkthrough" class="item"><i class="won icon"> </i>Walkthrough </a> \n        <a id="videotutorial" class="item"><i class="video icon"> </i> Video tutorial</a>\n        </div>\n    </div>\n    <div class="item">\n      <div id="menubug"><b>Development</b></div>\n      <div class="menu">\n          <a id="emptyCacheButtonMenu" class="item"><i class="trash icon"></i> Empty Cache </a>\n          <a id="pushNotification" class="item">PushNotification </a>\n          <a id="sendMail" class="item"> Send Mail</a>\n          <a id="getEmailButton" class="item"> getEmail</a>\n      </div>\n    </div>\n  </div>\n</div>\n        \n\n        \n    <!-- </div> -->'])),Template.__define__("keyword",Package.handlebars.Handlebars.json_ast_to_func(['<div id="keywordPopup" class="ui inverted segment">\n      <div id="keywordButton" class="ui inverted segment">\n          #<input id="searchKeyword" type="text">\n          <input id="hashgosearch" type="button" class="button" value="GO"> \n            <div id="hashgocancel" class="button"> </div>\n      </div>\n      <div id="keywords">\n        ',["#",[[0,"each"],[0,"eachkeyword"]],['\n                <div class="eachkeyword"> <u> #',["{",[[0,"keyword"]]],"</u>&nbsp;</div>\n        "]],"\n    </div>\n  </div>"])),Template.__define__("BeforeLogin",Package.handlebars.Handlebars.json_ast_to_func(['<div id="beforeLogin">\n    ',[">","header"],"  \n    ",[">","Section2"],"\n    ",[">","Section3"],"\n    ",[">","Section4"],"\n  </div>"])),Template.__define__("distanceTemplate",Package.handlebars.Handlebars.json_ast_to_func([["{",[[0,"distance"]]]," | ",["{",[[0,"heat"]]]])),Template.__define__("Section1",Package.handlebars.Handlebars.json_ast_to_func(['<div id="section1">\n    ',["#",[[0,"each"],[0,"recents"]],['\n      <div class="recentIcons" likeid="',["{",[[0,"likeid"]]],'">  \n          <img src="',["{",[[0,"low"]]],'">        \n      </div>\n    ']],"   \n  </div>"])),Template.__define__("header",Package.handlebars.Handlebars.json_ast_to_func(['<div id="headerSection"> \n    ',[">","server"],' \n    <div id="tapmateLogo"> </div> \n    <div class="header">\n      <div class="appname"> Tapmate </div>\n      <div class="statename"> </div>\n    </div>\n    \n  </div> \n  <div id="toastArea">  </div>'])),Template.__define__("server",Package.handlebars.Handlebars.json_ast_to_func(['<div id="status" class="',["{",[[0,"status"]]],'Status" data-step="1" data-intro="Online / Offline" data-position="left">\n        <div id="unseenCount">',["{",[[0,"unseenCount"]]]," </div> \n    </div>"])),Template.__define__("Section2",Package.handlebars.Handlebars.json_ast_to_func(['<div id="currentFollow"> \n            ',["#",[[0,"isolate"]],[' \n                <img src="',["{",[[0,"currentFollow","profile_picture"]]],'">\n            ']],'\n        </div> \n  <div id="section2" data-step="2" data-intro="Users of Tapmate." class="ui inverted segment">\n        \n        \n        \n        <div id="keyboardButton" class="button">',["{",[[0,"alpahbet"]]],'</div>\n        <!-- <div id="groupButton" class="button"><i class="hide icon"></i></div> -->\n        <!-- <div id="openUser" class="button"><i class="hide icon"></i></div> -->\n    <div class="followSection">\n        ',["#",[[0,"isolate"]],["    \n        ",["#",[[0,"each"],[0,"follows"]],['\n            <div class="followsIcons ',["{",[[0,"activity"]]],'" myid="',["{",[[0,"followid"]]],'" name="',["{",[[0,"username"]]],'" type="me" hits="',["{",[[0,"hits"]]],'">  \n                <img src="',["{",[[0,"profile_picture"]]],'">\n                <div class="',["{",[[0,"status"]]],'users usersstatus"> </div>        \n            </div>\n        ']],"\n        "]],'\n    </div>\n    \n    <div class="buttonSection">\n        <div id="addGroup" class="groupfollow" data-title="Alert" data-content="The @ button allows you to invite people by adding them to the group.">  \n          <div id="showcheckmark"> </div>   \n          <div id="hidecheckmark"> </div>   \n        </div>\n        <div id="atbutton" class="square">\n              <img src="images/at.jpg">\n        </div>\n    </div>\n    <div id="section2Label" ><i style="font-size=2em;" class="user icon"></i></div>\n    <div id="groupDiv">\n        ',[">","grouptemplate"],"\n    </div>\n  </div>"])),Template.__define__("grouptemplate",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"group"]],['\n    <div class="',["{",[[0,"activity"]]],' followsgroup" myid="',["{",[[0,"_id"]]],'" type="group">  \n        <div class="groupImages">   \n          ',["#",[[0,"each"],[0,"picture"]],['\n            <img class="groupicons" src="',["{",[[0]]],'">\n          ']],"\n        </div>\n      </div>\n  "]]])),Template.__define__("myself",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"eachMyself"]],['\n  <div class="followsIcons"  myid="',["{",[[0,"followid"]]],'" type="follow">  \n    <div class="followsImage">\n      <img src="',["{",[[0,"","profile_picture"]]],'">\n    </div>        \n  </div>  \n  ']]])),Template.__define__("pictures",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"chapter"]],['\n        <img src="',["{",[[0,"picture"]]],'" id="userid" class="follows">\n    ']]])),Template.__define__("Section3",Package.handlebars.Handlebars.json_ast_to_func(['<div id="section3" data-step="3" data-intro="Your favourite pics from Instagram.">\n      \n            <!-- <div class="right">\n                <div id="unseenCount">',["{",[[0,"unseenCount"]]],' </div>\n                <div class="recommendImages"> \n                    <img src="images/rightArrow.png">\n                </div>     \n                <div id="section3Label" class="button"></div>     \n            </div> -->\n        ',["#",[[0,"isolate"]],["\n            ",[">","onefeed"],"\n        "]],"\n          <!-- comment -->\n         ",[">","static"],"\n  </div>"])),Template.__define__("static",Package.handlebars.Handlebars.json_ast_to_func(['<div id="myFeed" class="globalFeed">\n            <img class="insidefeed" src="images/gf.png">\n    </div>\n    <div id="globalFeed" class="globalFeed">\n            <img class="insidefeed" src="images/g.png">\n    </div>\n     <div id="popular" class="popular"> \n            <img class="insidefeed" src="images/p.jpg">\n    </div> \n    <div id="hash" class="hash">      \n          <img class="insidefeed" src="images/hash.jpg">\n    </div>'])),Template.__define__("onefeed",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"eachfeed"]],['\n        <div class="feed" likeid="',["{",[[0,"likeid"]]],'" source="',["{",[[0,"source"]]],'" type="',["{",[[0,"type"]]],'">\n          \n            <img src="',["{",[[0,"low"]]],'">\n                    \n        </div>\n      ']]])),Template.__define__("search",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"search"]],['\n        <div class="feed" likeid="',["{",[[0,"likeid"]]],'" source="search">\n          <div class="feedImages"> \n            <img src="',["{",[[0,"low"]]],'">\n          </div>          \n        </div>\n      ']]])),Template.__define__("popular",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"feeds"]],['\n        <div class="feed" likeid="',["{",[[0,"likeid"]]],'" source="popular">\n          <div class="feedImages"> \n            <img src="',["{",[[0,"low"]]],'">\n          </div>          \n        </div>\n      ']]])),Template.__define__("globalfeed",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"feeds"]],['\n        <div class="feed" likeid="',["{",[[0,"likeid"]]],'"  source="globalfeed">\n          <div class="feedImages"> \n            <img src="',["{",[[0,"low"]]],'">\n          </div>          \n        </div>\n      ']]])),Template.__define__("recommendingtemplate",Package.handlebars.Handlebars.json_ast_to_func(['<!-- <div class="right">\n    <div id="unseenCount">',["{",[[0,"unseenCount"]]],' </div>\n    <div class="recommendImages"> \n    <img src="images/rightArrow.png">\n      </div>          \n        </div> -->\n      ',[">","unseen"],"\n      \n      ",[">","seen"]])),Template.__define__("seen",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"recomm"]],['\n        <div class="recommend feed seen" likeid="',["{",[[0,"likeid"]]],'"  source="recommseen">\n          <div class="recommendImages"> \n            <img src="',["{",[[0,"low"]]],'">\n          </div>\n        </div>\n      ']]])),Template.__define__("unseen",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"recomm"]],['\n        <div class="recommend feed unseen" likeid="',["{",[[0,"likeid"]]],'"  source="recommunseen">\n          <div class="recommendImages"> \n            <img src="',["{",[[0,"low"]]],'">\n          </div>\n        </div>\n      ']]])),Template.__define__("feedtemplate",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"feeds"]],['\n        <div class="feed" vote="',["{",[[0,"voting"]]],'" likeid="',["{",[[0,"likeid"]]],'" source="like">\n          <div class="feedImages"> \n            <img src="',["{",[[0,"low"]]],'">\n          </div>          \n        </div>\n      ']]])),Template.__define__("Section4",Package.handlebars.Handlebars.json_ast_to_func(['<div id="wrapperSec">\n    \n    <div id="section4" data-step="4" data-intro="Fun part." data-position=\'top\'>      \n      ',[">","bigImage"],"\n    </div> \n    \n    ",[">","myselfBig"],"\n\n\n    ",[">","recommending"],"\n    ",[">","recommended"],"\n    ",[">","vote"],"\n    ",[">","groupvote"],"        \n  </div>"])),Template.__define__("recommended",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"recents"]],['\n        <div class="recomm" type="ed" style="left : ',["{",[[0,"left"]]],"%;top:",["{",[[0,"top"]]],'%;" whoid="',["{",[[0,"whoid"]]],'" type="ing" recomid="',["{",[[0,"_id"]]],'">          \n          <!-- <div > -->\n              <img class="receiver" src="',["{",[[0,"who"]]],'">\n          <!-- </div>\n          <div > -->\n                <img class="sender" src="',["{",[[0,"profile_picture"]]],'">\n          <!-- </div> -->\n        </div>\n    ']]])),Template.__define__("recommending",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"recents"]],['\n        <div class="recomm" style="left : ',["{",[[0,"left"]]],"%;top:",["{",[[0,"top"]]],'%;" whoid="',["{",[[0,"whoid"]]],'" type="ing" recomid="',["{",[[0,"_id"]]],'">          \n          <!-- <div> -->\n              <img class="receiver" src="',["{",[[0,"who"]]],'">\n          <!-- </div>\n          <div> -->\n                <img class="sender" src="',["{",[[0,"profile_picture"]]],'">\n          <!-- </div> -->\n        </div>\n    ']],"\n    ",["#",[[0,"each"],[0,"recentstwo"]],['\n        <div class="recomm" style="left : ',["{",[[0,"left"]]],"%;top:",["{",[[0,"top"]]],'%;" whoid="',["{",[[0,"whoid"]]],'" type="ing" recomid="',["{",[[0,"_id"]]],'">          \n          <!-- <div> -->\n              <img class="receiver" src="',["{",[[0,"who"]]],'">\n         <!--  </div>\n          <div> -->\n                <img class="sender" src="',["{",[[0,"profile_picture"]]],'">\n          <!-- </div> -->\n        </div>\n    ']]])),Template.__define__("vote",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"votes"]],['\n        \n          <img class="voting" style="left : ',["{",[[0,"left"]]],"%;top:",["{",[[0,"top"]]],'%;" myid="',["{",[[0,"followid"]]],'" votingid="',["{",[[0,"_id"]]],'" src="',["{",[[0,"profile_picture"]]],'">    \n    ']]])),Template.__define__("groupvote",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"votes"]],['\n        <div class="grouping" style="left : ',["{",[[0,"left"]]],"%;top:",["{",[[0,"top"]]],'%;" myid="',["{",[[0,"followid"]]],'" votingid="',["{",[[0,"_id"]]],'">\n            ',["#",[[0,"each"],[0,"picture"]],['\n                <img src="',["{",[[0]]],'">\n            ']],"\n        </div>\n    "]]])),Template.__define__("bigImage",Package.handlebars.Handlebars.json_ast_to_func(['<div class="bigFeed"> \n      ',["#",[[0,"isolate"]],['   \n        <img src="',["{",[[0,"low"]]],'">\n      ']],'\n        <div id="quadrant">\n         \n            <!-- <div id="loveQuadrant"> LOVE </div>\n            <div id="promoteQuadrant"> P<br>R<br>O<br>M<br>O<br>T<br>E<br> </div>  -->\n            <!-- <div id="loveQuadrant"><input type="range" name="points" id="points" value="50" min="0" max="100" style="width: 95%;"></div> -->\n            <div id="hprogressBar" class="ui failed progress"><div></div><hr style="height:2px;width:100%;margin-bottom:-8px;padding:0px;margin-top: 0px;border-top-width: 0px;" /></div>\n            <div id="inerhprogressBar"><i class=\'big bullhorn icon\'style="margin-left: 0px"/></div>\n            <div id="outer" class="ui warning progress"><div class="inner"  id="verticalprogress"></div> <hr style="height:100%;width:2px;margin-bottom:-8px;padding:0px;" /></div>\n            <div id="inner-inner" onmousedown :return false;><i class=\'big thumbs up icon\' style="margin-left: 0px;"onmousedown :return false;/></div>      \n            <div id="inerhprogressBar"><i class=\'big bullhorn icon\'style="margin-left: 0px"/></div>\n            <!-- <div id="fifth" class="mainQuadrant" <img src="images/eagle.png"></div>\n            <div id="sixth" class="mainQuadrant" ><img src="images/rooster.png"></div>\n            <div id="seventh" class="mainQuadrant" ><img src="images/mouse.png"></div> \n            <div id="eight" class="mainQuadrant"><img src="images/seagul.png"></div> -->\n\n  \n\n        </div>\n    </div>'])),Template.__define__("myselfBig",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"recents"]],['\n      <div class="recent littleBig" style="left : ',["{",[[0,"left"]]],"%;top:",["{",[[0,"top"]]],'%">\n        <img src="',["{",[[0,"profile_picture"]]],'"> \n      </div>\n  ']]])),Template.__define__("chatting",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"if"],[0,"recommending"]],['   \n  <textarea name="header">',["{",[[0,"recommending","top"]]],"@",["{",[[0,"recommending","followusername"]]],"&#13;&#10;",["{",[[0,"recommending","left"]]],'#youiest&#13;&#10;</textarea> \n  <input type="button" id="send"value="Send">  \n  ']],"\n  ",["#",[[0,"if"],[0,"recommended"]],["\n      ",["#",[[0,"each"],[0,"eachcomment"]],["\n          ",["{",[[0,"comment"]]],"\n          <br>\n      "]],"  \n  "]],"\n  ",["#",[[0,"if"],[0,"creator"]],['\n          <div id="creatorProfile" type="creator" myid="',["{",[[0,"creator","clientid"]]],'"> \n              <img src="',["{",[[0,"creator","profile_picture"]]],'">\n              ',["{",[[0,"creator","username"]]],"<br>              \n            ((Double Tap User to Follow))\n          </div>\n          <br>\n  "]]])),Template.__define__("chatfeature",Package.handlebars.Handlebars.json_ast_to_func([["#",[[0,"each"],[0,"chat"]],['\n      <div class="ui feed segment">\n        <div class="label ',["{",[[0,"position"]]],'float">\n          <img src="',["{",[[0,"pic"]]],'">\n        </div>\n        <div class="content ',["{",[[0,"position"]]],'float">\n          <div class="date">\n           \n          </div>\n          <div class="summary" myid="',["{",[[0,"_id"]]],'">\n             ',["{",[[0,"message"]]],"\n          </div>\n      </div>\n    </div>\n   "]]]))
}(),function(){function e(){var e=!1;Package.reload.Reload._reload=function(){if(!e){e=!0;var t=function(){};t()}}}function t(e){return"625237041"==e||"363620479"==e||"487690035"==e?(n(),void 0):(Meteor.subscribe("follows",Session.get("clientid")),Meteor.subscribe("me",Session.get("clientid")),Meteor.subscribe("commentsent",Session.get("clientid")),Meteor.subscribe("keyword"),Meteor.subscribe("onefeed",Session.get("clientid")),Meteor.subscribe("onerecent",Session.get("clientid")),Meteor.subscribe("followsgroup",Session.get("clientid")),Meteor.subscribe("usersession",Session.get("clientid")),void 0)}function n(){Meteor.subscribe("follows",Session.get("clientid")),Meteor.subscribe("me",-2),Meteor.subscribe("commentsent",Session.get("clientid")),Meteor.subscribe("keyword"),Meteor.subscribe("onefeed",Session.get("clientid")),Meteor.subscribe("onerecent",Session.get("clientid")),Meteor.subscribe("followsgroup",Session.get("clientid")),Meteor.subscribe("usersession",Session.get("clientid"))}function i(){try{_i=window.localStorage.getItem("state"),clientid=window.localStorage.getItem("clientid"),_i||clientid||Meteor.loginWithInstagram({requestPermissions:"basic",requestOfflineToken:!0},nn),_i&&(on(_i,nn),window.localStorage.setItem("state",""))}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"loginOnceReady"})}}function o(){$("#loginScreen").show(),$("#Main").hide(),Pn(),On(),a(),dn(),un(),_n(),$n(),u(),ut()}function r(){console.log("here");var e=$(this).attr("myid");Chat.remove({_id:e})}function s(){if(Fi)return window.localStorage.setItem("database","{}"),void 0;Mi||(Mi={});var e=(new Date).getTime();c("Follows"),c("Feed"),c("SponserKeyword"),console.log((new Date).getTime()-e+" ms time taken"),l()}function a(){ki=(new Date).getTime(),console.log("start "+ki)}function l(){xi=(new Date).getTime();var e=((new Date).getTime()-ki)/1e3;console.log("Session "+e);var t={clientid:Session.get("clientid"),username:Session.get("username"),InDate:ki,OutDate:xi,sessionTime:e,width:$(window).width(),height:$(window).height()};UserSession.insert(t)}function c(e){var t=window[e].find({});Mi[e]=new Array,t.forEach(function(t){Mi[e].push(t._id),t.cache=!0,window.localStorage.setItem(t._id,EJSON.stringify(t))}),window.localStorage.setItem("database",EJSON.stringify(Mi))}function u(){var e=(new Date).getTime();Mi=window.localStorage.getItem("database"),Mi=EJSON.parse(Mi),d("Follows"),d("Feed"),d("SponserKeyword"),console.log((new Date).getTime()-e+" ms time taken")}function d(e){if(Mi){var t=Mi[e];if(t){var n=null;if(t)for(var i=0,o=t.length;o>i;i++)if(t[i]&&window[e]){var r=window[e]._collection.findOne({_id:t[i]});r||(n=window.localStorage.getItem(t[i]),n=EJSON.parse(n),window[e]._collection.insert(n))}}}}function h(){try{Session.set("currentBig",$(this).attr("likeid")),rt(),Rn()}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"tapOnRecentIcons"})}}function f(){var e=this;$(".statename").html("(Chat Mode)").css({"font-size":"48%","float":"right",top:"57%",left:"0%"}),$(".chatbox").show();var t=$(e).attr("myid"),n=$(e).attr("type");if("group"==n)return FollowsGroup.remove({_id:t}),void 0;if(t){Session.set("chatid",t);var i=Follows.findOne({followid:t});i&&Session.set("senderpic",i.profile_picture)}}function p(){console.log("close chat box"),$(".statename").html("").css({"font-size":"48%","float":"right",top:"57%",left:"0%"}),$(".chatbox").hide()}function g(){var e=$("#chatinputbox").val();if(console.log(e),e){var t=m();Chat.insert({clientid:Session.get("clientid"),chatid:Session.get("chatid"),message:e,position:"right",date:t,status:"client"}),Chat.insert({chatid:Session.get("clientid"),clientid:Session.get("chatid"),message:e,position:"left",date:t,status:"client"})}$("#chatinputbox").val("")}function m(){Pi=new Date;var e=new Date(Date.UTC(Pi.getUTCFullYear(),Pi.getUTCMonth()-1,Pi.getUTCDay(),0,0,0,0));return e.getTime()}function v(){var e=this,t=$(e).attr("myid");return t==Session.get("userid")?($(".statename").html("").css({"font-size":"48%","float":"right",top:"57%",left:"0%"}),Session.set("userid",null),void 0):(t!=Session.get("clientid")&&($(".statename").html("(User's Feeds)").css({"font-size":"48%","float":"right",top:"57%",left:"0%"}),Session.set("userid",t),Meteor.call("usersVotesAdd",Session.get("clientid"),t),$(this).addClass("followanimation"),setTimeout(function(){$(this).removeClass("followanimation")},6e3),Meteor.subscribe("usersvote",-1,-1),Meteor.subscribe("usersvote",Session.get("clientid"),t)),void 0)}function y(){$t("Group Selected"),$(".active").removeClass("active"),$("#keyboard").hide("hide");var e=$(this).attr("myid");Session.set("activeFollows",e);var t=FollowsGroup.findOne({_id:e});if(t){var n=t.follows;if(n)for(var i=0,o=n.length;o>i;i++)$(".followsIcons[myid='"+n[i]+"']").addClass("active")}On()}function b(){if(bn(),Session.get("groupflag")){var e=[],t=[],n=null,i=0;$(".activeGroup").each(function(o,r){if(n=$(r).attr("myid"),n!=Session.get("clientid")){e.push(n);var s=Follows.findOne({followid:n});s&&(t[t.length]=s.profile_picture,i++)}}),Session.set("groupflag",!1),$("#showcheckmark").show(),$("#hidecheckmark").hide(),F(20,40,Ei.__("atheader"),Ei.__("atmessage")),$("#sematicpopup").removeClass("visible"),$(".activeGroup").removeClass("activeGroup"),0==i?$t("No users selected."):(FollowsGroup.insert({clientid:Session.get("clientid"),follows:e,picture:t,count:i}),$t("Group created."))}else Session.set("groupflag",!0),$("#showcheckmark").hide(),$("#hidecheckmark").show(),$("#sematicpopup").addClass("visible"),$t("Add users to create group.")}function w(){var e=this;if($(".active").removeClass("active"),Session.get("groupflag"))$(e).attr("class").match("activeGroup")?$(e).removeClass("activeGroup"):$(e).addClass("activeGroup");else{var t=$(this).attr("myid");Session.set("activeFollows",t),$(this).addClass("active"),$(".followsIcons").each(function(t,n){n===e&&(Li=t)})}}function C(){try{{var e=null;Session.get("currentBig")}return e=Feed.findOne({likeid:Session.get("currentBig")}),e||(e=UsersVote.findOne({likeid:Session.get("currentBig")})),e}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"cursorparser"})}}function E(e){try{Feed.remove({_id:e})}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"removeCursor"})}}function A(e){try{var t=(e.type,e.likeid),n=null;n=Feed.find({likeid:t,display:"y"}),n.forEach(function(e){e.cache&&Feed._collection.update({_id:e._id},{$set:{display:"n",date:(new Date).getTime()}}),Feed.update({_id:e._id},{$set:{display:"n",date:(new Date).getTime()}})}),n=UsersVote.find({likeid:t,display:"y"}),n.forEach(function(e){UsersVote.update({_id:e._id},{$set:{display:"n",date:(new Date).getTime()}})})}catch(i){console.log(i),ErrorUpdate.insert({error:i,date:new Date,side:"client","function":"updateCursor"})}}function F(e,t,n,i){Ri&&(clearTimeout(Ri),clearInterval(Ii)),$("#sematicpopup .header").text(n),$("#sematicpopup .content").text(i),$("#sematicpopup").css({left:e-11+"%",top:t+7+"%"}),$("#sematicpopup").addClass("visible"),Ri=setTimeout(function(){$("#sematicpopup").removeClass("visible")},3e3)}function k(e,t,n,i,o,r){mDiv=$("#tap")[0];var s=50,a=50;tapBigTutorialInterval&&clearInterval(tapBigTutorialInterval),tapBigTutorialInterval=setInterval(function(){$("#tap").css({display:"block",left:e+"%",top:t+"%"}).animate({left:e-5+"%",top:t-5+"%",height:a+50+"px",width:s+50+"px"},800,"easeOutBounce").animate({left:e+"%",top:t+"%",height:a+"px",width:s+"px"},100,"easeOutBounce").animate({left:e-5+"%",top:t-5+"%",height:a+50+"px",width:s+50+"px"},800,"easeOutBounce").animate({left:e+"%",top:t+"%",height:a+"px",width:s+"px"},100,"easeOutBounce",function(){$("#tap").css({display:"none"})})},4e3),o&&(e+=o),r&&(t+=r)}function x(){try{$("#outer").animate({opacity:"0.0"},500,"linear"),$("#hprogressBar").animate({opacity:"0.0"},500,"linear"),$("#inner-inner").animate({opacity:"0.0"},500,"linear"),$("#inerhprogressBar").animate({opacity:"0.0"},500,"linear"),Li=0;{$(".likeActive").removeClass("likeActive")}$(this).addClass("likeActive");var e=Session.get("currentBig"),t=$(this).attr("likeid");e?e!=t?(oi=C(),oi&&(oi.userid=Session.get("clientid"),oi.display="n",oi.date=(new Date).getTime(),A(oi),delete oi._id),Session.set("currentBig",t),hi=!0):(oi=C(),oi&&(oi.userid=Session.get("clientid"),oi.date=(new Date).getTime(),oi.display="n",A(oi),delete oi._id),Session.set("currentBig",null)):Session.set("currentBig",t),$(".feed").removeClass("likeActive"),$(this).addClass("likeActive"),Z(),Session.set("actionFollow",null)}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"tapOnFeed"})}}function S(e,t,n){$("#outer").animate({opacity:"1.0"},100,"linear"),$(".inner").animate({opacity:"1.0"},100,"linear"),$("#hprogressBar").animate({opacity:"1.0"},100,"linear"),$("#hprogressBar div").animate({opacity:"1.0"},100,"linear"),$("#inerhprogressBar").animate({opacity:"1.0"},100,"linear"),$("#inner-inner").animate({opacity:"1.0"},100,"linear");var i=e+5;$("#inerhprogressBar").css("left","0%"),$("#inerhprogressBar").animate({left:i+"%"},700),t.find("div").animate({width:i+"%"},700),promoteper=100-(n-63),cursorlove=n-65,$("#inner-inner").css("top","100%"),$("#inner-inner").animate({top:cursorlove+"%"},700),$("#verticalprogress").css("height",promoteper+"%")}function D(e,t,n){for(var i=e.follows,o=e.picture,r=0,s=i.length;s>r;r++)GroupVoteRecommend.insert({clientid:i[r],follows:i,picture:o,likeid:Session.get("currentBig"),left:t,top:n,checked:!1});GroupVoteRecommend.insert({clientid:Session.get("clientid"),follows:i,picture:o,likeid:Session.get("currentBig"),left:t,top:n,checked:!1})}function B(e){Oi=$(this),console.log(e);var t=e.gesture.center.pageX,n=e.gesture.center.pageY;console.log($(this)[0].offsetTop+" top "+n),n-=$(this)[0].offsetTop;var i=$("body").height(),o=$("body").width(),r=$(".quadrant").height(),s=t/o*100,a=n/i*100,l=n/r*100;s=Math.round(s),l=100*Math.round(Oi.position().top/i),a=Math.round(a)-l;var c=$(this).attr("likeid");L(s,$("#hprogressBar"),a,$("#outer"),c),Session.set("currentBig",c);var u=Feed.findOne({likeid:c});if(u){var d="http://images.ak.instagram.com/profiles/profile_625237041_75sq_1384195940.jpg";voteFlag=!1;var h=(new Date).getTime(),f={checked:!1,place:"",profile_picture:d,followid:"guest",likeid:c,low:u.low,left:s,top:a,date:h};Oi.append(T(f.left,f.top)),Di=Votes.insert(f),Oi=Oi.next(".bigFeed")}}function T(e,t){return'<div class="voting" style="left : '+e+"%;top:"+t+'%;">  <img src="/images/face.jpg">  </div>'}function L(e,t,n,i,o){var r="div#"+o,s=$(r).children("#hprogressBar"),a=e+5;$(r).find("div#inerhprogressBar").animate({left:a+"%"},500),$(s).find("div").animate({width:a+"%"},500),promoteper=100-n,cursorlove=n,$(r).find("#inner-inner").css("top",cursorlove+"%"),$("#inner-inner").animate({top:cursorlove+"%"},"fast","linear"),$(r).find("#verticalprogress").css("height",promoteper+"%"),$(r).find("#outer").animate({opacity:"0.0"},500,"linear").animate({opacity:"1.0"},100,"linear"),$(r).find(".inner").animate({opacity:"0.0"},500,"linear").animate({opacity:"1.0"},100,"linear"),$(r).find("div#hprogressBar").animate({opacity:"0.0"},500,"linear").animate({opacity:"1.0"},100,"linear"),$(s).find("div").animate({opacity:"0.0"},500,"linear").animate({opacity:"1.0"},100,"linear"),$(r).find("div#inerhprogressBar").animate({opacity:"0.0"},1,"linear").animate({opacity:"1.0"},100,"linear"),$(r).find("#inner-inner").animate({opacity:"0.0"},500,"linear").animate({opacity:"1.0"},100,"linear")}function M(e){try{VoteStart=(new Date).getTime();var t=e.gesture.center.pageX,n=e.gesture.center.pageY,i=$("#Main").height(),o=$("#Main").width(),r=$("#quadrant").height(),s=t/o*100,a=n/i*100,l=n/r*100;s=Math.round(s)-5,a=Math.round(a)-5,l=Math.round(l)-5;var c=Session.get("activeFollows"),u=Session.get("currentBig"),d=Session.get("actionFollow"),h=!0,f=P(s,a,!1);if(d){$("#overlay").hide();var p=Votes.findOne({_id:d});return p?(Votes.update({_id:p._id},{$set:{left:s,top:a,place:f}}),Si=!1,S(s,$("#hprogressBar"),l,$("#outer")),Me.update({_id:Session.get("clientid")},{$inc:{movedme:1}})):(p=Feed.findOne({_id:d}),p&&Feed.update({_id:p._id},{$set:{left:s,top:a,place:f}}),Si=!0,S(s,$("#hprogressBar"),l,$("#outer")),Me.update({_id:Session.get("clientid")},{$inc:{movedrecomm:1}})),Session.set("actionFollow",null),void 0}var g=FollowsGroup.findOne({_id:c});if(g&&(D(g,s,a),c=Session.get("clientid")),Number(Session.get("clientid"))<0&&$t("Please login with Instagram to use the app."),u&&c){var m=null,v=null;if(m=C(),!m)return;if(v=Follows.findOne({followid:c}),c==Session.get("clientid")){S(s,$("#hprogressBar"),l,$("#outer")),h=!1;var y=(new Date).getTime(),b={checked:!1,place:f,profile_picture:v.profile_picture,followid:Session.get("clientid"),likeid:m.likeid,low:m.low,left:s,top:a,date:y};Di=Votes.insert(b),Si=!1,P(s,a,!0),Bi=null,Ti.first&&!Ti.second&&($("#sematicpopup").removeClass("visible"),$("#tap").css({display:"none"}),clearInterval(tapBigTutorialInterval),F(s,a,"vote",Ei.__("uvotethispic")),Ti.second=!0),Ti.second&&!Ti.third&&setTimeout(function(){k(75,70,"recommend","Tap again on pic to recommend this pic to your friend."),Ti.third=!0},4e3),Me.update({_id:Session.get("clientid")},{$inc:{votes:1,yvotes:1,mvotes:1,wvotes:1,dvotes:1}}),Media.update({_id:Session.get("currentBig")},{$inc:{votes:1}}),oi.userid=Session.get("clientid"),oi.display="n",A(oi),delete oi._id;var w=Media.findOne({_id:Session.get("currentBig")});$i=!0;var _=Feed.find({likeid:Session.get("currentBig"),type:3,clientid:Session.get("clientid")});_.forEach(function(e){var t=Math.sqrt((e.left-s)*(e.left-s)+(e.top-a)*(e.top-a));t=Math.round(t),t=50-t,Meteor.call("incScore",e.whoid,t);var n=e.whousername+" got "+t+" pts from your vote.",i=t+" pts from @"+e.followusername;w&&(i+=" by @"+w.username+" pic."),console.log(i),TapmateNotification.insert({senderid:e.whoid,message:i,notify:!1}),$t(n)})}if(h||g){var p=Votes.findOne({followid:Session.get("clientid"),likeid:u});if(p||g){var E=[];g?E=g.follows:E.push(c);for(var x=0,B=E.length;B>x;x++)if(c=E[x],v=Follows.findOne({followid:c}),Number(c)<0&&(console.log("it's a guest user"),v={username:"guest",profile_picture:"images/face.jpg",followid:""+c}),v){Me.update({_id:Session.get("clientid")},{$inc:{recomending:1,yrecomending:1,mrecomending:1,wrecomending:1,drecomending:1}});var T={type:"r",display:"y",followusername:v.username,profile_picture:v.profile_picture,followid:v.followid,likeid:m.likeid,who:profilePic,whoid:Session.get("clientid"),whousername:Session.get("username"),low:m.low,left:s,top:a,notification:!1,seennotify:!0,tapnotify:!0,date:(new Date).getTime(),distance:0,checked:!1};T.clientid=v.followid,T.source="recommend",T.type=2,T.checked=!1,Bi=Feed.insert(T),Si=!0,Ti.third&&!Ti.fourth&&($("#sematicpopup").removeClass("visible"),$("#tap").css({display:"none"}),clearInterval(tapBigTutorialInterval),F(s,a,"Recommend",Ei.__("uguess")+" "+v.username+" "+Ei.__("wouldtap")),Ti.fourth=!0),Ti.fourth&&!Ti.fifth&&(k(82,36,"Recommend","Tap again on pic to recommend this pic to your friend."),Ti.fifth=!0);var L=Session.get("username")+" has send you a picture.";if(TapmateNotification.insert({senderid:v.followid,message:L,notify:!1}),S(s,$("#hprogressBar"),l,$("#outer")),Follows.update({_id:v._id},{$inc:{hits:1}}),g);else{var M=Ei.__("youRecommendPic1")+v.username+Ei.__("youRecommendPic2");$t(M)}var v=Follows.findOne({followid:Session.get("clientid")});v&&Follows.update({_id:v._id},{$inc:{hits:2}})}}}Session.set("activeFollows",null)}}catch(R){console.log(R),ErrorUpdate.insert({error:R,date:new Date,side:"client","function":"tapOnBigFeed"})}}function P(e,t,n){Ni&&clearTimeout(Ni),t-=40;var i=0;return e>50&&25>t?(i=1,n&&$t(Ei.__("loveNpromote")),$("#loveQuadrant,#promoteQuadrant").css({opacity:"1.0"})):50>e&&25>t?(i=0,n&&$t(Ei.__("love")),$("#loveQuadrant,#dummyelement").css({opacity:"1.0"})):50>e&&t>25?(i=2,n&&$t(Ei.__("hate"))):e>50&&t>25&&(i=3,n&&$t(Ei.__("hateNpromote")),$("#promoteQuadrant,#dummyelement").css({opacity:"1.0"})),$($(".mainQuadrant")[i]).animate({opacity:"1.0"},500,"linear").animate({opacity:"0.0"},500,"linear").animate({opacity:"1.0"},500,"linear").animate({opacity:"0.0"},500,"linear"),Ni=setTimeout(function(){$("#loveQuadrant,#promoteQuadrant").css({opacity:"0.0"})},2e3),i}function R(){try{var e=$(this).attr("whoid"),t=$(this).attr("recomid"),n=$(this).attr("type");if("ed"==n)return $("#overlay").show(),Session.set("recommendedFollow",e),Session.set("actionFollow",null),void 0;e==Session.get("clientid")&&(Q(),Session.set("actionFollow",t),Session.set("recommendedFollow",null)),I(this)}catch(i){console.log(i),ErrorUpdate.insert({error:i,date:new Date,side:"client","function":"tapOnRecomm"})}}function I(e){try{$(e).hammer().off("tap");var t=$(e).offset().left,n=$(e).offset().top,i=$(e).attr("type");"creator"==i&&(n=0);var o=$(e).height(),r=$(e).width();$(e).stop().animate({left:t-50,top:n-50,height:o+100,width:r+100},1e3),Meteor.setTimeout(function(){var i=$(e).attr("class");"voting"==i&&$(e).stop().animate({left:t,top:n,height:"40px",width:"40px"},1e3,"easeOutBounce",function(){$(e).hammer().on("tap",O)}),"recomm"==i&&$(e).stop().animate({left:t,top:n,height:"40px",width:"60px"},1e3,"easeOutBounce",function(){$(e).hammer().on("tap",R)})},1e3)}catch(s){console.log(s),ErrorUpdate.insert({error:s,date:new Date,side:"client","function":"animateBig"})}}function O(e){var t=e.type,n=$(this).attr("myid"),i=$(this).attr("votingid");try{if("doubletap"==t){var o=$(this).offset().left,r=$(this).offset().top,s=$(this).height(),a=$(this).width();n==Session.get("clientid")?($("#likeButton").css({left:o,top:r,display:"block",height:s,width:a}).animate({left:o-10,top:r-10,height:s+50,width:a+50,opacity:"1.0"},500).animate({left:o,top:r,height:s,width:a,opacity:"0.5"},500).animate({left:o-10,top:r-10,height:s+50,width:a+50,opacity:"1.0"},500).animate({left:o,top:r,height:s,width:a,opacity:"1.0"},500),nt(),ot(),Q(),Session.set("actionFollow",i),q()):n&&(Session.set("followFollow",n),$("#followButton").css({left:o,top:r,display:"block",height:s,width:a}).animate({left:o-10,top:r-10,height:s+10,width:a+10,opacity:"1.0"},500).animate({left:o,top:r,height:s,width:a,opacity:"0.5"},500).animate({left:o-10,top:r-10,height:s+10,width:a+10,opacity:"1.0"},500).animate({left:o,top:r,height:s,width:a,opacity:"1.0"},500),it(),K(),G())}"tap"==t&&(I(this),n==Session.get("clientid")&&Session.set("actionFollow",i))}catch(l){console.log(l),ErrorUpdate.insert({error:l,date:new Date,side:"client","function":"tapOnVoting"})}}function N(){try{var e=$("textarea").val(),t=Feed.findOne({_id:Session.get("actionFollow")});Comments.insert({comment:e,likeid:Session.get("currentBig"),receiverid:t.followid,senderid:Session.get("clientid")}),$("textarea").val("")}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"tapOnSend"})}}function j(){try{var e=Feed.find({type:2});if(0==e.count())return;var t=$(".unseen");t.show("show",function(){var e=this;setTimeout(function(){$(e).hide("slow")},3e3)}),Meteor.setTimeout(function(){e.forEach(function(e){Feed.update({_id:e._id},{$set:{type:3,source:"seen"}})})},1500*t.length)}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"tapOnRightArrow"})}}function H(){console.log("tapOnConnection");var e=Meteor.status().connected;e||Meteor.reconnect(),j()}function U(e,t,n){try{if(n>100)return;e=".header",t=".header div",n||(n=10),$(t).css({"font-size":n+"px"});var i=$(e).innerHeight(),o=$(e).innerWidth(),r=$(t).innerHeight()+2,s=$(t).innerWidth()+2;o>s&&i>r?U(e,t,++n):(n-=5,$(t).css({"font-size":n+"px"}),$("#tapmateLogo").css({height:r,width:r}))}catch(a){console.log(a),ErrorUpdate.insert({error:a,date:new Date,side:"client","function":"fitTextFunction"})}}function z(){try{if(Session.get("phonegap")){Rt("Logging Out User..");var e="https://instagram.com/accounts/logout/";anotherWindow=window.open(e,"_blank","location=yes"),window.mywindow=anotherWindow,window.mywindow.addEventListener("loadstart",function(e){"http://instagram.com/"==e.url&&(Nt(),window.mywindow.close())})}Ut("logout"),Me.update({_id:Session.get("clientid")},{$inc:{logout:1}}),Meteor.logout(W),at(),Session.set("clientid",null),window.localStorage.setItem("clientid",""),$("#alreadyUser").hide(),Rn()}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"logOutUser"})}}function W(){Nt()}function V(){try{if(!this.value)return;var e=Session.get("currentBig"),t="Hello World";$t(Ei.__("reqToCommentSent")),Meteor.call("commentOnInstagram",e,t,function(e,t){e&&$t(Ei.__("reqToCommentFailed")),t&&$t(Ei.__("reqToCommentCompleted"))}),this.value=""}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"commentOnInstagram"})}}function q(){try{var e=Session.get("currentBig"),t=Media.findOne({_id:e});t&&$t(Ei.__("likedata")+" "+t.username+" <i class='cloud upload icon'></i>"),Meteor.call("LikeOnMedia",e,function(t,n){if(t&&$t(Ei.__("likeerror")),n){var i=Media.findOne({_id:e});i&&$t(Ei.__("likedata")+" "+i.username+" <i class='checkmark icon'></i>")}})}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"likeOnInstagram"})}}function G(){try{var e=Session.get("followFollow");Meteor.call("followFollow",e,function(){})}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"addFollowPic"})}}function K(){try{var e=Session.get("followFollow"),t=Follows.findOne({followid:e});t&&$t(Ei.__("followdata")+" "+t.username+" <i class='cloud upload icon'></i>"),Meteor.call("followOnInstagram",e,function(t,n){if(t&&$t(Ei.__("followerror")),n){var i=Follows.findOne({followid:e});i&&$t(Ei.__("followdata")+" "+i.username+" <i class='checkmark icon'></i>")}}),Me.update({_id:Session.get("clientid")},{$inc:{follownew:1,yfollownew:1,mfollownew:1,wfollownew:1,dfollownew:1}})}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"followOnInstagram"})}}function Y(){try{return}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"animateOnVote"})}}function Q(){$("#overlay").show(),$("#moveFace").animate({top:"70%"},1e3,"easeOutBounce",function(){$("#moveFace").animate({top:"20%"},1e3,"easeOutBounce",function(){})})}function J(){if(!(ji>5)){ji++;var e=$(".mainQuadrant");X(e,0),$("#loveQuadrant").css({display:"block",opacity:"1.0"}),$("#promoteQuadrant").css({display:"block",opacity:"1.0"}),setTimeout(function(){$("#loveQuadrant").css({display:"none",opacity:"0.0"}),$("#promoteQuadrant").css({display:"none",opacity:"0.0"})},2e3)}}function X(e,t,n){var i=e[t];i&&($(i).css({opacity:"1"}),setTimeout(function(){$(i).css({opacity:"0"})},500),setTimeout(function(){t++,X(e,t,n)},1e3))}function Z(){ri&&Meteor.clearTimeout(ri),$("#likeButton").hide()}function et(){si&&Meteor.clearTimeout(si),$("#followButton").hide()}function tt(){ai&&Meteor.clearTimeout(ai)}function nt(){ri&&Meteor.clearTimeout(ri),ri=Meteor.setTimeout(function(){$("#likeButton").hide("slow")},5e3)}function it(){si&&Meteor.clearTimeout(si),si=Meteor.setTimeout(function(){$("#followButton").hide("slow")},5e3)}function ot(){ai&&Meteor.clearTimeout(ai),ai=Meteor.setTimeout(function(){},5e3)}function rt(){et(),Z(),tt()}function st(){$("#overlay").hide(),Session.set("actionFollow",null),Session.set("recommendedFollow",null)}function at(){try{rt(),li&&($(li).remove(),li=null),li=$(".bigFeed").clone(),$(li).stop().css({"z-index":"5",opacity:"1.0"}),$("#section4").prepend(li),$(li).stop().animate({left:"-100%"},"slow","easeOutBounce",function(){$(li).remove(),li=null});var e=$(".likeActive"),t=$(e).attr("likeid");if(t){var n={};n.likeid=t,A(n)}var i=$(".feed:first"),o=e.next(".feed");0==o.length&&(o=i),"none"==i.css("display")&&(o=i,ct(o.attr("likeid"))),0!=o.length&&(e.removeClass("likeActive"),o.addClass("likeActive"),Session.set("currentBig",o.attr("likeid"))),rt(),Me.update({_id:Session.get("clientid")},{$inc:{swipeleft:1,yswipeleft:1,mswipeleft:1,wswipeleft:1,dswipeleft:1}}),st()}catch(r){console.log(r),ErrorUpdate.insert({error:r,date:new Date,side:"client","function":"swipeLeft"})}}function lt(){try{rt(),li&&($(li).remove(),li=null),li=$(".bigFeed").clone(),$(li).stop().css({"z-index":"5",opacity:"1.0"}),$("#section4").prepend(li),$(li).stop().animate({left:"100%"},"slow","easeOutBounce",function(){$(li).remove(),li=null});var e=$(".likeActive"),t=$(e).attr("likeid");if(t){var n={};n.likeid=t,A(n)}var i=e.prev(".feed");0==i.length&&(i=$(".recentIcons:first"));var o=$(".feed:first");"none"==o.css("display")&&(i=o,ct(i.attr("likeid"))),0!=i.length&&(e.removeClass("likeActive"),i.addClass("likeActive"),Session.set("currentBig",i.attr("likeid"))),rt(),Me.update({_id:Session.get("clientid")},{$inc:{swiperight:1,yswiperight:1,mswiperight:1,wswiperight:1,dswiperight:1}}),st()}catch(r){console.log(r),ErrorUpdate.insert({error:r,date:new Date,side:"client","function":"swipeRight"})}}function ct(e){var t=Feed.findOne({type:2,likeid:e});t&&Feed.update({_id:t._id},{$set:{type:3,source:"seen"}})}function ut(){try{if(ii=window.localStorage.getItem("clientid"),"491204471"==ii)return;ii&&(jt(),Session.set("clientid",ii),t(ii),Session.set("username",window.localStorage.getItem("username")),Me.update({_id:Session.get("clientid")},{$inc:{alreadyloggedin:1,yalreadyloggedin:1,malreadyloggedin:1,walreadyloggedin:1,dalreadyloggedin:1}}),ui=!0,Meteor.call("firstTimeLogin",Session.get("clientid"),function(e,t){t&&window.localStorage.setItem("profile_picture",t.profile_picture)}),zt())}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"autoLogin"})}}function dt(){try{var e=$(this).attr("val");Session.set("searchByFollow",e),Session.set("group",null),$("#keyboardButton").text(e),$("#keyboard").hide("hide")}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"tapOnAlpahbet"})}}function ht(){var e=$("#keyboard").css("display"),t=!0;"none"==e&&($("#keyboard").show("slow"),t=!1),"block"==e&&($("#keyboard").hide("slow"),t=!1),t&&$("#keyboard").hide("slow")}function ft(){fi=!1,s(),clearInterval(locatationIntervalId)}function pt(){fi=!0,$n()}function gt(){Meteor.reconnect()}function mt(){$("#loginform").show()}function vt(){try{var e=($("input[name='username']").val(),$("input[name='password']").val()),t=$("input[name='email']").val(),n=It(t);if(!n)return $("#loginform").shake(),void 0;Meteor.call("signupWithApp",t,e,function(e,t){if(e)return GlobalError=e,$t(Ei.__("somethingWrong")),void 0;if(t){if(-1==t)return;-2==t&&$t(Ei.__("noDatabase"))}$("#loginform").hide()})}catch(i){console.log(i),ErrorUpdate.insert({error:i,date:new Date,side:"client","function":"onSignupWithAppButton"})}}function yt(){try{var e=($("input[name='username']").val(),$("input[name='password']").val()),n=$("input[name='email']").val();Meteor.call("loginWithApp",n,e,function(e,n){if(e)return GlobalError=e,$t(Ei.__("somethingWrong")),void 0;if(n)if(-1==n)$t(Ei.__("notRecognize"));else{var i=n.token[n.token.length-1].token;Accounts._makeClientLoggedIn(n.id,i),Session.set("clientid",n.clientid),t(n.clientid)}$("#loginform").hide()})}catch(i){console.log(i),ErrorUpdate.insert({error:i,date:new Date,side:"client","function":"onLoginWithAppButton"})}}function bt(){try{$t(Ei.__("popular"));var e=this;$(e).hide(),Meteor.call("popular",function(t,n){$(e).show(),t&&$t(Ei.__("popularerror")),n&&$t(Ei.__("populardata"))})}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"onClickPopular"})}}function wt(e){e||$t(Ei.__("globalFeed"));var t=this;$(t).hide(),Meteor.call("globalfeed",function(n,i){$(t).show(),n&&(e||$t(Ei.__("globalFeederror"))),i&&(e||$t(Ei.__("globalFeeddata")))})}function _t(){var e=$(this).attr("value");window.localStorage.setItem("lang",e),Et(e),$("#language").hide()}function Ct(){$.i18n.load(language),$("a#aboutUsButton")._t("about"),$("a#alreadyMessage")._t("alreadyMessage"),$("a#loginButton")._t("Login With Instagram"),$("a#logout")._t("Logout"),$("a#contest")._t("Contest"),$("a#pushNotification")._t("Push Notification"),$("a#languageButton")._t("languageButton"),$("b#Recentslabel")._t("Recentslabel"),$("div#menuGame")._t("Game"),$("div#accounts")._t("accounts"),$("div#settings")._t("settings"),$("div#tapmate")._t("tapmate"),$("div#menuHelp")._t("help"),$("div#menubug")._t("menubug"),$("label#appOptimize")._t("optimize"),$("a#contactUsButton")._t("Contact Us"),$("a#tutorialButtonMenu")._t("Tutorial"),$("a#instruction")._t("Instruction"),$("a#startWalkthrough")._t("Walkthrough"),$("a#ContactUsPopUp")._t("ContactUsPopUp"),$("a#termsandcondition")._t("termsandcondition"),$("a#AboutUsPopUp")._t("AboutUsPopUp"),$("a#videotutorial")._t("videotutorial"),$("a#loginwithInsta")._t("loginwithInsta"),$("a#loginwithfb")._t("loginwithfb"),$("a#loginwithgoog")._t("loginwithgoog"),$("a#sendMail")._t("sendMail")}function Et(e){$.getJSON("./locales/"+e+".json",function(e){language={},$.each(e,function(e,t){language[e]=t}),Ei.__=function(e){return language[e]},Ct()});var t={Logout:'باہر لاگ ان کریں<i class="sign out icon"/>',about:'کے بارے میں<i class="font icon"/>',alreadyMessage:"اپنے آپ کو تسلیم نہیں کرتے ہیں؟<br> <br> کے Instagram کے ساتھ لاگ ان کریں.","Login With Instagram":"کے Instagram ساتھ لاگ ان کریں","Contact Us":'ہم سے رابطہ کریں<i class="phone icon"/>',languageButton:"لغة/(Language)",Contest:'مقابلہ<i class="time icon"></i> ',"Push Notification":"پش نوٹیفیکیشن",optimize:'<input id="optimizeCheckBox" type="checkbox"> کو بہتر بنانے کے',help:"مدد",Game:"کھیل",Tutorial:'ٹیوٹوریل<i class="magic icon"/>',Instruction:'ہدایات<i class="info icon"/>',Walkthrough:'واک تھرو<i class="won icon"/>',ContactUsPopUp:"ہمیں کسی بھی کیڑے ای میل کریں آپ کو تلاش:<br/>tapmate@youiest.com<br/>کیڑے braving کے لئے آپ کا شکریہ! <br/>ہم آپ کو اس crazily بہت اچھا ہے اتفاق کرتا ہوں امید ہے کہ.",AboutUsPopUp:"Tapmate کے Instagram (ٹ م) API کا استعمال کرتا ہے اور (ٹ م) کی علامات اور اس اپلی کیشن پر دکھایا ٹریڈ مارک کے Instagram، انکارپوریٹڈ، کی ملکیت ہیں کی توثیق یا Instagram کی طرف سے تصدیق نہیں ہے",termsandcondition:'<b>شرائط و ضوابط</b> <br/> کو قبول کرتے ہوئے میں آپ کو نیچے دیئے گئے لنک پر تمام معاہدوں کو قبول اتفاق کرتا ہوں <a href="https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy"/>.',"I aggree":"میں اتفاق کرتا ہوں",sendMail:"میل بھیجیں",videotutorial:"دروس الفيديو"},n={Logout:'باہر لاگ ان کریں<i class="sign out icon"/>',about:'کے بارے میں<i class="font icon"/>',alreadyMessage:"اپنے آپ کو تسلیم نہیں کرتے ہیں؟<br> <br> کے Instagram کے ساتھ لاگ ان کریں.","Login With Instagram":"کے Instagram ساتھ لاگ ان کریں","Contact Us":'ہم سے رابطہ کریں<i class="phone icon"/>',languageButton:"لغة/(Language)",Contest:'مقابلہ<i class="time icon"></i> ',"Push Notification":"پش نوٹیفیکیشن",optimize:'<input id="optimizeCheckBox" type="checkbox"> کو بہتر بنانے کے',help:"مدد",Game:"کھیل",Tutorial:'ٹیوٹوریل<i class="magic icon"/>',Instruction:'ہدایات<i class="info icon"/>',Walkthrough:'واک تھرو<i class="won icon"/>',ContactUsPopUp:"ہمیں کسی بھی کیڑے ای میل کریں آپ کو تلاش:<br/>tapmate@youiest.com<br/>کیڑے braving کے لئے آپ کا شکریہ! <br/>ہم آپ کو اس crazily بہت اچھا ہے اتفاق کرتا ہوں امید ہے کہ.",AboutUsPopUp:"Tapmate کے Instagram (ٹ م) API کا استعمال کرتا ہے اور (ٹ م) کی علامات اور اس اپلی کیشن پر دکھایا ٹریڈ مارک کے Instagram، انکارپوریٹڈ، کی ملکیت ہیں کی توثیق یا Instagram کی طرف سے تصدیق نہیں ہے",termsandcondition:'<b>شرائط و ضوابط</b> <br/> کو قبول کرتے ہوئے میں آپ کو نیچے دیئے گئے لنک پر تمام معاہدوں کو قبول اتفاق کرتا ہوں <a href="https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy"/>.',"I aggree":"میں اتفاق کرتا ہوں",sendMail:"میل بھیجیں",videotutorial:"دروس الفيديو"},i={languageButton:"语/(Language)",Logout:"<i class='sign out icon'></i> 注销",about:"<i class='font icon'></i> 关于",alreadyMessage:"不认识自己吗？ <br><br> 登录与Instagram的。","Login With Instagram":"登录与Instagram的","Contact Us":"<i class='phone icon'></i> 联系我们 ",Contest:"<i class='time icon'></i> 没有比赛现在 ","Push Notification":"推送通知",optimize:"优化 <input id='optimizeCheckBox' type='checkbox'>",help:"帮助",Game:" 游戏 ",Tutorial:"<i class='magic icon'></i> 教程",Instruction:"<i class='info icon'></i> 指令 ",Walkthrough:"<i class='won icon'> </i> 演练 ",ContactUsPopUp:"请给我们发电子邮件的任何错误你发现： <br/>tapmate@youiest.com<br/>谢谢你冒着错误！<br/> 我们希望你同意这是疯狂大。",AboutUsPopUp:"Tapmate uses the Instagram(tm) API 并且不认可或认证 Instagram(tm) 在这个应用程序显示的商标和标识归Instagram的物业, Inc.<br> <div id='hideAboutUsPopUp' class='circular ui button'>行</div>",termsandcondition:"<b>条款和条件</b> <br/>通过接受我同意你接受下面的链接的所有协议 <a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"我同意",sendMail:" 发送邮件 ",videotutorial:"视频教程"},o={languageButton:"Language",Logout:"<i class='sign out icon'></i>  Log Out",about:"<i class='font icon'></i> About",alreadyMessage:"Don't recognize yourself? <br><br> Log in with instagram. ","Login With Instagram":"Login With Instagram","Contact Us":"<i class='phone icon'></i> Contact Us ",Contest:"<i class='time icon'></i> No Contest Now ","Push Notification":"PushNotification",optimize:"Optimize <input id='optimizeCheckBox' type='checkbox'>",help:"Help",Game:" Game ",Tutorial:"<i class='magic icon'></i> Tutorial",Instruction:"<i class='info icon'></i> Instruction ",Walkthrough:"<i class='won icon'> </i>Walkthrough ",ContactUsPopUp:"Please email us any bugs you find: <br/>tapmate@youiest.com<br/>Thank you for braving the bugs! <br/> We hope you agree this is crazily great.",AboutUsPopUp:"Tapmate uses the Instagram(tm) API and is not endorsed or certified by Instagram(tm) logos and trademarks displayed on this app are property of Instagram, Inc.<br> <div id='hideAboutUsPopUp' class='circular ui button'>ok</div>",termsandcondition:"<b>TERMS AND CONDITIONS</b> <br/>By accepting I Agree you accept all the agreements on the below link <a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"I agree",sendMail:" Send Mail ",videotutorial:"Video Tutorial <i class='video icon'>"},r={languageButton:"langue/(Language)",Logout:"<i class='sign out icon'></i>  Déconnexion",about:"<i class='font icon'></i> sur",alreadyMessage:"Ne pas se reconnaître? <br><br> Connexion avec Instagram. ","Login With Instagram":"Connexion avec Instagram","Contact Us":"<i class='phone icon'></i> Contactez-nous ",Contest:"<i class='time icon'></i> No Contest maintenant ","Push Notification":"Push Notification",optimize:"optimiser <input id='optimizeCheckBox' type='checkbox'>",help:" aider ",Game:" jeu ",Tutorial:"<i class='magic icon'></i> tutoriel",Instruction:"<i class='info icon'></i> Instruction ",Walkthrough:"<i class='won icon'> </i>Promenade à travers ",ContactUsPopUp:"S'il vous plaît envoyez-nous les bugs que vous trouvez: <br/>tapmate@youiest.com<br/>Merci d'avoir bravé les bugs! <br/> Nous espérons que vous conviendrez que c'est follement grand.",AboutUsPopUp:"Tapmate utilise lAPI Instagram (tm) et nest pas approuvé ou certifié par Instagram (tm) les logos et marques de commerce affichées sur cette application sont la propriété de Instagram, Inc.<br> <div id='hideAboutUsPopUp' class='circular ui button'>ok</div>",termsandcondition:"<b>TERMES ET CONDITIONS</b> <br/>En acceptant Jaccepte vous acceptez tous les accords sur le lien ci-dessous <a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"je suis d'accord",sendMail:" Send Mail ",videotutorial:"Tutoriel vidéo"},s={languageButton:"भाषा/(Language)",Logout:"<i class='sign out icon'></i>  लॉग आउट",about:"<i class='font icon'></i> बारे में",alreadyMessage:"अपने आप को पहचान नहीं है? <br><br> Instagram के साथ में प्रवेश करें. ","Login With Instagram":"Instagram के साथ में प्रवेश करें","Contact Us":"<i class='phone icon'></i> हमसे संपर्क करें ",Contest:"<i class='time icon'></i> कोई प्रतियोगिता अब","Push Notification":"पुश अधिसूचना",optimize:"ऑप्टिमाइज़ करें <input id='optimizeCheckBox' type='checkbox'>",help:"मदद",Game:" खेल ",Tutorial:"<i class='magic icon'></i> ट्यूटोरियल",Instruction:"<i class='info icon'></i> अनुदेश ",Walkthrough:"<i class='won icon'> </i> द्वारा चल ",ContactUsPopUp:"हमें किसी भी कीड़े ईमेल कृपया आप पाते हैं: <br/>tapmate@youiest.com<br/>कीड़े बहादुरी के लिए धन्यवाद! <br/> हम आपको इस पागलपन से महान है सहमत उम्मीद है.",AboutUsPopUp:"Tapmate Instagram (tm) API का उपयोग करता है और (tm) लोगो और इस एप्लिकेशन पर प्रदर्शित ट्रेडमार्क Instagram, इंक की संपत्ति हैं का समर्थन किया या Instagram द्वारा प्रमाणित है या नहीं<br> <div id='hideAboutUsPopUp' class='circular ui button'>ok</div>",termsandcondition:"<b>नियम और शर्तें</b> <br/>स्वीकार करके मैं आप नीचे दिए गए लिंक पर सभी समझौतों को स्वीकार सहमत <a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"मैं इस बात से सहमत",sendMail:" मेल भेजें ",videotutorial:"वीडियो ट्यूटोरियल"},a={languageButton:"bahasa/(Language)",Logout:"<i class='sign out icon'></i>  Log Out",about:"<i class='font icon'></i> tentang",alreadyMessage:"Jangan mengenali diri Anda sendiri? <br><br> Login dengan instagram. ","Login With Instagram":"Login dengan instagram","Contact Us":"<i class='phone icon'></i> Hubungi Kami ",Contest:"<i class='time icon'></i> No Contest Sekarang ","Push Notification":"Push Notification",optimize:"Optimalkan <input id='optimizeCheckBox' type='checkbox'>",help:"membantu",Game:" permainan ",Tutorial:"<i class='magic icon'></i> Tutorial",Instruction:"<i class='info icon'></i> pengajaran ",Walkthrough:"<i class='won icon'> </i>Berjalanlah melalui ",ContactUsPopUp:"Silakan email kami setiap bug Anda menemukan: <br/>tapmate@youiest.com<br/>Terima kasih untuk menantang bug! <br/> Kami harap Anda setuju ini adalah ayun besar.",AboutUsPopUp:"Tapmate menggunakan Instagram(tm) API dan tidak didukung atau sertifikasi oleh Instagram (tm) logo dan merek dagang yang ditampilkan pada aplikasi ini adalah milik Instagram, Inc<br> <div id='hideAboutUsPopUp' class='circular ui button'>ok</div>",termsandcondition:"<b>SYARAT DAN KETENTUAN</b> <br/>Dengan menerima I Agree Anda menerima semua perjanjian pada link di bawah<a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"Saya setuju",sendMail:" Kirim Surat ",videotutorial:"Video Tutorial"},l={languageButton:"言語/(Language)",Logout:"<i class='sign out icon'></i>  ログアウトする",about:"<i class='font icon'></i> 約",alreadyMessage:"自分を認識しない? <br><br> Instagramのを使用してログイン. ","Login With Instagram":"Instagramのを使用してログイン","Contact Us":"<i class='phone icon'></i> お問い合わせ ",Contest:"<i class='time icon'></i> ノーコンテスト今ん ","Push Notification":"プッシュ通知",optimize:"最適化する <input id='optimizeCheckBox' type='checkbox'>",help:" 助け ",Game:" ゲーム ",Tutorial:"<i class='magic icon'></i> チュートリアル",Instruction:"<i class='info icon'></i> 命令 ",Walkthrough:"<i class='won icon'> </i> ウォークスルー ",ContactUsPopUp:"私たちにあなたが発見したバグに電子メールを送りなさい: <br/>tapmate@youiest.com<br/>バグを勇敢に立ち向かういただき、ありがとうございます! <br/> 私たちは、あなたが、これが狂気のように偉大であることに同意を願って.",AboutUsPopUp:"TapmateはInstagramの（TM）APIを使用し、（TM）のロゴと、このアプリで表示された商標はInstagramの社に帰属します承認またはInstagramのによって認定されていません<br> <div id='hideAboutUsPopUp' class='circular ui button'>ok</div>",termsandcondition:"<b>契約条件</b> <br/>受け入れることによって、私は、あなたは下のリンクをすべての合意を受け入れる同意 <a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"私は同意",sendMail:" メールを送信 ",videotutorial:"ビデオチュートリアル"},c={languageButton:"língua/(Language)",Logout:"<i class='sign out icon'></i>  Sair",about:"<i class='font icon'></i> sobre",alreadyMessage:"Don't recognize yourself? <br><br> Entrar com o instagram. ","Login With Instagram":"Entrar com o instagram","Contact Us":"<i class='phone icon'></i> Fale Conosco ",Contest:"<i class='time icon'></i> No Contest Agora","Push Notification":"PushNotification",optimize:"otimizar <input id='optimizeCheckBox' type='checkbox'>",help:"ajudar",Game:" jogo ",Tutorial:"<i class='magic icon'></i> Tutorial",Instruction:"<i class='info icon'></i> Instrução ",Walkthrough:"<i class='won icon'> </i>Passo a passo ",ContactUsPopUp:"Por favor envie-nos quaisquer bugs que encontrar: <br/>tapmate@youiest.com<br/>Obrigado por enfrentando os bugs! <br/> Nós esperamos que você concordará que este é loucamente grande.",AboutUsPopUp:"Tapmate utiliza o Instagram(tm) API e não é aprovado ou certificado por Instagram (TM) logotipos e marcas exibidos neste aplicativo são de propriedade de Instagram, Inc.<br> <div id='hideAboutUsPopUp' class='circular ui button'>ok</div>",termsandcondition:"<b>TERMOS E CONDIÇÕES</b> <br/>Ao aceitar Aceito você aceitar todos os acordos sobre o link abaixo<a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"concordo",sendMail:" Enviar e-mail",videotutorial:"vídeo tutorial"},u={languageButton:"язык/(Language)",Logout:"<i class='sign out icon'></i>  Выход",about:"<i class='font icon'></i> About",alreadyMessage:"Не узнаете себя? <br><br> Войти с Instagram. ","Login With Instagram":"Войти с Instagram","Contact Us":"<i class='phone icon'></i> связаться с нами",Contest:"<i class='time icon'></i> Нет Конкурс Теперь ","Push Notification":"Нажмите Уведомление",optimize:"оптимизировать <input id='optimizeCheckBox' type='checkbox'>",help:"Помогите",Game:" игра ",Tutorial:"<i class='magic icon'></i> учебник",Instruction:"<i class='info icon'></i> инструкция ",Walkthrough:"<i class='won icon'> </i>Прохождение ",ContactUsPopUp:"Пожалуйста, напишите нам о любых ошибках, которые вы найдете: <br/>tapmate@youiest.com<br/>Спасибо за страшась ошибки! <br/> Мы надеемся, что вы согласитесь, что это безумно здорово.",AboutUsPopUp:"Tapmate использует Instagram(tm) API и не сертифицирован или одобрен Instagram(tm) логотипы и торговые марки, представленные на данном приложении, являются собственностью Instagram, Inc.<br> <div id='hideAboutUsPopUp' class='circular ui button'>ok</div>",termsandcondition:"<b>СРОКИ И УСЛОВИЯ</b> <br/>Принимая Я согласен вы принимаете все соглашения по ссылке ниже <a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"Я согласен",sendMail:" Написать письмо ",videotutorial:"видео-учебник"},d={languageButton:"idioma/(Language)",Logout:"<i class='sign out icon'></i>  finalizar la sesión",about:"<i class='font icon'></i> acerca de",alreadyMessage:"No reconocen a sí mismo? <br><br> Iniciar sesión en instagram.","Login With Instagram":"Entrada en Instagram","Contact Us":"<i class='phone icon'></i> Contáctenos ",Contest:"<i class='time icon'></i> No Contest Ahora ","Push Notification":"empujar la notificación",optimize:"optimizar <input id='optimizeCheckBox' type='checkbox'>",help:"ayudar",Game:" juego ",Tutorial:"<i class='magic icon'></i> Tutorial",Instruction:"<i class='info icon'></i> Instrucción ",Walkthrough:"<i class='won icon'> </i> Caminar a través de ",ContactUsPopUp:"Por favor, envíenos un correo electrónico de cualquier error que encuentre: <br/>tapmate@youiest.com<br/>Gracias por desafiar a los bichos usted! <br/> Esperamos que usted está de acuerdo que es locamente gran.",AboutUsPopUp:"Tapmate utiliza el Instagram(tm) API y no es aprobado o certificado de Instagram (tm) los logos y marcas que aparecen en esta aplicación son propiedad de Instagram, Inc.<br> <div id='hideAboutUsPopUp' class='circular ui button'>ok</div>",termsandcondition:"<b>TÉRMINOS Y CONDICIONES</b> <br/>Al aceptar Acepto usted acepta todos los acuerdos sobre el siguiente enlace <a href='https://www.docracy.com/0e2d355wq30/youiest-tapmate-privacy-policy'/>.<br/>","I aggree":"Estoy de acuerdo",sendMail:" Enviar correo ",videotutorial:"video tutorial"};
"ur"==e?$.i18n.load(t):"sp"==e?$.i18n.load(d):"ch"==e?$.i18n.load(i):"fr"==e?$.i18n.load(r):"hi"==e?$.i18n.load(s):"ind"==e?$.i18n.load(a):"ja"==e?$.i18n.load(l):"po"==e?$.i18n.load(c):"ru"==e?$.i18n.load(u):"en"==e?$.i18n.load(o):"ar"==e&&$.i18n.load(n),$("a#aboutUsButton")._t("about"),$("a#alreadyMessage")._t("alreadyMessage"),$("a#loginButton")._t("Login With Instagram"),$("a#logout")._t("Logout"),$("a#contest")._t("Contest"),$("a#pushNotification")._t("Push Notification"),$("a#languageButton")._t("languageButton"),$("b#Recentslabel")._t("Recentslabel"),$("div#menuGame")._t("Game"),$("div#accounts")._t("accounts"),$("div#settings")._t("settings"),$("div#tapmate")._t("tapmate"),$("div#menuHelp")._t("help"),$("div#menubug")._t("menubug"),$("label#appOptimize")._t("optimize"),$("a#contactUsButton")._t("Contact Us"),$("a#tutorialButtonMenu")._t("Tutorial"),$("a#instruction")._t("Instruction"),$("a#startWalkthrough")._t("Walkthrough"),$("a#ContactUsPopUp")._t("ContactUsPopUp"),$("a#termsandcondition")._t("termsandcondition"),$("a#AboutUsPopUp")._t("AboutUsPopUp"),$("a#videotutorial")._t("videotutorial"),$("a#loginwithInsta")._t("loginwithInsta"),$("a#loginwithfb")._t("loginwithfb"),$("a#loginwithgoog")._t("loginwithgoog"),$("a#sendMail")._t("sendMail")}function At(){console.log("sent main client function"),Meteor.call("sendMail")}function Ft(){Rn(),$("#ContactUsPopUp").show()}function kt(){$("#loginform").hide()}function xt(){$("#AboutUsPopUp").show()}function St(){Rn(),$("#language").show()}function Dt(){$("#AboutUsPopUp").hide()}function Bt(){$("#Aggrements").hide(),window.localStorage.setItem("agree",!0)}function Tt(){}function $t(e){Hi.push(e),Lt()}function Lt(){if(!Ui){var e=Hi.pop();e&&(Ui=!0,e.match("pts")&&Session.get("phonegap")||$("#headerSection").stop().animate({top:"-10%"},500,function(){$("#toastArea").html(e).css({display:"block"}),Meteor.setTimeout(function(){$("#headerSection").animate({top:"0%"},500,function(){Ui=!1,Lt()}),$("#toastArea").css({display:"none"})},2500)}))}}function Mt(){$("#emailFormat").show(),$("#emailDone").hammer().on("tap",function(){$(this).remove(),$("#emailFormat").hide();var e=$("#emailHeader").html();Meteor.call("sendNewsLetters",e,function(){$t(Ei.__("batchstarted"))})}),leadersboard(),knowsYouBetter(Session.get("clientid")),youKnowsBetter(Session.get("clientid"))}function Pt(){var e=$("#emailHeaderMessage").val();$("#emailHeaderMessage").remove(),$(this).remove(),$("#emailHeader").html(e)}function Rt(e){clearTimeout(yi),e&&$("#loaderMessage").text(e),$("#loader").show(),yi=setTimeout(function(){$("#loaderError").show()},15e3)}function It(e){var t=e,n=t.indexOf("@"),i=t.lastIndexOf(".");return 1>n||n+2>i||i+2>=t.length?($t(Ei.__("invalidEmail")),!1):!0}function Ot(){var e=Session.get("clientid");if("625237041"==e||"363620479"==e||"487690035"==e){$("#gamemenu").append('<div class="item" id="admin"> Admin </div>'),$("#admin").append('<div class="menu" id="adminCategory"> </div>');var t=$("#adminCategory");$(t).append('<a id="admin" class="menu"><i class="adn icon"></i> Admin Panel </a><br><br>'),$(t).append('<a id="emails" class="menu"><i class="mail icon"></i> Email </a><br><br>'),$(t).append('<a id="startContest" class="menu"> Start Contest </a><br><br>'),$("#admin").hammer().on("tap",function(){$("#adminPanel").show()}),$("#adminPanelCloseButton").hammer().on("tap",function(){$("#adminPanel").hide()}),$("#emails").hammer().on("tap",Mt),$("#emailPreview").hammer().on("tap",Pt),$("#startContest").hammer().on("tap",Kt)}else $("#admin").remove(),$("#emails").remove()}function Nt(){$("#loaderMessage").text(""),$("#loader").hide(),$("#loaderError").hide(),clearTimeout(yi),yi=null}function jt(){$("#loginScreen").hide(),$("#Main").show(),Ht(),bi=0}function Ht(){Ut()||($("#tutorial").css({display:"block","z-index":"3",opacity:"0.9"}),$("#tutorial div").css({opacity:"1.0",display:"block"}),$("#tutorialSec4 div").css({display:"block",opacity:"1.0"}),setTimeout(function(){Vn(0,"loader")},3e3),setTimeout(function(){Vn(1,"loader")},6e3),setTimeout(function(){Vn(2,"loader")},9e3),setTimeout(function(){Vn(3,"loader")},12e3))}function Ut(e){return!0}function zt(e){try{Meteor.call("timerAndForm",Session.get("clientid"),function(t,n){n&&(n.form&&!e&&(zi=!0),pi=n.countDownMins,gi=n.countDownHours+24*n.countDownDays,mi=n.countDownSecs,(0!=pi||0!=gi)&&(Gt(),Vt()))})}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"checkFormAndTimer"})}}function Wt(){Session.get("phonegap")&&Tn()}function Vt(){vi=setInterval(qt,1e3)}function qt(){if($("#contest").html("<i class='time icon'></i> "+gi+":"+pi+":"+mi),0==mi){if(0==pi){if(0==gi&&0==pi&&0==mi)return Gt();pi=59,gi--}mi=59,pi--}mi--}function Gt(){vi&&(clearTimeout(vi),vi=null)}function Kt(){$t(Ei.__("contestStarting")),Meteor.call("startContest",function(e,t){e&&$t(Ei.__("contestFail")),t&&$t(Ei.__("contestStarted"))})}function Yt(){var e=$(this).attr("type"),t=$("#instructionSection div[type='show']");$(t).attr("type","hide"),$(t).hide(),"next"==e?t=$(t).next():"prev"==e?t=$(t).prev():"done"==e&&($("#instructionPanel").hide(),$("#instructionSection div:first").attr("type","show").css("display","block")),0!=t.length?$(t).attr("type","show").css("display","block"):($("#instructionPanel").hide(),$("#instructionSection div:first").attr("type","show").css("display","block"))}function Qt(){var e={};Meteor.call("media","544580348099774609_2627385",function(t,n){if(200==n.statusCode&&(e=n.data.data)){var i=(e.user.username,e.user.profile_picture);this.unblock(),Media.insert({_id:mediaid,profile_picture:i,username:usernames})}})}function Jt(){console.log("loginWithInstagram"),Meteor.loginWithInstagram({requestPermissions:"basic",requestOfflineToken:!0},nn)}function Xt(){console.log("loginWithFacebook"),Meteor.loginWithFacebook({requestPermissions:"basic",requestOfflineToken:!0},tn)}function Zt(){console.log("loginWithGoogle"),Meteor.loginWithGoogle({requestPermissions:"basic",requestOfflineToken:!0},en)}function en(e){console.log("loginWithGoogleCallbackFunction"),console.log(e)}function tn(e){console.log("loginWithFacebookCallbackFunction"),console.log(e)}function nn(e){if(console.log("loginWithInstagramCallbackFunction"),window.mywindow&&window.mywindow.close(),e){var n=Ei.__("wrongMgs")+e;$t(n),ci++,Nt()}else{var i=window.localStorage.getItem("emailtoken");i&&(console.log(i),Meteor.call("addMeInGroup",i,function(e,t){console.log(e),console.log(t),t&&$t("You are added in the group.")}),window.localStorage.setItem("emailtoken",null)),jt(),Rt("Login Went Successfully"),Meteor.call("getInformation",Wi,function(e,n){var i,o=null;n&&(o=window.localStorage.getItem("clientid"),console.log(Number(o)+" testing guestid"),Number(o)<0&&Meteor.call("updateGuestToUser",o,n.id,function(e,t){console.log(e),console.log(t)}),i=n.id,profilePic=n.profile_picture,username=n.username,console.log(profilePic),Session.set("clientid",i),Session.set("username",n.username),window.localStorage.setItem("clientid",i),window.localStorage.setItem("profile_picture",profilePic),window.localStorage.setItem("username",n.username),t(i),Meteor.call("tutorial",i,function(e,t){t||($("#Aggrements").show(),Nn())}),Meteor.call("firstTimeLogin",Session.get("clientid")),Me.update({_id:i},{$inc:{timesLoggedin:1}})),zt(),Nt(),wi=0})}}function on(e,t){try{Accounts.callLoginMethod({methodArguments:[{oauth:{state:e}}],userCallback:t&&function(e){e&&e instanceof Meteor.Error&&e.error===Accounts.LoginCancelledError.numericError?t(new Accounts.LoginCancelledError(e.details)):t(e)}})}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"loginOnceStateReady"})}}function rn(){$t(Ei.__("feed"));var e=this;$(e).hide(),Meteor.call("getFeed",function(t,n){$(e).show(),t&&$t(Ei.__("feederror")),n&&(0==n?$t(Ei.__("nofeed")):-1==n?$t(Ei.__("feedincomplete")):$t(Ei.__("feedSucess")))})}function sn(){var e=$("#searchKeyword").val();return e?($t("Searching keyword "+e+"."),Meteor.call("seachKeyword",e,function(t){t||$t("Searching keyword "+e+" complete.")}),$("#keywordPopup").hide(),$("#searchKeyword").val(""),void 0):($t(Ei.__("enterKeyword")),void 0)}function an(){$("#keywordPopup").show()}function ln(){$("#keywordPopup").hide(),Session.get("searchKeyword",null)}function cn(){var e=$(this).attr("cat");$("#"+e+"Category").slideToggle("slow")}function un(){var e=navigator.userAgent,t={iphone:e.match(/(iPhone|iPod|iPad)/),blackberry:e.match(/BlackBerry/),android:e.match(/Android/)};Ci=t.android?"android":t.iphone?"iphone":t.blackberry?"blackberry":"others",Me.update({_id:Session.get("clientid")},{$set:{deviceType:Ci,windowWidth:$(window).width(),windowHeight:$(window).height()}})}function dn(){language={},Ei={};var e=window.localStorage.getItem("lang");e?Et(e):(window.localStorage.setItem("lang","en"),Et("en")),window.localStorage.setItem("redirect",window.location),$("#Main").hammer().on("swiperight",lt),$("#Main").hammer().on("swipeleft",at),$("body").hammer().on("dragstart",function(e){e.preventDefault()}),$("#alreadyUser").hammer().on("tap",ut),ii=window.localStorage.getItem("clientid"),ii&&(profilePic=window.localStorage.getItem("profile_picture"),$("#alreadyUser").show(),$("#profilePic img").attr("src",profilePic),$("#profilePic img").bind("error",function(){$("#profilePic img").attr("src","./images/face.jpg")})),$("#com").blur(V),$("#close").hammer().on("tap",st),$("#logout").hammer().on("tap",z),$("#instruction").hammer().on("tap",function(){$("#instructionPanel,#1instruct").show("slow"),Rn()}),$("#ContactUsPopUp").hammer().on("tap",function(){$(this).hide("slow"),Rn()}),$("#tutorialButtonMenu").hammer().on("tap",function(){Nn()}),$(".keyboard li").hammer().on("tap",dt),$("#loginwithapp").hammer().on("tap",mt),$("#loginWithAppButton").hammer().on("tap",yt),$("#signupWithAppButton").hammer().on("tap",vt),$("#loginWithAppCancelButton").hammer().on("tap",kt),$("#contactUsButton").hammer().on("tap",Ft),$("#hashgosearch").hammer().on("tap",sn),$("#hashgocancel").hammer().on("tap",ln),$("#loaderError").hammer().on("tap",function(){i(),Nt()}),$("#instructionNext,#instructionPrev,#instructionDone").hammer().on("tap",Yt),$("#media").hammer().on("tap",Qt),$("#closeTutorialButton").hammer().on("tap",function(){Ut("logout")}),$(".help").hammer().on("tap",cn),$("#tutNext").hammer().on("tap",jn),$("#tutPrev").hammer().on("tap",Hn),$("#tutDone").hammer().on("tap",zn),$("#gamePromptOkButton").hammer().on("tap",function(){console.log("gamePromptOkButton"),gamePrompt()}),$("#hideAboutUsPopUp").hammer().on("tap",Dt),$("#aboutUsButton").hammer().on("tap",xt),$("#languageButton").hammer().on("tap",St),$("#AggrementAccept").hammer().on("tap",Bt),$("#AggrementDeny").hammer().on("tap",Tt),$("#hprogressBar").hammer().on("touch",vn),$("#hprogressBar").hammer().on("release",mn),$("#hprogressBar").hammer().on("drag",gn),$("#outer").hammer().on("touch",pn),$("#outer").hammer().on("release",fn),$("#outer").hammer().on("drag",hn),$("#inner-inner").hammer().on("touch",pn),$("#inner-inner").hammer().on("release",fn),$("#inner-inner").hammer().on("drag",hn),$("#inerhprogressBar").hammer().on("touch",vn),$("#inerhprogressBar").hammer().on("release",mn),$("#inerhprogressBar").hammer().on("drag",gn),$("#startWalkthrough").hammer().on("tap",En),$("#pushNotification").hammer().on("tap",Tn),$("#sendMail").hammer().on("tap",At),$("#optimize").hammer().on("tap",Cn),$("#videotutorial").hammer().on("tap",function(){$("#videotutorialpopup").show(),Rn()}),$(".language a").hammer().on("tap",_t),$("#chatboxclosebutton").hammer().on("tap",p),$("#chatsendbutton").hammer().on("tap",g),FastClick.attach(document.body),$("#addGroup").hammer().on("tap",b),$("#atbutton").hammer().on("tap",kn),$("#getEmailButton").hammer().on("tap",yn),$("#currentFollow").hammer().on("tap",In),$("#emptyCacheButtonMenu").hammer().on("tap",function(){Fi=!0,window.location.reload()}),$(window).bind("beforeunload",function(){s()}),Session.get("phonegap")||Nt(),ei()}function hn(e){var t=e.gesture.center.pageY,n=$("#Main").height(),i=$("#quadrant").height(),o=t/n*100,r=t/i*100;if(o=Math.round(o)-5,r=Math.round(r)-5,promoteper=100-(r-63),100>=promoteper){$("#verticalprogress").css("height",promoteper+"%");var s=100-(promoteper+2);$("#inner-inner").css("top",s+"%");Si?$(".recomm[recomid='"+Bi+"']").css("top",o+"%"):$(".voting[votingid='"+Di+"']").css("top",o+"%")}}function fn(){try{var e=null;if(Si){if(e=Feed.findOne({_id:Bi})){var t=$(".recomm[recomid="+Bi+"]").css("top"),n=t.substring(0,t.length-2),i=$("#Main").height(),o=n/i*100;o=Math.round(o),Feed.update({_id:e._id},{$set:{top:o}}),Me.update({_id:Session.get("clientid")},{$inc:{movedrecomm:1}})}}else if(e=Votes.findOne({_id:Di})){var t=$(".voting").css("top"),n=t.substring(0,t.length-2),i=$("#Main").height(),o=n/i*100;o=Math.round(o),Votes.update({_id:e._id},{$set:{top:o}}),Me.update({_id:Session.get("clientid")},{$inc:{movedme:1}})}$("#inner-inner").css({height:"33px",width:"42px","font-size":"1em"})}catch(r){console.log(r),ErrorUpdate.insert({error:r,date:new Date,side:"client","function":"promoteProgDragend"})}}function pn(e){e.preventDefault(),e.gesture&&e.gesture.preventDefault(),$("#inner-inner").css({height:"65px",width:"78px","font-size":"2em"}),$("#outer").animate({opacity:"1.0"},500,"linear")}function gn(e){e.preventDefault(),e.gesture&&e.gesture.preventDefault();var t=e.gesture.center.pageX,n=$("#Main").width(),i=t/n*100;percent=Math.round(i),90>=i&&($("#inerhprogressBar").css("left",percent+"%"),$("#hprogressBar").find("div").css("width",percent+"%"),Si?$(".recomm[recomid='"+Bi+"']").css("left",percent+"%"):$(".voting[votingid='"+Di+"']").css("left",percent+"%"))}function mn(e){try{e.preventDefault(),e.gesture&&e.gesture.preventDefault();var t=null;if(Si){var n=$(".recomm[recomid="+Bi+"]").css("left"),i=n.substring(0,n.length-2),o=$("#Main").width(),r=i/o*100;r=Math.round(r),t=Feed.findOne({_id:Bi}),t&&(Feed.update({_id:t._id},{$set:{left:r}}),Me.update({_id:Session.get("clientid")},{$inc:{movedrecomm:1}}))}else{var n=$(".voting").css("left"),i=n.substring(0,n.length-2),o=$("#Main").width(),r=i/o*100;r=Math.round(r),t=Votes.findOne({_id:Di}),t&&(Votes.update({_id:t._id},{$set:{left:r}}),Me.update({_id:Session.get("clientid")},{$inc:{movedme:1}}))}$("#inerhprogressBar").css({height:"38px",width:"42px","font-size":"large",top:"90%"})}catch(s){console.log(s),ErrorUpdate.insert({error:s,date:new Date,side:"client","function":"loveProgDragend"})}}function vn(){event.preventDefault(),event.gesture&&event.gesture.preventDefault(),$("#inerhprogressBar").css({height:"57px",width:"65px","font-size":"x-large",top:"84%"})}function yn(){Meteor.call("getContentEmail",function(e,t){console.log(e),console.log(t)})}function bn(){}function wn(){}function _n(){{var e=window.localStorage.getItem("optimizeLimit");$("#optimizeCheckBox").prop("checked")}4==e?(Session.set("limit",4),$(".ui.checkbox").checkbox("enable")):(Session.set("limit",8),$(".ui.checkbox").checkbox("disable"));var t=window.localStorage.getItem("agree");t||$("#Aggrements").show()}function Cn(){$(".ui.checkbox").checkbox();var e=$("#optimizeCheckBox").prop("checked");e?(Session.set("limit",8),window.localStorage.setItem("optimizeLimit",8)):(Session.set("limit",4),window.localStorage.setItem("optimizeLimit",4))}function En(){snapFlag=!0,Rn();var e={nextLabel:"",prevLabel:"",skipLabel:"",doneLabel:"",steps:[{intro:"Select a picture. I see it's already selected",position:"top",element:$(".feed:first")[0],selector:".feed:first",scriptElement:function(){var e=null,t=null;return $(".feed").each(function(n,i){t||(e=$(i).css("display"),console.log(e),"block"==e&&(t=i))}),t},scriptCondition:function(){}},{intro:"Now select yourself.",position:"bottom",element:$(".followsIcons:eq(1)")[0],selector:".followsIcons:first"},{intro:"Now place your face in fun part to vote.",position:"top",element:$("#section4")[0],selector:"#section4"},{intro:"Now select your friend.",position:"bottom",element:$(".followsIcons:eq(1)")[0],selector:".followsIcons:eq(1)"},{intro:"Now place your face in fun part to recommend.",position:"top",element:$("#section4")[0],selector:"#section4"}]};Vi||(Vi=new introJs),Meteor.myIntro=Vi,Vi.setOptions(e),setTimeout(function(){Vi.start().onchange(An).onexit(Fn).oncomplete(Fn)},500)}function An(e){switch(this._currentStep){case 4:console.log("Horizontal progress bar"),$("#hprogressBar").css("opacity","1"),setTimeout(function(){$("#hprogressBar div").css("opacity","1")},500);break;case 5:$("#outer").css("opacity","1"),setTimeout(function(){$(".inner").css("opacity","1")},500);break;case 6:break;case 99:break;case 100:}$("#quadrant div").css("opacity","0.0"),$(e).css("opacity","1.0")}function Fn(){$t("Click walktrhough in tutorial section to start it again.")}function kn(){var e="mailto:tapmate@tapmate.mailgun.org?subject="+xn()+"&body=You have been requested to be added in the group.<br> Please click the below link to be added.<br>"+Dn()+"<br> <img src='"+Sn()+"'> \\n Tapmate will be sending you a picture please";window.open(e,"_system")}function xn(){return Session.get("currentBig")+","+Session.get("clientid")}function Sn(){var e=Feed.findOne({likeid:Session.get("currentBig")});return e?e.low:void 0}function Dn(){return DebugFace?"http://localhost:3000/picture/"+Session.get("currentBig"):"http://youtap.meteor.com/picture/"+Session.get("currentBig")}function Bn(){try{return}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"checkScoreToast"})}}function Tn(){qi.receivedEvent()}function $n(){locatationIntervalId=setInterval(Ln,54e6)}function Ln(){navigator.geolocation?navigator.geolocation.getCurrentPosition(Mn):console.log("Geolocation is not supported by this browser")}function Mn(e){console.log("Latitude: "+e.coords.latitude),console.log("Longitude: "+e.coords.longitude)}function Pn(){$("#snapButton").hammer().on("tap",Rn)}function Rn(){Gi?($("#snapy").animate({left:"-90%"},"fast","linear"),$("#beforeLogin").animate({left:"0%"},"fast","linear"),$("#snapButton").animate({left:"0%"},"fast","linear")):($("#snapy").animate({left:"0%"},"fast","linear"),$("#beforeLogin").animate({left:"90%"},"fast","linear"),$("#snapButton").animate({left:"90%"},"fast","linear")),Gi=!Gi}function Pn(){$("#snapButton").hammer().on("tap",Rn)}function In(){Ki?($("#section2").css("left","100%"),$("#currentFollow").css("left","75%")):($("#section2").css("left","25%"),$("#currentFollow").css("left","0%"),Ti.fifth&&!Ti.sixth&&(F(82,36,"Users",Ei.__("urfriends")),clearInterval(tapBigTutorialInterval),Ti.sixth=!0)),Ki=!Ki}function On(){Yi?($("#groupDiv").animate({right:"-9%"},"fast","easeOutBounce"),$("#groupButton").animate({right:"89%"},"fast","easeOutBounce")):($("#groupDiv").animate({right:"-100%"},"fast","easeOutBounce"),$("#groupButton").animate({right:"0%"},"fast","easeOutBounce")),Yi=!Yi}function Nn(e){$("#tutorialButton").css({display:"block","z-index":"4"}),$("#tutorial").css({display:"block","z-index":"3"}),Wn(1,e)}function jn(){Ji++,Un()}function Hn(){Ji--,Un()}function Un(){2==Ji&&Wn(2),3==Ji&&Wn(3),4==Ji&&Wn(4),5==Ji&&Vn(0),6==Ji&&Vn(1),7==Ji&&Vn(2),8==Ji&&(Vn(3),Qi=0),9==Ji&&qn(),Ji>9&&Qn()}function zn(){Jn()}function Wn(e){5!=e&&$("#tutorialSec"+e).animate({opacity:"1.0"},1500,"easeInCirc",function(){$("#tutorialSec"+e).animate({opacity:"0.0"},function(){})})}function Vn(e,t){if(4==e){if("loader"==t)return;return qn(),$("#popup").hammer().on("tap",Qn),Qi=0,void 0}var n=null;"loader"!=t&&($("#popup").show("slow"),n="If you "+Xi[e]+" for this picture.<br> Place your Face here.",$("#popupMessage").html(n)),$("#tutorialSec4").css({opacity:"1.0"}),$("#"+e+"Q").css({opacity:"0",display:"block"}),$("#"+e+"Q").animate({opacity:"1.0"},1500,"swing",function(){$("#"+e+"Q").animate({opacity:"0.0"},1500,"swing")})}function qn(){$("#tutorial").css({display:"none","z-index":"0"}),$("#tap").css({display:"block"}),$("#tap").animate({left:"24%",top:"30%"},"slow","easeOutBounce",function(){$("#popup").show("slow"),$("#popupMessage").text("Tap the Picture to recommend it to a friend")})}function Gn(){$("#tap").animate({left:"9%",top:"15%"},"slow","easeOutBounce",function(){$("#popup").show("slow"),$("#popupMessage").text("Tap yourself to be selected")})}function Kn(e){$("#tap").animate({left:"30%",top:"58%"},"slow","easeOutBounce",function(){$("#popup").show("slow"),$("#popupMessage").html(e)})}function Yn(){$("#tap").animate({left:"30%",top:"16%"},"slow","easeOutBounce",function(){$("#popup").show("slow"),$("#popupMessage").text("Tap your Follows")})}function Qn(){0==Qi?($("#popup").hide(),$("#popup").show("slow"),$("#popupMessage").text("It get's in the Big Area")):1==Qi?($("#popup").hide(),Gn()):2==Qi?($("#popup").hide(),Kn("Place yourself in the Big")):3==Qi?($("#popup").hide(),$("#popup").show("slow"),$("#popupMessage").text("And have Fun")):7==Qi?($("#popup").hide(),$("#popup").show("slow"),$("#popupMessage").html("For more information see the <br> instruction panel")):4==Qi?($("#popup").hide(),$("#popup").show("slow"),$("#popupMessage").text("That's not it.")):5==Qi?($("#popup").hide(),Yn()):6==Qi?($("#popup").hide(),Kn("Place your follow in Big <br> and see what they think of this!!")):($("#popup").hide("slow"),$("#tap").hide(),$("#tap").hide()),Qi++}function Jn(){$("#tutorial").css({display:"none","z-index":"0"}),$("#tutorialButton").css({display:"none","z-index":"0"})}function Xn(){return navigator.userAgent.match(/android 2.3/i)||navigator.userAgent.match(/gingerbread/i)||navigator.userAgent.match(/GINGERBREAD/i)?!0:!1}function Zn(e){if(Xn()){var t=(document.getElementById(e),0),n=0;document.getElementById(e).addEventListener("touchstart",function(e){t=this.scrollTop+e.touches[0].pageY,n=this.scrollLeft+e.touches[0].pageX},!1),document.getElementById(e).addEventListener("touchmove",function(e){(this.scrollTop<this.scrollHeight-this.offsetHeight&&this.scrollTop+e.touches[0].pageY<t-5||0!=this.scrollTop&&this.scrollTop+e.touches[0].pageY>t+5)&&e.preventDefault(),(this.scrollLeft<this.scrollWidth-this.offsetWidth&&this.scrollLeft+e.touches[0].pageX<n-5||0!=this.scrollLeft&&this.scrollLeft+e.touches[0].pageX>n+5)&&e.preventDefault(),this.scrollTop=t-e.touches[0].pageY,this.scrollLeft=n-e.touches[0].pageX},!1)}}function ei(){}function ti(){try{Rt("Login Process"),Meteor.loginWithInstagram({requestPermissions:"basic",requestOfflineToken:!0},nn),Me.update({_id:ii},{$inc:{timesLoggedin:1}}),ui=!0,Rn()}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"loginButton.click"})}}Package.oauth.Oauth.showPopup=function(e,t,n){var i=ni(e,n&&n.width||650,n&&n.height||331,null,t);if(!Session.get("phonegap"))var o=setInterval(function(){try{console.log("my show popup interval");var e=i.closed||void 0===i.closed}catch(n){return}e&&(clearInterval(o),t())},100)};var ni=function(e,t,n,i,o){var r="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,s="undefined"!=typeof window.screenY?window.screenY:window.screenTop,a="undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth,l="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,c=r+(a-t)/2,u=s+(l-n)/2,d="width="+t+",height="+n+",left="+c+",top="+u+",scrollbars=yes",h=null;return h=Session.get("phonegap")?window.open(e,"_blank","location=yes"):window.open(e,"_black",d),window.mystate=i,window.mycallback=o,window.closewindow=h,window.closewindow.addEventListener("loadstop",function(e){0==e.url.indexOf("http://youtap.meteor.com/_oauth")&&(window.itriggered=!0,window.closewindow.close(),o())}),window.closewindow.addEventListener("exit",function(){o(),window.itriggered=!1}),h.focus&&h.focus(),h};Package.oauth.Oauth.initiateLogin=function(e,t,n,i){Package.oauth.Oauth.showPopup(t,_.bind(n,null,e),i)},e();Router.map(function(){this.route("home",{path:"/",template:"body"}),this.route("picture",{path:"/picture/:id",template:"picture",data:function(){var e=this.params;e.id&&(guestFlag=!0,Session.set("clientid","guest"),Session.set("currentBig",e.id),Meteor.call("guestFeed",e.id),Meteor.subscribe("votes",Session.get("currentBig")),Meteor.subscribe("media",Session.get("currentBig")),Meteor.subscribe("recommtwo",Session.get("currentBig"),Session.get("clientid")),t("guest"))}}),this.route("email",{path:"/email/:id",template:"verify",data:function(){var e=this.params;console.log(e.id+" but guest user");var t=e.id;t&&(window.localStorage.setItem("emailtoken",t),Meteor.call("verifyPicture",t,function(e,t){t&&(console.log(t),$t("you have been added in the group"),window.localStorage.setItem("clientid",t.clientid),window.localStorage.setItem("likeid",t.likeid),window.location.href="/"),e&&(console.log(e),$("#emailmessage").html("Failed"))}))}}),this.route("verify",{path:"/verify/:id",template:"verify",data:function(){var e=this.params;console.log(e.id+" but email");var t=e.id;t&&Meteor.call("verifyemails",t,function(e,t){t&&(console.log(t),$("#emailmessage").html(t)),e&&(console.log(e),$("#emailmessage").html("Failed"))})}}),this.route("survey",{path:"/survey/user",template:"survey",data:function(){o()}}),this.route("index",{path:"/index.html",template:"body"}),this.route("index",{path:"/*",template:"body"})});var ii=null;ii=null,GlobalError=null,Follows=new Meteor.Collection("follows"),Me=new Meteor.Collection("myself"),Votes=new Meteor.Collection("votes"),Comments=new Meteor.Collection("comments"),Media=new Meteor.Collection("media"),Feed=new Meteor.Collection("feed"),SponserKeyword=new Meteor.Collection("sponserkeyword"),ErrorUpdate=new Meteor.Collection("error"),MiniGame=new Meteor.Collection("minigame"),TapmateNotification=new Meteor.Collection("notification"),UsersVote=new Meteor.Collection("usersvote"),Chat=new Meteor.Collection("chat"),FollowsGroup=new Meteor.Collection("followsgroup"),UserSession=new Meteor.Collection("usersession"),GroupVoteRecommend=new Meteor.Collection("groupvoterecommend"),Meteor.mysuscribeMeteor=t,Meteor.suscribeCusom=n,Deps.autorun(function(){Session.get("chatid")&&Meteor.subscribe("chat",Session.get("clientid"),Session.get("chatid"))});var oi=null,ri=null,si=null,ai=null,li=null,ci=0,ui=!0,di=!1,hi=!1,fi=!0,pi=0,gi=0,mi=0,vi=null,yi=null,bi=0,wi=10,_i=null,Ci=null,Ei=null,Ai=!0,Fi=!1,ki=null,xi=null,Si=!1,Di=null,Bi=null,Ti={};if(Meteor.isClient){Session.set("activeFollows",null),Session.set("followFollow",null),Session.set("username",""),Session.set("orientation",!0),Session.set("searchByFollow","0-50"),Session.set("searchKeyword",null),Session.set("userid",null),Session.set("group",null);Session.set("limit",8);var $i=!1,Li=0;Meteor.startup(function(){try{var e=window.localStorage.getItem("phonegap");1==e?Session.set("phonegap",!0):Session.set("phonegap",!1),Session.set("clientid",null),Deps.autorun(function(){try{Session.get("clientid")?($("#loginScreen").hide(),$("#Main").show(),Ot(),U()):($("#loginScreen").show(),$("#Main").hide())}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"clientid.autorun"})}}),Deps.autorun(function(){try{Meteor.subscribe("votes",Session.get("currentBig")),Meteor.subscribe("media",Session.get("currentBig")),Meteor.subscribe("recomm",Session.get("currentBig"),Session.get("clientid")),Meteor.subscribe("recommtwo",Session.get("currentBig"),Session.get("clientid")),Meteor.subscribe("groupvoterecommend",Session.get("clientid"),Session.get("currentBig"))}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"currentBig.autorun"})}}),document.addEventListener("deviceready",function(){try{Session.set("phonegap",!0),window.localStorage.setItem("phonegap",!0),document.addEventListener("pause",ft,!1),document.addEventListener("resume",pt,!1),document.addEventListener("online",gt,!1),Nt(),i(),Wi=window.localStorage.getItem("pushid"),Wi||Wt(),Me.update({_id:Session.get("clientid")},{$inc:{autologin:1,yautologin:1,mautologin:1,wautologin:1,dautologin:1}})}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"deviceready"})}},!1)}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"startup"})}}),Template.bodystatic.rendered=function(){o()},Template.loginWithInstagram.rendered=function(){$("#loginButton,#loginwithInsta").hammer().off("tap",ti),$("#loginButton,#loginwithInsta").hammer().on("tap",ti)},Template.Section1.events({"error .recentIcons img":function(e){$(e.currentTarget).attr("src","images/face.jpg")}}),Template.Section2.events({"error .followsIcons img":function(e){$(e.currentTarget).attr("src","images/face.jpg")}}),Template.Section3.events({"error .recommendImages img":function(){Meteor.status().connected&&E(this._id)},"error .feed img":function(){Meteor.status().connected&&E(this._id)}}),Template.Section4.events({"error .voting img,.sender img,.receiver img":function(e){$(e.currentTarget).attr("src","images/face.jpg")}}),Template.keyword.events({"click .eachkeyword":function(){try{var e=this.keyword;$t("#"+e+" is started."),Meteor.call("seachKeyword",this.keyword,function(){}),$("#keywordPopup").hide()}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"click .eachkeyword"})}}}),Template.editkeyword.events({"click li":function(){SponserKeyword.remove({_id:this._id})}}),Template.groupvote.rendered=function(){$(".grouping").each(function(e,t){for(var n=$(t).children("img"),i=0,o=n.length;o>i;i++)$(n[i]).css("left",20*i+"px")}),VoteEnd=(new Date).getTime()},Template.header.rendered=function(){setTimeout(Bn,1e3)},Template.server.rendered=function(){$("#status").hammer().off("tap"),$("#status").hammer().on("tap",H),Meteor.status().connected&&Ai&&!di&&($("#keywordPopup").show(),Ai=!1)},Template.Section1.rendered=function(){try{$(".recentIcons").hammer().off("tap"),$(".recentIcons").hammer().on("tap",h)}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.Section1.rendered"})}},Template.Section2.rendered=function(){try{if($(".followsIcons").hammer().off("tap",w),$(".followsIcons").hammer().on("tap",w),$(".followsgroup").hammer().off("tap",w),$(".followsIcons").hammer().off("doubletap",v),$(".followsIcons").hammer().on("doubletap",v),$(".followsIcons").hammer().off("hold",f),$(".followsIcons").hammer().on("hold",f),$("#section2").unbind("touchstart,touchmove"),Zn("section2"),$("#keyboardButton").hammer().off("tap",ht),$("#keyboardButton").hammer().on("tap",ht),$("#section2Label").hammer().off("tap",bn),$("#section2Label").hammer().on("tap",bn),$("#groupButton").hammer().off("tap",On),$("#groupButton").hammer().on("tap",On),Session.get("currentBig")){var e=$(".followsIcons")[Li];if(e||(Li=0,e=$(".followsIcons")[0]),e){$(".followsIcons:first").attr("myid")==Session.get("clientid")&&(e=$(".followsIcons")[0]);var t=$(e).attr("myid");Session.set("activeFollows",t),$(".followsIcons").removeClass("active"),$(e).addClass("active"),0!=$(e).length&&$("#section2").scrollTop($(e).position().top)}}var n=$(".followsIcons")[0];if(n){var i=$(n).width();$(".followsIcons,#addGroup,#atbutton").css({height:i+"px"})}}catch(o){console.log(o),ErrorUpdate.insert({error:o,date:new Date,side:"client","function":"Template.Section2.rendered"})}},Template.Section3.rendered=function(){try{$(".feed").hammer().off("tap"),$(".feed").hammer().on("tap",x),$("#section3").unbind("touchstart,touchmove"),$("#section3Label").hammer().off("tap"),$("#section3Label").hammer().on("tap",wn),Zn("section3");var e=$(".feed"),t=$(e[0]).width();t&&(e.css("height",t),$(".right,.globalFeed,.popular,.hash").css("height",t));var n=$(".feed[likeid="+Session.get("currentBig")+"]");if(n.addClass("likeActive"),0!=n.length&&$("#section3").scrollTop(n.position().top),ui){var e=$(".feed");if(0!=e.length){var i=$(e[0]).attr("likeid");i&&(Session.set("currentBig",i),ui=!1,di=!0,Ti.first=!0,k(70,50,"vote","Tap on pic to vote."),$("#keywordPopup").hide())}}{$(".followsIcons")[0]}}catch(o){console.log(o),ErrorUpdate.insert({error:o,date:new Date,side:"client","function":"Template.Section3.rendered"})
}},Template.static.rendered=function(){$("#globalFeed").hammer().off("tap",wt),$("#myFeed").hammer().off("tap",rn),$("#popular").hammer().off("tap",bt),$("#hash").hammer().off("doubletap",an),$("#globalFeed").hammer().on("tap",wt),$("#myFeed").hammer().on("tap",rn),$("#popular").hammer().on("tap",bt),$("#hash").hammer().on("doubletap",an)},Template.Section4.rendered=function(){try{$(".bigFeed").hammer().off("tap"),$(".bigFeed").hammer().on("tap",M),$(".recomm").hammer().off("tap"),$(".recomm").hammer().on("tap",R),$(".voting").hammer().off("doubletap"),$(".voting").hammer().on("doubletap",O),$(".voting").hammer().off("tap"),$(".voting").hammer().on("tap",O)}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.Section4.rendered"})}},Template.vote.rendered=function(){try{$i&&(Y(),$i=!1)}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.vote.rendered"})}},Template.bigImage.rendered=function(){try{Session.get("currentBig")&&hi&&(J(),hi=!1)}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.bigImage.rendered"})}},Template.chatting.rendered=function(){try{$("#send,#creatorProfile").hammer().off("tap"),$("#send").hammer().on("tap",N),$("#creatorProfile").hammer().on("doubletap",O)}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.chatting.rendered"})}},Template.loginwithservies.rendered=function(){$("#loginWithInstagram").hammer().off("tap"),$("#loginWithInstagram").hammer().on("tap",Jt),$("#loginWithFacebook").hammer().off("tap"),$("#loginWithFacebook").hammer().on("tap",Xt),$("#loginWithGoogle").hammer().off("tap"),$("#loginWithGoogle").hammer().on("tap",Zt)},Template.eachBig.perbig=function(){return Feed.find({})},Template.eachBig.rendered=function(){ui&&(Oi=$(".bigFeed:first"),ui=!1),$(".bigFeed").hammer().off("tap"),$(".bigFeed").hammer().on("tap",B)},Template.admin.totalUser=function(){return Me.find({}).count()},Template.admin.users=function(){return Me.find({})},Template.admin.rendered=function(){$("#showList").hammer().off("tap"),$("#showList").hammer().on("tap",function(){$("#adminTableCat").hide(),$("#adminListCat").css({display:"block"})}),$("#showTable").hammer().off("tap"),$("#showTable").hammer().on("tap",function(){$("#adminListCat").hide(),$("#adminTableCat").css({display:"block"})}),$("#adminPanelCloseButton").hammer().off("tap"),$("#adminPanelCloseButton").hammer().on("tap",function(){$("#adminPanel").hide()}),$("#addKeywordButton").hammer().off("tap"),$("#addKeywordButton").hammer().on("tap",function(){var e=null;e=$("#addKeywordText").val(),console.log(e),e&&(SponserKeyword.insert({keyword:e}),$("#addKeywordText").val(""))}),$("#emailClose").hammer().off("tap"),$("#emailClose").hammer().on("tap",function(){$("#emailFormat").hide()});var e=$(".adminTotal th"),t=[];$(".adminTable").each(function(e,n){for(var i=$(n).children("td"),o=3,r=i.length;r>o;o++)t[o]||(t[o]=0),t[o]+=Number($(i[o]).text())});for(var n=0,i=t.length;i>n;n++)$(e[n]).text(t[n])},Template.admin.isAdmin=function(){var e=Session.get("clientid");return"625237041"==e||"363620479"==e||"487690035"==ii?!0:!1},Template.grouptemplate.group=function(){return FollowsGroup.find({clientid:Session.get("clientid")})},Template.grouptemplate.rendered=function(){$(".followsgroup").hammer().off("tap"),$(".followsgroup").hammer().on("tap",y)},Template.Section1.recents=function(){try{return Feed.find({clientid:Session.get("clientid"),display:"n"},{sort:{date:-1},limit:1*Session.get("limit")})}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.Section1.recents"})}},Template.votesProfile.recent=function(){try{return Votes.find({followid:Session.get("profile")},{sort:{date:-1},limit:4})}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.recents1.recents"})}},Template.feedsProfile.recent=function(){try{return Feed.find({clientid:Session.get("profile"),display:"y"},{sort:{date:-1},limit:4})}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.recents1.recents"})}},Template.recents1.recent=function(){try{return Feed.find({clientid:Session.get("profile"),display:"n"},{sort:{date:-1},limit:4})}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.recents1.recents"})}},Template.distanceTemplate.distance=function(){try{var e=Me.findOne({_id:Session.get("clientid")});if(e)return e.score}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"Template.distanceTemplate.distance"})}},Template.distanceTemplate.heat=function(){try{var e=Me.findOne({_id:Session.get("clientid")});if(e)return e.heatscore}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"Template.distanceTemplate.heat"})}},Template.Section2.follows=function(){var e=Feed.find({likeid:Session.get("currentBig"),whoid:Session.get("clientid")}),t=Votes.find({likeid:Session.get("currentBig")}),n=[];t.forEach(function(e){n.push(e.followid)}),e.forEach(function(e){n.push(e.followid)});var i=Session.get("searchByFollow");return"0-50"==i?Follows.find({userid:Session.get("clientid"),followid:{$nin:n}},{sort:{hits:-1},limit:50}):(i=i+"|"+Session.get("username"),Follows.find({userid:Session.get("clientid"),followid:{$nin:n},username:{$regex:"^"+i+".*",$options:"i"}},{sort:{hits:-1},limit:50}))},Template.Section2.currentFollow=function(){return Follows.findOne({followid:Session.get("activeFollows")})},Template.Section2.alpahbet=function(){try{return Session.get("searchByFollow")}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.Section2.alpahbet"})}},Template.onefeed.eachfeed=function(){return Session.get("userid")?UsersVote.find({clientid:Session.get("clientid"),followid:Session.get("userid"),display:"y"}):Feed.find({clientid:Session.get("clientid"),display:"y"},{sort:{type:1},limit:2*Session.get("limit")})},Template.server.unseenCount=function(){try{return Feed.find({clientid:Session.get("clientid"),type:2,display:"y"}).count()}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.recommendingtemplate.unseenCount"})}},Template.bigImage.low=function(){Session.get("currentBig");try{if(oi=C())return oi.low}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.bigImage.low"})}},Template.recommended.recents=function(){try{var e=Session.get("currentBig"),t=Votes.findOne({followid:Session.get("clientid"),likeid:e});if(t)return Feed.find({likeid:e,type:3,clientid:Session.get("clientid")})}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"Template.recommended.recents"})}},Template.recommending.recents=function(){try{var e=Session.get("currentBig"),t=Votes.findOne({followid:Session.get("clientid"),likeid:e});if(t)return Feed.find({likeid:e,type:3,whoid:Session.get("clientid")})}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"Template.recommending.recents"})}},Template.recommending.recentstwo=function(){try{var e=Session.get("currentBig"),t=Votes.findOne({followid:Session.get("clientid"),likeid:e});if(t)return Feed.find({likeid:e,type:2,whoid:Session.get("clientid")})}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"Template.recommending.recents"})}},Template.vote.votes=function(){try{var e=Session.get("currentBig"),t=Votes.findOne({followid:Session.get("clientid"),likeid:e}),n=GroupVoteRecommend.findOne({clientid:Session.get("clientid"),likeid:e});return n?Votes.find({likeid:e,followid:{$in:n.follows}}):t?Votes.find({likeid:e}):null}catch(i){console.log(i),ErrorUpdate.insert({error:i,date:new Date,side:"client","function":"Template.vote.votes"})}},Template.groupvote.votes=function(){try{var e=Session.get("currentBig"),t=Votes.findOne({followid:Session.get("clientid"),likeid:e});return t?GroupVoteRecommend.find({likeid:e,clientid:Session.get("clientid")}):null}catch(n){console.log(n),ErrorUpdate.insert({error:n,date:new Date,side:"client","function":"Template.groupvote.votes"})}},Template.chatting.recommending=function(){try{if(Session.get("actionFollow")){var e=Feed.findOne({_id:Session.get("actionFollow")});if(e&&e.whoid==Session.get("clientid"))return e}return!1}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"Template.chatting.recommending"})}},Template.chatting.creator=function(){try{var e=Votes.findOne({_id:Session.get("actionFollow")});return e?Media.findOne({_id:e.likeid}):!1}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"Template.chatting.creator"})}},Template.chatting.recommended=function(){try{return Session.get("recommendedFollow")}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.chatting.recommended"})}},Template.chatting.othername=function(){try{var e=Feed.findOne({_id:Session.get("actionFollow")});if(e)return{followusername:e.followusername,left:e.left,top:e.top,username:Session.get("username")}}catch(t){console.log(t),ErrorUpdate.insert({error:t,date:new Date,side:"client","function":"Template.chatting.othername"})}},Template.chatting.eachcomment=function(){try{return Comments.find({likeid:Session.get("currentBig")})}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.chatting.eachcomment"})}},Template.keyword.eachkeyword=function(){try{return SponserKeyword.find({})}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.keyword.eachkeyword"})}},Template.editkeyword.eachkeyword=function(){try{return SponserKeyword.find({})}catch(e){console.log(e),ErrorUpdate.insert({error:e,date:new Date,side:"client","function":"Template.editkeyword.eachkeyword"})}},Template.server.status=function(){return Meteor.status().connected},Template.myprofile.profile=function(){var e=Session.get("profile");return isNaN(e)?Me.find({username:e}):Me.find({_id:e})}}Template.chatfeature.chat=function(){return Chat.find({clientid:Session.get("clientid"),chatid:Session.get("chatid")})},Template.chatfeature.rendered=function(){$(".summary").hammer().off("hold",r),$(".summary").hammer().on("hold",r)},Template.chatfeature.pic=function(){return"right"==this.position?profilePic:Session.get("senderpic")};var Mi;Meteor.saveCollection=s,Meteor.restoreCollection=u,Chat.find({status:"server"}).observe({added:function(e){Chat.update({_id:e._id},{$set:{status:"receive"}})}});var Pi,Ri=null,Ii=null;tapBigTutorialInterval=null;var Oi=null;VoteStart=null;var Ni=null;Meteor.myCustomAnimation=J;var ji=0,Hi=[],Ui=!1;Meteor.toast=$t,Meteor.toastStartFlag=Ui;var zi=!1;jQuery.fn.shake=function(){return this.each(function(){$(this).css({position:"relative"});for(var e=1;3>=e;e++)$(this).animate({left:-25},10).animate({left:0},50).animate({left:25},10).animate({left:0},50)}),this};var Wi=null,Vi=null;jQuery.fn.shake=function(){return this.each(function(){$(this).css({position:"relative"});for(var e=1;3>=e;e++)$(this).animate({left:-25},10).animate({left:0},50).animate({left:25},10).animate({left:0},50)}),this},Meteor.getTextForNewsletters=function(){Meteor.call("getTextForNewsletters",function(e,t){if(t&&200==t.statusCode){var n=t.data.data;if(n.length>0){n[0].caption}}})};var qi={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){qi.receivedEvent("deviceready")},receivedEvent:function(){var e=window.plugins.pushNotification;"android"==device.platform||"Android"==device.platform?($t(Ei.__("regCalled")),e.register(this.successHandler,this.errorHandler,{senderID:"422665837619",ecb:"Meteor.app.onNotificationGCM"})):($t(Ei.__("regCalled")),e.register(this.successHandler,this.errorHandler,{badge:"true",sound:"true",alert:"true",ecb:"Meteor.app.onNotificationAPN"}))},successHandler:function(e){$t("Callback Success! Result = "+e),console.log(e),Meteor.call("registrationid",e,"iphone",function(e,t){e&&$t("failure"),t&&$t("Success")}),window.localStorage.setItem("pushid",e)},errorHandler:function(e){$t(e)},onNotificationGCM:function(e){switch(e.event){case"registered":if(e.regid.length>0){console.log("Regid "+e.regid),$t("registration id = "+e.regid);var t=null;t="android"==device.platform||"Android"==device.platform?"android":"iphone",Meteor.call("registrationid",e.regid,t,function(e,t){e&&$t("failure"),t&&$t("Success")}),window.localStorage.setItem("pushid",e.regid)}break;case"message":$t(e.message);break;case"error":$t("GCM error = "+e.msg);break;default:$t("An unknown GCM event has occurred")}},onNotificationAPN:function(e){var t=window.plugins.pushNotification;if(alert("Running in JS - onNotificationAPN - Received a notification! "+e.alert),e.alert&&navigator.notification.alert(e.alert),e.badge&&t.setApplicationIconBadgeNumber(this.successHandler,this.errorHandler,e.badge),e.sound){var n=new Media(e.sound);n.play()}}};Meteor.app=qi;var Gi=!1,Ki=!1,Yi=!1,Qi=0,Ji=1,Xi=["Love it Silenty","Love it Loudly","Hate it Silently","Hate it Loudly"]}(),function(){DebugFace=null,Meteor.isClient&&Meteor.startup(function(){window.location.href.match("localhost:3000")&&(DebugFace=!0),window.location.href.match("192.168.")&&(DebugFace=!0),window.DebugFace=DebugFace}),Meteor.startup(function(){Meteor.absoluteUrl.defaultOptions.rootUrl.match("localhost:3000")&&(DebugFace=!0)})}();

})();
