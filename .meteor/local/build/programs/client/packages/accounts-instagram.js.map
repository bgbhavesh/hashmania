)]}'
{"version":3,"file":"/packages/accounts-instagram.js","sources":["accounts-instagram/lib/instagram_configuration.html","accounts-instagram/lib/instagram_configuration.js","accounts-instagram/lib/accounts_instagram.js","accounts-instagram/lib/instagram_client.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,4E;AACA,kB;AACA,sB;AACA,sX;AACA,kB;AACA,iB;AACA,sD;AACA,2D;AACA,I;;;;;;;;;;;;;;;;;;;ACTA,wE;AACA,wD;AACA,E;;AAEA,uE;AACA,Y;AACA,mD;AACA,qD;AACA,gE;AACA,M;AACA,E;;;;;;;;;;;;;;;;;;;ACVA,4C;;AAEA,sB;AACA,6D;AACA,6C;AACA,0D;AACA,+B;AACA,2B;AACA,S;;AAEA,0G;AACA,gF;AACA,M;AACA,Q;AACA,mC;AACA,gD;AACA,wB;AACA,oC;AACA,2C;AACA,yC;AACA,S;AACA,O;AACA,C;;;;;;;;;;;;;;;;;;;ACtBA,e;;AAEA,4D;;AAEA,qD;AACA,2B;AACA,qB;AACA,K;AACA,sB;AACA,wF;AACA,mB;AACA,mB;AACA,uD;AACA,qC;AACA,6D;AACA,2D;AACA,2D;AACA,e;AACA,wF;AACA,Q;;AAEA,8B;AACA,4D;AACA,8C;AACA,mG;AACA,qE;AACA,4B;AACA,yB;AACA,2D;AACA,2D;AACA,8D;AACA,8D;;AAEA,sB;AACA,qD;AACA,0C;AACA,6D;AACA,uC;AACA,mC;AACA,kC;AACA,Y;AACA,gB;AACA,Y;AACA,4B;AACA,2D;AACA,0E;AACA,0H;AACA,6C;AACA,gD;AACA,wC;AACA,0F;AACA,yB;AACA,wD;AACA,oD;AACA,2D;AACA,0C;AACA,6C;AACA,qC;AACA,uF;AACA,Y;AACA,mD;AACA,E","sourcesContent":["\nTemplate.__define__(\"configureLoginServiceDialogForInstagram\", (function() {\n  var self = this;\n  var template = this;\n  return [ HTML.Raw(\"<p>\\n        Follow these steps to configure your Instagram client:\\n    </p>\\n    \"), HTML.OL(HTML.Raw('\\n        <li>\\n            Visit <a href=\"http://instagram.com/developer/clients/register/\" target=\"_blank\">http://instagram.com/developer/clients/register/</a>\\n        </li>\\n        '), HTML.LI(\"\\n            Set Callback URL to: \", HTML.SPAN({\n    \"class\": \"url\"\n  }, function() {\n    return Spacebars.mustache(self.lookup(\"siteUrl\"));\n  }, \"_oauth/instagram?close\"), \"\\n        \"), \"\\n    \") ];\n}));\n","Template.configureLoginServiceDialogForInstagram.siteUrl = function () {\n    return Meteor.absoluteUrl({replaceLocalhost: true});\n};\n\nTemplate.configureLoginServiceDialogForInstagram.fields = function () {\n    return [\n        {property: 'clientId', label: 'Client Id'},\n        {property: 'secret', label: 'Client Secret'},\n        {property: 'scope', label: \"Scope (separated by a '+')\"}\n    ];\n};\n","Accounts.oauth.registerService('instagram');\n\nif (Meteor.isClient) {\n    Meteor.loginWithInstagram = function(options, callback) {\n        // support a callback without options\n        if (! callback && typeof options === \"function\") {\n            callback = options;\n            options = null;\n        }\n\n        var credentialRequestCompleteCallback = Accounts.oauth.credentialRequestCompleteHandler(callback);\n        Instagram.requestCredential(options, credentialRequestCompleteCallback);\n    };\n} else {\n    Accounts.addAutopublishFields({\n        forLoggedInUser: ['services.instagram'],\n        forOtherUsers: [\n            'services.instagram.id',\n            'services.instagram.firstName',\n            'services.instagram.lastName'\n        ]\n    });\n}\n","Instagram = {};\n\nInstagram.requestCredential = function (options, callback) {\n\n    if (!callback && typeof options === 'function') {\n        callback = options;\n        options = {};\n    }\n    var config = null;\n    // var config = ServiceConfiguration.configurations.findOne({service: 'instagram'});\n    // if(!config){\n    //     //youtap\n    //      Accounts.loginServiceConfiguration.insert({\n    //          service: \"instagram\",\n    //          clientId: \"6bda8578dd0f4cc2bdfcaa225c72889e\",\n    //          secret: \"bb5e315798e64bcb926d12c1519e0d62\",\n    //          scope: \"basic+comments+relationships+likes\"\n    //      });\n    //     config = Accounts.loginServiceConfiguration.findOne({service: 'instagram'}); \n    // }\n\n    var state = Meteor.uuid();\n    // XXX need to support configuring access_type and scope\n    window.localStorage.setItem(\"state\",state)\n    var url = Meteor.absoluteUrl('_oauth/instagram?close=close', {replaceLocalhost: true});        \n        url = \"http://youtap.meteor.com/_oauth/instagram?close=close\"\n        var loginUrl = null;\n        // if(DebugFace){\n            var redirect = Meteor.settings.public.redirect;\n            var clientid = Meteor.settings.public.clientid;\n            // var redirect = Meteor.settings.public.redirect;\n            var scope  = \"basic+comments+relationships+likes\";\n\n            loginUrl =\n            'https://instagram.com/oauth/authorize' +\n                '?client_id=' + clientid +\n                '&redirect_uri=' +redirect  +                \n                '&response_type=code' +\n                '&scope=' + scope +\n                '&state=' + state;\n        // }\n        // else{\n            \n        //     // loginUrl =\n        //     // 'https://instagram.com/oauth/authorize' +\n        //     //     '?client_id=' + \"6d5802dccf124f559cf44f0cb03f2b76\" +\n        //     //     '&redirect_uri=' +\"http://meteor.nicolsondsouza.com/_oauth/instagram?close=close\"  +                \n        //     //     '&response_type=code' +\n        //     //     '&scope=' + config.scope +\n        //     //     '&state=' + state;\n        //     //     //'http://instagrampackage.meteor.com/_oauth/instagram?close=close';\n        //     loginUrl =\n        //     'https://instagram.com/oauth/authorize' +\n        //         '?client_id=' + config.clientId +\n        //         '&redirect_uri=' +url  +                \n        //         '&response_type=code' +\n        //         '&scope=' + config.scope +\n        //         '&state=' + state;\n        //         //'http://instagrampackage.meteor.com/_oauth/instagram?close=close';\n        // }\n    Oauth.initiateLogin(state, loginUrl, callback);\n};\n"]}